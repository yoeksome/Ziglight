###############################################################################
#                                                                             #
# IAR C/C++ Compiler V8.10.3.10338/W32 for 8051         08/Jun/2017  17:40:23 #
# Copyright 2004-2011 IAR Systems AB.                                         #
#                                                                             #
#    Core               =  plain                                              #
#    Code model         =  banked                                             #
#    Data model         =  large                                              #
#    Calling convention =  xdata reentrant                                    #
#    Constant location  =  data_rom                                           #
#    Dptr setup         =  1,16                                               #
#    Source file        =  E:\work\smartlight\ZigLight001\Projects\zstack\Sam #
#                          ples\ZigLightApp\Source\gizwits_protocol.c         #
#    Command line       =  -f E:\work\smartlight\ZigLight001\Projects\zstack\ #
#                          Samples\ZigLightApp\CC2530DB\..\..\..\Tools\CC2530 #
#                          DB\f8wCoord.cfg (-DCPU32MHZ -DROOT=__near_func     #
#                          -DMAC_CFG_APP_PENDING_QUEUE=TRUE                   #
#                          -DMAC_CFG_TX_DATA_MAX=5 -DMAC_CFG_TX_MAX=8         #
#                          -DMAC_CFG_RX_MAX=5 -DZDO_COORDINATOR -DRTR_NWK)    #
#                          -f E:\work\smartlight\ZigLight001\Projects\zstack\ #
#                          Samples\ZigLightApp\CC2530DB\..\..\..\Tools\CC2530 #
#                          DB\f8wConfig.cfg (-DZIGBEEPRO -DSECURE=0           #
#                          -DZG_SECURE_DYNAMIC=0 -DREFLECTOR                  #
#                          -DDEFAULT_CHANLIST=0x00000800                      #
#                          -DZDAPP_CONFIG_PAN_ID=0xFF00                       #
#                          -DNWK_START_DELAY=100 -DEXTENDED_JOINING_RANDOM_MA #
#                          SK=0x007F -DBEACON_REQUEST_DELAY=100               #
#                          -DBEACON_REQ_DELAY_MASK=0x00FF                     #
#                          -DLINK_STATUS_JITTER_MASK=0x007F                   #
#                          -DROUTE_EXPIRY_TIME=30 -DAPSC_ACK_WAIT_DURATION_PO #
#                          LLED=3000 -DNWK_INDIRECT_MSG_TIMEOUT=7             #
#                          -DMAX_RREQ_ENTRIES=8 -DAPSC_MAX_FRAME_RETRIES=3    #
#                          -DNWK_MAX_DATA_RETRIES=2                           #
#                          -DMAX_POLL_FAILURE_RETRIES=2 -DMAX_BCAST=9         #
#                          -DAPS_MAX_GROUPS=16 -DMAX_RTG_ENTRIES=40           #
#                          -DNWK_MAX_BINDING_ENTRIES=4                        #
#                          -DMAX_BINDING_CLUSTER_IDS=4 "-DDEFAULT_KEY={0x01,  #
#                          0x03, 0x05, 0x07, 0x09, 0x0B, 0x0D, 0x0F, 0x00,    #
#                          0x02, 0x04, 0x06, 0x08, 0x0A, 0x0C, 0x0D}"         #
#                          -DMAC_MAX_FRAME_SIZE=116                           #
#                          -DZDNWKMGR_MIN_TRANSMISSIONS=20 "-DCONST=const     #
#                          __code" -DGENERIC=__generic                        #
#                          -DRFD_RCVC_ALWAYS_ON=FALSE -DPOLL_RATE=1000        #
#                          -DQUEUED_POLL_RATE=100 -DRESPONSE_POLL_RATE=100)   #
#                          -DREJOIN_POLL_RATE=440 E:\work\smartlight\ZigLight #
#                          001\Projects\zstack\Samples\ZigLightApp\Source\giz #
#                          wits_protocol.c -D ZTOOL_P1 -D NV_RESTORE -D       #
#                          MWK_MANAGER -D xMT_TASK -D xMT_SYS_FUNC -D         #
#                          xMT_ZDO_FUNC -D xLCD_SUPPORTED=DEBUG -lC           #
#                          E:\work\smartlight\ZigLight001\Projects\zstack\Sam #
#                          ples\ZigLightApp\CC2530DB\CoordinatorEB\List\ -lA  #
#                          E:\work\smartlight\ZigLight001\Projects\zstack\Sam #
#                          ples\ZigLightApp\CC2530DB\CoordinatorEB\List\      #
#                          --diag_suppress Pe001,Pa010 -o                     #
#                          E:\work\smartlight\ZigLight001\Projects\zstack\Sam #
#                          ples\ZigLightApp\CC2530DB\CoordinatorEB\Obj\ -e    #
#                          --no_code_motion --debug --core=plain --dptr=16,1  #
#                          --data_model=large --code_model=banked             #
#                          --calling_convention=xdata_reentrant               #
#                          --place_constants=data_rom --nr_virtual_regs 16    #
#                          -I E:\work\smartlight\ZigLight001\Projects\zstack\ #
#                          Samples\ZigLightApp\CC2530DB\ -I                   #
#                          E:\work\smartlight\ZigLight001\Projects\zstack\Sam #
#                          ples\ZigLightApp\CC2530DB\..\Source\ -I            #
#                          E:\work\smartlight\ZigLight001\Projects\zstack\Sam #
#                          ples\ZigLightApp\CC2530DB\..\..\..\ZMain\TI2530DB\ #
#                           -I E:\work\smartlight\ZigLight001\Projects\zstack #
#                          \Samples\ZigLightApp\CC2530DB\..\..\..\..\..\Compo #
#                          nents\hal\include\ -I E:\work\smartlight\ZigLight0 #
#                          01\Projects\zstack\Samples\ZigLightApp\CC2530DB\.. #
#                          \..\..\..\..\Components\hal\target\CC2530EB\ -I    #
#                          E:\work\smartlight\ZigLight001\Projects\zstack\Sam #
#                          ples\ZigLightApp\CC2530DB\..\..\..\..\..\Component #
#                          s\mac\include\ -I E:\work\smartlight\ZigLight001\P #
#                          rojects\zstack\Samples\ZigLightApp\CC2530DB\..\..\ #
#                          ..\..\..\Components\mac\high_level\ -I             #
#                          E:\work\smartlight\ZigLight001\Projects\zstack\Sam #
#                          ples\ZigLightApp\CC2530DB\..\..\..\..\..\Component #
#                          s\mac\low_level\srf04\ -I                          #
#                          E:\work\smartlight\ZigLight001\Projects\zstack\Sam #
#                          ples\ZigLightApp\CC2530DB\..\..\..\..\..\Component #
#                          s\mac\low_level\srf04\single_chip\ -I              #
#                          E:\work\smartlight\ZigLight001\Projects\zstack\Sam #
#                          ples\ZigLightApp\CC2530DB\..\..\..\..\..\Component #
#                          s\mt\ -I E:\work\smartlight\ZigLight001\Projects\z #
#                          stack\Samples\ZigLightApp\CC2530DB\..\..\..\..\..\ #
#                          Components\osal\include\ -I                        #
#                          E:\work\smartlight\ZigLight001\Projects\zstack\Sam #
#                          ples\ZigLightApp\CC2530DB\..\..\..\..\..\Component #
#                          s\services\saddr\ -I E:\work\smartlight\ZigLight00 #
#                          1\Projects\zstack\Samples\ZigLightApp\CC2530DB\..\ #
#                          ..\..\..\..\Components\services\sdata\ -I          #
#                          E:\work\smartlight\ZigLight001\Projects\zstack\Sam #
#                          ples\ZigLightApp\CC2530DB\..\..\..\..\..\Component #
#                          s\stack\af\ -I E:\work\smartlight\ZigLight001\Proj #
#                          ects\zstack\Samples\ZigLightApp\CC2530DB\..\..\..\ #
#                          ..\..\Components\stack\nwk\ -I                     #
#                          E:\work\smartlight\ZigLight001\Projects\zstack\Sam #
#                          ples\ZigLightApp\CC2530DB\..\..\..\..\..\Component #
#                          s\stack\sapi\ -I E:\work\smartlight\ZigLight001\Pr #
#                          ojects\zstack\Samples\ZigLightApp\CC2530DB\..\..\. #
#                          .\..\..\Components\stack\sec\ -I                   #
#                          E:\work\smartlight\ZigLight001\Projects\zstack\Sam #
#                          ples\ZigLightApp\CC2530DB\..\..\..\..\..\Component #
#                          s\stack\sys\ -I E:\work\smartlight\ZigLight001\Pro #
#                          jects\zstack\Samples\ZigLightApp\CC2530DB\..\..\.. #
#                          \..\..\Components\stack\zdo\ -I                    #
#                          E:\work\smartlight\ZigLight001\Projects\zstack\Sam #
#                          ples\ZigLightApp\CC2530DB\..\..\..\..\..\Component #
#                          s\zmac\ -I E:\work\smartlight\ZigLight001\Projects #
#                          \zstack\Samples\ZigLightApp\CC2530DB\..\..\..\..\. #
#                          .\Components\zmac\f8w\ -Ohz --require_prototypes   #
#    List file          =  E:\work\smartlight\ZigLight001\Projects\zstack\Sam #
#                          ples\ZigLightApp\CC2530DB\CoordinatorEB\List\gizwi #
#                          ts_protocol.lst                                    #
#    Object file        =  E:\work\smartlight\ZigLight001\Projects\zstack\Sam #
#                          ples\ZigLightApp\CC2530DB\CoordinatorEB\Obj\gizwit #
#                          s_protocol.r51                                     #
#                                                                             #
#                                                                             #
###############################################################################

E:\work\smartlight\ZigLight001\Projects\zstack\Samples\ZigLightApp\Source\gizwits_protocol.c
      1          /**
      2          ************************************************************
      3          * @file         gizwits_protocol.c
      4          * @brief        GizwitsÂçèËÆÆÁõ∏ÂÖ≥Êñá‰ª∂ (SDK API Êé•Âè£ÂáΩÊï∞ÂÆö‰πâ)
      5          * @author       Gizwits
      6          * @date         2016-09-05
      7          * @version      V03010101
      8          * @copyright    Gizwits
      9          * 
     10          * @note         Êú∫Êô∫‰∫?Âè™‰∏∫Êô∫ËÉΩÁ°¨‰ª∂ËÄåÁîü
     11          *               Gizwits Smart Cloud  for Smart Products
     12          *               ÈìæÊé•|Â¢ûÂÄº÷µ|ÂºÄÊîæ|‰∏≠Á´ã|ÂÆâÂÖ®|Ëá™Êúâ|Ëá™Áî±|ÁîüÊÄ?*               www.gizwits.com
     13          *
     14          ***********************************************************/
     15          #include "gizwits_protocol.h"
     16          #include "List1.h"
     17          #include "mt_uart.h"
     18          #include "hal_led.h"
     19          extern uint8 MacToAppFlag ;//by liu
     20          extern uint8 AutoUpateMac ;//by liu
     21          extern uint8 NewMacUpate;//by liu
     22          extern Node *nodelist;// by liu
     23          extern dataPoint_t currentDataPoint;// by liu
     24          extern Node *deletnodelist;// by liu
     25          extern uint32 gizGetTimerCount(void);
     26          extern int8 gizwitsEventProcess(eventInfo_t *info, uint8 *data, uint32 len);
     27          uint32 ICACHE_FLASH_ATTR calculateDynamicBitPartLen(dataPointFlags_t *aFlag);
     28          /** ÂçèËÆÆÂÖ®Â±ÄÂèòÈáè **/

   \                                 In  segment XDATA_Z, align 1, keep-with-next
     29          gizwitsProtocol_t gizwitsProtocol;
   \                     gizwitsProtocol:
   \   000000                DS 246
   \   0000F6                REQUIRE __INIT_XDATA_Z
     30          
     31          /**@name ‰∏≤Âè£Êé•Êî∂ÁéØÂΩ¢ÁºìÂÜ≤Âå∫ÂÆûÁé?* @{
     32          */

   \                                 In  segment XDATA_Z, align 1, keep-with-next
     33          rb_t pRb;                                               ///< ÁéØÂΩ¢ÁºìÂÜ≤Âå∫ÁªìÊûÑ‰ΩìÂèòÈáè
   \                     pRb:
   \   000000                DS 8
   \   000008                REQUIRE __INIT_XDATA_Z

   \                                 In  segment XDATA_Z, align 1, keep-with-next
     34          static uint8 rbBuf[RB_MAX_LEN];                       ///< ÁéØÂΩ¢ÁºìÂÜ≤Âå∫Êï∞ÊçÆÁºìÂ≠òÂå∫
   \                     rbBuf:
   \   000000                DS 62
   \   00003E                REQUIRE __INIT_XDATA_Z
     35          
     36          static void rbCreate(rb_t* rb)
     37          {
     38              if(NULL == rb)
     39              {
     40                  GIZWITS_LOG("ERROR: input rb is NULL\n");
     41                  return;
     42              }
     43          
     44              rb->rbHead = rb->rbBuff;
     45              rb->rbTail = rb->rbBuff;
     46          }
     47          
     48          static void rbDelete(rb_t* rb)
     49          {
     50              if(NULL == rb)
     51              {
     52                  GIZWITS_LOG("ERROR: input rb is NULL\n");
     53                  return;
     54              }
     55          
     56              rb->rbBuff = NULL;
     57              rb->rbHead = NULL;
     58              rb->rbTail = NULL;
     59              rb->rbCapacity = 0;
     60          }
     61          #pragma optimize=none

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
     62          static int32 rbCapacity(rb_t *rb)
   \                     rbCapacity:
     63          {
   \   000000   74F6         MOV     A,#-0xa
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 10
   \   000005                ; Auto size: 0
   \   000005   8A82         MOV     DPL,R2
   \   000007   8B83         MOV     DPH,R3
     64              if(NULL == rb)
   \   000009   E582         MOV     A,DPL
   \   00000B   4583         ORL     A,DPH
   \   00000D   700A         JNZ     ??rbCapacity_0
     65              {
     66                  GIZWITS_LOG("ERROR: input rb is NULL\n");
     67                  return -1;
   \   00000F   7AFF         MOV     R2,#-0x1
   \   000011   7BFF         MOV     R3,#-0x1
   \   000013   7CFF         MOV     R4,#-0x1
   \   000015   7DFF         MOV     R5,#-0x1
   \   000017   800E         SJMP    ??rbCapacity_1
     68              }
     69          
     70              return rb->rbCapacity;
   \                     ??rbCapacity_0:
   \   000019   E0           MOVX    A,@DPTR
   \   00001A   F5..         MOV     ?V0 + 0,A
   \   00001C   A3           INC     DPTR
   \   00001D   E0           MOVX    A,@DPTR
   \   00001E   F5..         MOV     ?V0 + 1,A
   \   000020   AA..         MOV     R2,?V0 + 0
   \   000022   AB..         MOV     R3,?V0 + 1
   \   000024   E4           CLR     A
   \   000025   FC           MOV     R4,A
   \   000026   FD           MOV     R5,A
   \                     ??rbCapacity_1:
   \   000027   7F02         MOV     R7,#0x2
   \   000029   02....       LJMP    ?BANKED_LEAVE_XDATA
     71          }
     72          #pragma optimize=none

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
     73          static int32 rbCanRead(rb_t *rb)
   \                     rbCanRead:
     74          {
   \   000000   74F0         MOV     A,#-0x10
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 16
   \   000005                ; Auto size: 0
   \   000005   EA           MOV     A,R2
   \   000006   FE           MOV     R6,A
   \   000007   EB           MOV     A,R3
   \   000008   FF           MOV     R7,A
     75              if(NULL == rb)
   \   000009   EE           MOV     A,R6
   \   00000A   4F           ORL     A,R7
   \   00000B   700B         JNZ     ??rbCanRead_0
     76              {
     77                  GIZWITS_LOG("ERROR: input rb is NULL\n");
     78                  return -1;
   \   00000D   7AFF         MOV     R2,#-0x1
   \   00000F   7BFF         MOV     R3,#-0x1
   \   000011   7CFF         MOV     R4,#-0x1
   \   000013   7DFF         MOV     R5,#-0x1
   \   000015   02....       LJMP    ??rbCanRead_1 & 0xFFFF
     79              }
     80          
     81              if (rb->rbHead == rb->rbTail)
   \                     ??rbCanRead_0:
   \   000018   8E82         MOV     DPL,R6
   \   00001A   8F83         MOV     DPH,R7
   \   00001C   A3           INC     DPTR
   \   00001D   A3           INC     DPTR
   \   00001E   E0           MOVX    A,@DPTR
   \   00001F   F8           MOV     R0,A
   \   000020   A3           INC     DPTR
   \   000021   E0           MOVX    A,@DPTR
   \   000022   F9           MOV     R1,A
   \   000023   8E82         MOV     DPL,R6
   \   000025   8F83         MOV     DPH,R7
   \   000027   A3           INC     DPTR
   \   000028   A3           INC     DPTR
   \   000029   A3           INC     DPTR
   \   00002A   A3           INC     DPTR
   \   00002B   E0           MOVX    A,@DPTR
   \   00002C   68           XRL     A,R0
   \   00002D   7003         JNZ     ??rbCanRead_2
   \   00002F   A3           INC     DPTR
   \   000030   E0           MOVX    A,@DPTR
   \   000031   69           XRL     A,R1
   \                     ??rbCanRead_2:
   \   000032   700B         JNZ     ??rbCanRead_3
     82              {
     83                  return 0;
   \   000034   7A00         MOV     R2,#0x0
   \   000036   7B00         MOV     R3,#0x0
   \   000038   7C00         MOV     R4,#0x0
   \   00003A   7D00         MOV     R5,#0x0
   \   00003C   02....       LJMP    ??rbCanRead_1 & 0xFFFF
     84              }
     85          
     86              if (rb->rbHead < rb->rbTail)
   \                     ??rbCanRead_3:
   \   00003F   8E82         MOV     DPL,R6
   \   000041   8F83         MOV     DPH,R7
   \   000043   A3           INC     DPTR
   \   000044   A3           INC     DPTR
   \   000045   C082         PUSH    DPL
   \   000047   C083         PUSH    DPH
   \   000049   8E82         MOV     DPL,R6
   \   00004B   8F83         MOV     DPH,R7
   \   00004D   A3           INC     DPTR
   \   00004E   A3           INC     DPTR
   \   00004F   A3           INC     DPTR
   \   000050   A3           INC     DPTR
   \   000051   E0           MOVX    A,@DPTR
   \   000052   F8           MOV     R0,A
   \   000053   A3           INC     DPTR
   \   000054   E0           MOVX    A,@DPTR
   \   000055   F9           MOV     R1,A
   \   000056   D083         POP     DPH
   \   000058   D082         POP     DPL
   \   00005A   C3           CLR     C
   \   00005B   E0           MOVX    A,@DPTR
   \   00005C   98           SUBB    A,R0
   \   00005D   A3           INC     DPTR
   \   00005E   E0           MOVX    A,@DPTR
   \   00005F   99           SUBB    A,R1
   \   000060   502B         JNC     ??rbCanRead_4
     87              {
     88                  return rb->rbTail - rb->rbHead;
   \   000062   8E82         MOV     DPL,R6
   \   000064   8F83         MOV     DPH,R7
   \   000066   A3           INC     DPTR
   \   000067   A3           INC     DPTR
   \   000068   A3           INC     DPTR
   \   000069   A3           INC     DPTR
   \   00006A   C082         PUSH    DPL
   \   00006C   C083         PUSH    DPH
   \   00006E   8E82         MOV     DPL,R6
   \   000070   8F83         MOV     DPH,R7
   \   000072   A3           INC     DPTR
   \   000073   A3           INC     DPTR
   \   000074   E0           MOVX    A,@DPTR
   \   000075   F8           MOV     R0,A
   \   000076   A3           INC     DPTR
   \   000077   E0           MOVX    A,@DPTR
   \   000078   F9           MOV     R1,A
   \   000079   D083         POP     DPH
   \   00007B   D082         POP     DPL
   \   00007D   E0           MOVX    A,@DPTR
   \   00007E   C3           CLR     C
   \   00007F   98           SUBB    A,R0
   \   000080   FA           MOV     R2,A
   \   000081   A3           INC     DPTR
   \   000082   E0           MOVX    A,@DPTR
   \   000083   99           SUBB    A,R1
   \   000084   FB           MOV     R3,A
   \   000085   EB           MOV     A,R3
   \   000086   33           RLC     A
   \   000087   95E0         SUBB    A,0xE0 /* A   */
   \   000089   FC           MOV     R4,A
   \   00008A   FD           MOV     R5,A
   \   00008B   804C         SJMP    ??rbCanRead_1
     89              }
     90          
     91              return rbCapacity(rb) - (rb->rbHead - rb->rbTail);
   \                     ??rbCanRead_4:
   \   00008D                ; Setup parameters for call to function rbCapacity
   \   00008D   EE           MOV     A,R6
   \   00008E   FA           MOV     R2,A
   \   00008F   EF           MOV     A,R7
   \   000090   FB           MOV     R3,A
   \   000091   12....       LCALL   ??rbCapacity?relay
   \   000094   8A..         MOV     ?V0 + 4,R2
   \   000096   8B..         MOV     ?V0 + 5,R3
   \   000098   8C..         MOV     ?V0 + 6,R4
   \   00009A   8D..         MOV     ?V0 + 7,R5
   \   00009C   8E82         MOV     DPL,R6
   \   00009E   8F83         MOV     DPH,R7
   \   0000A0   A3           INC     DPTR
   \   0000A1   A3           INC     DPTR
   \   0000A2   C082         PUSH    DPL
   \   0000A4   C083         PUSH    DPH
   \   0000A6   8E82         MOV     DPL,R6
   \   0000A8   8F83         MOV     DPH,R7
   \   0000AA   A3           INC     DPTR
   \   0000AB   A3           INC     DPTR
   \   0000AC   A3           INC     DPTR
   \   0000AD   A3           INC     DPTR
   \   0000AE   E0           MOVX    A,@DPTR
   \   0000AF   F8           MOV     R0,A
   \   0000B0   A3           INC     DPTR
   \   0000B1   E0           MOVX    A,@DPTR
   \   0000B2   F9           MOV     R1,A
   \   0000B3   D083         POP     DPH
   \   0000B5   D082         POP     DPL
   \   0000B7   E0           MOVX    A,@DPTR
   \   0000B8   C3           CLR     C
   \   0000B9   98           SUBB    A,R0
   \   0000BA   F5..         MOV     ?V0 + 0,A
   \   0000BC   A3           INC     DPTR
   \   0000BD   E0           MOVX    A,@DPTR
   \   0000BE   99           SUBB    A,R1
   \   0000BF   F5..         MOV     ?V0 + 1,A
   \   0000C1   E5..         MOV     A,?V0 + 1
   \   0000C3   33           RLC     A
   \   0000C4   95E0         SUBB    A,0xE0 /* A   */
   \   0000C6   F5..         MOV     ?V0 + 2,A
   \   0000C8   F5..         MOV     ?V0 + 3,A
   \   0000CA   78..         MOV     R0,#?V0 + 4
   \   0000CC   79..         MOV     R1,#?V0 + 0
   \   0000CE   12....       LCALL   ?L_SUB
   \   0000D1   AA..         MOV     R2,?V0 + 4
   \   0000D3   AB..         MOV     R3,?V0 + 5
   \   0000D5   AC..         MOV     R4,?V0 + 6
   \   0000D7   AD..         MOV     R5,?V0 + 7
   \                     ??rbCanRead_1:
   \   0000D9   7F08         MOV     R7,#0x8
   \   0000DB   02....       LJMP    ?BANKED_LEAVE_XDATA
     92          }
     93          #pragma optimize=none

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
     94          static int32 rbCanWrite(rb_t *rb)
   \                     rbCanWrite:
     95          {
   \   000000   74F0         MOV     A,#-0x10
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 16
   \   000005                ; Auto size: 0
   \   000005   EA           MOV     A,R2
   \   000006   FE           MOV     R6,A
   \   000007   EB           MOV     A,R3
   \   000008   FF           MOV     R7,A
     96              if(NULL == rb)
   \   000009   EE           MOV     A,R6
   \   00000A   4F           ORL     A,R7
   \   00000B   700A         JNZ     ??rbCanWrite_0
     97              {
     98                  GIZWITS_LOG("ERROR: input rb is NULL\n");
     99                  return -1;
   \   00000D   7AFF         MOV     R2,#-0x1
   \   00000F   7BFF         MOV     R3,#-0x1
   \   000011   7CFF         MOV     R4,#-0x1
   \   000013   7DFF         MOV     R5,#-0x1
   \   000015   802D         SJMP    ??rbCanWrite_1
    100              }
    101          
    102              return rbCapacity(rb) - rbCanRead(rb);
   \                     ??rbCanWrite_0:
   \   000017                ; Setup parameters for call to function rbCapacity
   \   000017   EE           MOV     A,R6
   \   000018   FA           MOV     R2,A
   \   000019   EF           MOV     A,R7
   \   00001A   FB           MOV     R3,A
   \   00001B   12....       LCALL   ??rbCapacity?relay
   \   00001E   8A..         MOV     ?V0 + 0,R2
   \   000020   8B..         MOV     ?V0 + 1,R3
   \   000022   8C..         MOV     ?V0 + 2,R4
   \   000024   8D..         MOV     ?V0 + 3,R5
   \   000026                ; Setup parameters for call to function rbCanRead
   \   000026   EE           MOV     A,R6
   \   000027   FA           MOV     R2,A
   \   000028   EF           MOV     A,R7
   \   000029   FB           MOV     R3,A
   \   00002A   12....       LCALL   ??rbCanRead?relay
   \   00002D   8A..         MOV     ?V0 + 4,R2
   \   00002F   8B..         MOV     ?V0 + 5,R3
   \   000031   8C..         MOV     ?V0 + 6,R4
   \   000033   8D..         MOV     ?V0 + 7,R5
   \   000035   78..         MOV     R0,#?V0 + 0
   \   000037   79..         MOV     R1,#?V0 + 4
   \   000039   12....       LCALL   ?L_SUB
   \   00003C   AA..         MOV     R2,?V0 + 0
   \   00003E   AB..         MOV     R3,?V0 + 1
   \   000040   AC..         MOV     R4,?V0 + 2
   \   000042   AD..         MOV     R5,?V0 + 3
   \                     ??rbCanWrite_1:
   \   000044   7F08         MOV     R7,#0x8
   \   000046   02....       LJMP    ?BANKED_LEAVE_XDATA
    103          }
    104          

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    105          static int32 rbRead(rb_t *rb, void *data, uint16 count)
   \                     rbRead:
    106          {
   \   000000   74E8         MOV     A,#-0x18
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 24
   \   000005                ; Auto size: 4
   \   000005   74FC         MOV     A,#-0x4
   \   000007   12....       LCALL   ?ALLOC_XSTACK8
   \   00000A   85..82       MOV     DPL,?XSP + 0
   \   00000D   85..83       MOV     DPH,?XSP + 1
   \   000010   12....       LCALL   ?Subroutine11 & 0xFFFF
   \                     ??CrossCallReturnLabel_138:
   \   000013   7402         MOV     A,#0x2
   \   000015   12....       LCALL   ?XSTACK_DISP0_8
   \   000018   EC           MOV     A,R4
   \   000019   F0           MOVX    @DPTR,A
   \   00001A   A3           INC     DPTR
   \   00001B   ED           MOV     A,R5
   \   00001C   F0           MOVX    @DPTR,A
   \   00001D   741C         MOV     A,#0x1c
   \   00001F   12....       LCALL   ?XSTACK_DISP0_8
   \   000022   12....       LCALL   ?Subroutine58 & 0xFFFF
    107              int copySz = 0;
    108          
    109              if(NULL == rb)
   \                     ??CrossCallReturnLabel_93:
   \   000025   85..82       MOV     DPL,?XSP + 0
   \   000028   85..83       MOV     DPH,?XSP + 1
   \   00002B   12....       LCALL   ??Subroutine79_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_194:
   \   00002E   700B         JNZ     ??rbRead_0
    110              {
    111                  GIZWITS_LOG("ERROR: input rb is NULL\n");
    112                  return -1;
   \                     ??rbRead_1:
   \   000030   7AFF         MOV     R2,#-0x1
   \   000032   7BFF         MOV     R3,#-0x1
   \   000034   7CFF         MOV     R4,#-0x1
   \   000036   7DFF         MOV     R5,#-0x1
   \   000038   02....       LJMP    ??rbRead_2 & 0xFFFF
    113              }
    114          
    115              if(NULL == data)
   \                     ??rbRead_0:
   \   00003B   7402         MOV     A,#0x2
   \   00003D   12....       LCALL   ?XSTACK_DISP0_8
   \   000040   12....       LCALL   ??Subroutine79_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_195:
   \   000043   60EB         JZ      ??rbRead_1
    116              {
    117                  GIZWITS_LOG("ERROR: input data is NULL\n");
    118                  return -1;
    119              }
    120          
    121              if (rb->rbHead < rb->rbTail)
   \   000045   12....       LCALL   ?Subroutine37 & 0xFFFF
   \                     ??CrossCallReturnLabel_57:
   \   000048   C082         PUSH    DPL
   \   00004A   C083         PUSH    DPH
   \   00004C   F583         MOV     DPH,A
   \   00004E   8882         MOV     DPL,R0
   \   000050   12....       LCALL   ?Subroutine60 & 0xFFFF
   \                     ??CrossCallReturnLabel_205:
   \   000053   D083         POP     DPH
   \   000055   D082         POP     DPL
   \   000057   C3           CLR     C
   \   000058   E0           MOVX    A,@DPTR
   \   000059   98           SUBB    A,R0
   \   00005A   A3           INC     DPTR
   \   00005B   E0           MOVX    A,@DPTR
   \   00005C   99           SUBB    A,R1
   \   00005D   5066         JNC     ??rbRead_3
    122              {
    123                  copySz = min(count, rbCanRead(rb));
   \   00005F   85....       MOV     ?V0 + 4,?V0 + 0
   \   000062   85....       MOV     ?V0 + 5,?V0 + 1
   \   000065   E4           CLR     A
   \   000066   F5..         MOV     ?V0 + 6,A
   \   000068   F5..         MOV     ?V0 + 7,A
   \   00006A                ; Setup parameters for call to function rbCanRead
   \   00006A   12....       LCALL   ?Subroutine39 & 0xFFFF
   \                     ??CrossCallReturnLabel_61:
   \   00006D   8A..         MOV     ?V0 + 8,R2
   \   00006F   8B..         MOV     ?V0 + 9,R3
   \   000071   8C..         MOV     ?V0 + 10,R4
   \   000073   8D..         MOV     ?V0 + 11,R5
   \   000075   78..         MOV     R0,#?V0 + 8
   \   000077   79..         MOV     R1,#?V0 + 4
   \   000079   12....       LCALL   ?SL_GT
   \   00007C   4007         JC      ??rbRead_4
   \   00007E                ; Setup parameters for call to function rbCanRead
   \   00007E   12....       LCALL   ?Subroutine39 & 0xFFFF
   \                     ??CrossCallReturnLabel_62:
   \   000081   8A..         MOV     ?V0 + 0,R2
   \   000083   8B..         MOV     ?V0 + 1,R3
   \                     ??rbRead_4:
   \   000085   AE..         MOV     R6,?V0 + 0
   \   000087   AF..         MOV     R7,?V0 + 1
    124                  osal_memcpy(data, rb->rbHead, copySz);
   \   000089   12....       LCALL   ?Subroutine28 & 0xFFFF
   \                     ??CrossCallReturnLabel_36:
   \   00008C   F5..         MOV     ?V0 + 0,A
   \   00008E   A3           INC     DPTR
   \   00008F   E0           MOVX    A,@DPTR
   \   000090   85....       MOV     ?V0 + 4,?V0 + 0
   \   000093   F5..         MOV     ?V0 + 5,A
   \   000095   78..         MOV     R0,#?V0 + 4
   \   000097   12....       LCALL   ?PUSH_XSTACK_I_THREE
   \   00009A   EE           MOV     A,R6
   \   00009B   FC           MOV     R4,A
   \   00009C   EF           MOV     A,R7
   \   00009D   FD           MOV     R5,A
   \   00009E   7405         MOV     A,#0x5
   \   0000A0   12....       LCALL   ?XSTACK_DISP0_8
   \   0000A3   12....       LCALL   ?Subroutine38 & 0xFFFF
   \                     ??CrossCallReturnLabel_59:
   \   0000A6   12....       LCALL   ?DEALLOC_XSTACK8
    125                  rb->rbHead += copySz;
   \   0000A9   85..82       MOV     DPL,?V0 + 2
   \   0000AC   85..83       MOV     DPH,?V0 + 3
   \   0000AF   E0           MOVX    A,@DPTR
   \   0000B0   2E           ADD     A,R6
   \   0000B1   F8           MOV     R0,A
   \   0000B2   A3           INC     DPTR
   \   0000B3   E0           MOVX    A,@DPTR
   \   0000B4   3F           ADDC    A,R7
   \   0000B5   F9           MOV     R1,A
   \   0000B6   85..82       MOV     DPL,?V0 + 2
   \   0000B9   85..83       MOV     DPH,?V0 + 3
   \   0000BC   12....       LCALL   ??Subroutine80_0 & 0xFFFF
    126                  return copySz;
   \                     ??CrossCallReturnLabel_208:
   \   0000BF   EE           MOV     A,R6
   \   0000C0   FA           MOV     R2,A
   \   0000C1   EF           MOV     A,R7
   \   0000C2   02....       LJMP    ??rbRead_5 & 0xFFFF
    127              }
    128              else
    129              {
    130                  if (count < rbCapacity(rb)-(rb->rbHead - rb->rbBuff))
   \                     ??rbRead_3:
   \   0000C5                ; Setup parameters for call to function rbCapacity
   \   0000C5   12....       LCALL   ?Subroutine40 & 0xFFFF
   \                     ??CrossCallReturnLabel_63:
   \   0000C8   8A..         MOV     ?V0 + 12,R2
   \   0000CA   8B..         MOV     ?V0 + 13,R3
   \   0000CC   8C..         MOV     ?V0 + 14,R4
   \   0000CE   8D..         MOV     ?V0 + 15,R5
   \   0000D0   85....       MOV     ?V0 + 4,?V0 + 0
   \   0000D3   85....       MOV     ?V0 + 5,?V0 + 1
   \   0000D6   E4           CLR     A
   \   0000D7   F5..         MOV     ?V0 + 6,A
   \   0000D9   F5..         MOV     ?V0 + 7,A
   \   0000DB   12....       LCALL   ?Subroutine37 & 0xFFFF
   \                     ??CrossCallReturnLabel_58:
   \   0000DE   C082         PUSH    DPL
   \   0000E0   C083         PUSH    DPH
   \   0000E2   F583         MOV     DPH,A
   \   0000E4   8882         MOV     DPL,R0
   \   0000E6   A3           INC     DPTR
   \   0000E7   A3           INC     DPTR
   \   0000E8   12....       LCALL   ?Subroutine60 & 0xFFFF
   \                     ??CrossCallReturnLabel_206:
   \   0000EB   D083         POP     DPH
   \   0000ED   D082         POP     DPL
   \   0000EF   E0           MOVX    A,@DPTR
   \   0000F0   C3           CLR     C
   \   0000F1   98           SUBB    A,R0
   \   0000F2   F5..         MOV     ?V0 + 8,A
   \   0000F4   A3           INC     DPTR
   \   0000F5   E0           MOVX    A,@DPTR
   \   0000F6   99           SUBB    A,R1
   \   0000F7   F5..         MOV     ?V0 + 9,A
   \   0000F9   33           RLC     A
   \   0000FA   95E0         SUBB    A,0xE0 /* A   */
   \   0000FC   F5..         MOV     ?V0 + 10,A
   \   0000FE   F5..         MOV     ?V0 + 11,A
   \   000100   78..         MOV     R0,#?V0 + 12
   \   000102   79..         MOV     R1,#?V0 + 8
   \   000104   12....       LCALL   ?L_SUB
   \   000107   78..         MOV     R0,#?V0 + 12
   \   000109   79..         MOV     R1,#?V0 + 4
   \   00010B   12....       LCALL   ?SL_GT
   \   00010E   5003         JNC     $+5
   \   000110   02....       LJMP    ??rbRead_4 & 0xFFFF
    131                  {
    132                      copySz = count;
    133                      osal_memcpy(data, rb->rbHead, copySz);
    134                      rb->rbHead += copySz;
    135                      return copySz;
    136                  }
    137                  else
    138                  {
    139                      copySz = rbCapacity(rb) - (rb->rbHead - rb->rbBuff);
   \   000113                ; Setup parameters for call to function rbCapacity
   \   000113   12....       LCALL   ?Subroutine40 & 0xFFFF
   \                     ??CrossCallReturnLabel_64:
   \   000116   8A..         MOV     ?V0 + 4,R2
   \   000118   8B..         MOV     ?V0 + 5,R3
   \   00011A   12....       LCALL   ?Subroutine28 & 0xFFFF
   \                     ??CrossCallReturnLabel_37:
   \   00011D   F8           MOV     R0,A
   \   00011E   A3           INC     DPTR
   \   00011F   E0           MOVX    A,@DPTR
   \   000120   F9           MOV     R1,A
   \   000121   85..82       MOV     DPL,?XSP + 0
   \   000124   85..83       MOV     DPH,?XSP + 1
   \   000127   E0           MOVX    A,@DPTR
   \   000128   2406         ADD     A,#0x6
   \   00012A   F5..         MOV     ?V0 + 8,A
   \   00012C   A3           INC     DPTR
   \   00012D   E0           MOVX    A,@DPTR
   \   00012E   3400         ADDC    A,#0x0
   \   000130   F5..         MOV     ?V0 + 9,A
   \   000132   85..82       MOV     DPL,?V0 + 8
   \   000135   F583         MOV     DPH,A
   \   000137   12....       LCALL   ??Subroutine78_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_186:
   \   00013A   E8           MOV     A,R0
   \   00013B   C3           CLR     C
   \   00013C   9A           SUBB    A,R2
   \   00013D   FA           MOV     R2,A
   \   00013E   E9           MOV     A,R1
   \   00013F   9B           SUBB    A,R3
   \   000140   FB           MOV     R3,A
   \   000141   E5..         MOV     A,?V0 + 4
   \   000143   C3           CLR     C
   \   000144   9A           SUBB    A,R2
   \   000145   FE           MOV     R6,A
   \   000146   E5..         MOV     A,?V0 + 5
   \   000148   9B           SUBB    A,R3
   \   000149   FF           MOV     R7,A
    140                      osal_memcpy(data, rb->rbHead, copySz);
   \   00014A                ; Setup parameters for call to function osal_memcpy
   \   00014A   88..         MOV     ?V0 + 4,R0
   \   00014C   89..         MOV     ?V0 + 5,R1
   \   00014E   78..         MOV     R0,#?V0 + 4
   \   000150   12....       LCALL   ?PUSH_XSTACK_I_THREE
   \   000153   EE           MOV     A,R6
   \   000154   FC           MOV     R4,A
   \   000155   EF           MOV     A,R7
   \   000156   FD           MOV     R5,A
   \   000157   7405         MOV     A,#0x5
   \   000159   12....       LCALL   ?XSTACK_DISP0_8
   \   00015C   12....       LCALL   ?Subroutine38 & 0xFFFF
   \                     ??CrossCallReturnLabel_60:
   \   00015F   12....       LCALL   ?DEALLOC_XSTACK8
    141                      rb->rbHead = rb->rbBuff;
   \   000162   85..82       MOV     DPL,?V0 + 8
   \   000165   85..83       MOV     DPH,?V0 + 9
   \   000168   12....       LCALL   ??Subroutine77_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_201:
   \   00016B   85..82       MOV     DPL,?V0 + 2
   \   00016E   85..83       MOV     DPH,?V0 + 3
   \   000171   12....       LCALL   ??Subroutine80_0 & 0xFFFF
    142                      copySz += rbRead(rb, (char*)data+copySz, count-copySz);
    143                      return copySz;
   \                     ??CrossCallReturnLabel_209:
   \   000174                ; Setup parameters for call to function rbRead
   \   000174   E5..         MOV     A,?V0 + 0
   \   000176   C3           CLR     C
   \   000177   9E           SUBB    A,R6
   \   000178   F5..         MOV     ?V0 + 0,A
   \   00017A   E5..         MOV     A,?V0 + 1
   \   00017C   9F           SUBB    A,R7
   \   00017D   F5..         MOV     ?V0 + 1,A
   \   00017F   78..         MOV     R0,#?V0 + 0
   \   000181   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000184   7404         MOV     A,#0x4
   \   000186   12....       LCALL   ?XSTACK_DISP0_8
   \   000189   E0           MOVX    A,@DPTR
   \   00018A   2E           ADD     A,R6
   \   00018B   FC           MOV     R4,A
   \   00018C   A3           INC     DPTR
   \   00018D   E0           MOVX    A,@DPTR
   \   00018E   3F           ADDC    A,R7
   \   00018F   FD           MOV     R5,A
   \   000190   7402         MOV     A,#0x2
   \   000192   12....       LCALL   ?XSTACK_DISP0_8
   \   000195   12....       LCALL   ??Subroutine78_0 & 0xFFFF
    144                  }
    145              }
   \                     ??CrossCallReturnLabel_187:
   \   000198   12....       LCALL   ??rbRead?relay
   \   00019B   7402         MOV     A,#0x2
   \   00019D   12....       LCALL   ?DEALLOC_XSTACK8
   \   0001A0   8A..         MOV     ?V0 + 0,R2
   \   0001A2   8B..         MOV     ?V0 + 1,R3
   \   0001A4   EE           MOV     A,R6
   \   0001A5   25..         ADD     A,?V0 + 0
   \   0001A7   FA           MOV     R2,A
   \   0001A8   EF           MOV     A,R7
   \   0001A9   35..         ADDC    A,?V0 + 1
   \                     ??rbRead_5:
   \   0001AB   FB           MOV     R3,A
   \   0001AC   33           RLC     A
   \   0001AD   95E0         SUBB    A,0xE0 /* A   */
   \   0001AF   FC           MOV     R4,A
   \   0001B0   FD           MOV     R5,A
   \                     ??rbRead_2:
   \   0001B1   7404         MOV     A,#0x4
   \   0001B3                REQUIRE ?Subroutine0
   \   0001B3                ; // Fall through to label ?Subroutine0
    146          }

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine0:
   \   000000   12....       LCALL   ?DEALLOC_XSTACK8
   \   000003   7F10         MOV     R7,#0x10
   \   000005   02....       LJMP    ?BANKED_LEAVE_XDATA

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine40:
   \   000000   12....       LCALL   ?Subroutine59 & 0xFFFF
   \                     ??CrossCallReturnLabel_193:
   \   000003   12....       LCALL   ??rbCapacity?relay
   \   000006   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine39:
   \   000000   12....       LCALL   ?Subroutine59 & 0xFFFF
   \                     ??CrossCallReturnLabel_192:
   \   000003   12....       LCALL   ??rbCanRead?relay
   \   000006   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine38:
   \   000000   12....       LCALL   ??Subroutine78_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_190:
   \   000003   12....       LCALL   ??osal_memcpy?relay
   \   000006   7403         MOV     A,#0x3
   \   000008   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine37:
   \   000000   85..82       MOV     DPL,?XSP + 0
   \   000003   85..83       MOV     DPH,?XSP + 1
   \   000006   E0           MOVX    A,@DPTR
   \   000007   F8           MOV     R0,A
   \   000008   A3           INC     DPTR
   \   000009   E0           MOVX    A,@DPTR
   \   00000A   F583         MOV     DPH,A
   \   00000C   8882         MOV     DPL,R0
   \   00000E   A3           INC     DPTR
   \   00000F   A3           INC     DPTR
   \   000010   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine28:
   \   000000   85..82       MOV     DPL,?XSP + 0
   \   000003   85..83       MOV     DPH,?XSP + 1
   \   000006   E0           MOVX    A,@DPTR
   \   000007   2402         ADD     A,#0x2
   \   000009   F5..         MOV     ?V0 + 2,A
   \   00000B   A3           INC     DPTR
   \   00000C   E0           MOVX    A,@DPTR
   \   00000D   3400         ADDC    A,#0x0
   \   00000F   F5..         MOV     ?V0 + 3,A
   \   000011                ; Setup parameters for call to function osal_memcpy
   \   000011   85..82       MOV     DPL,?V0 + 2
   \   000014   F583         MOV     DPH,A
   \   000016   E0           MOVX    A,@DPTR
   \   000017   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine11:
   \   000000   EA           MOV     A,R2
   \   000001                REQUIRE ??Subroutine70_0
   \   000001                ; // Fall through to label ??Subroutine70_0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine70_0:
   \   000000   F0           MOVX    @DPTR,A
   \   000001   A3           INC     DPTR
   \   000002   EB           MOV     A,R3
   \   000003   F0           MOVX    @DPTR,A
   \   000004   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine60:
   \   000000   A3           INC     DPTR
   \   000001   A3           INC     DPTR
   \   000002   A3           INC     DPTR
   \   000003   A3           INC     DPTR
   \   000004                REQUIRE ??Subroutine77_0
   \   000004                ; // Fall through to label ??Subroutine77_0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine77_0:
   \   000000   E0           MOVX    A,@DPTR
   \   000001   F8           MOV     R0,A
   \   000002   A3           INC     DPTR
   \   000003   E0           MOVX    A,@DPTR
   \   000004   F9           MOV     R1,A
   \   000005   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine59:
   \   000000   85..82       MOV     DPL,?XSP + 0
   \   000003   85..83       MOV     DPH,?XSP + 1
   \   000006                REQUIRE ??Subroutine78_0
   \   000006                ; // Fall through to label ??Subroutine78_0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine78_0:
   \   000000   E0           MOVX    A,@DPTR
   \   000001   FA           MOV     R2,A
   \   000002   A3           INC     DPTR
   \   000003   E0           MOVX    A,@DPTR
   \   000004   FB           MOV     R3,A
   \   000005   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine58:
   \   000000   E0           MOVX    A,@DPTR
   \   000001   F5..         MOV     ?V0 + 0,A
   \   000003   A3           INC     DPTR
   \   000004   E0           MOVX    A,@DPTR
   \   000005   F5..         MOV     ?V0 + 1,A
   \   000007   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine79_0:
   \   000000   12....       LCALL   ??Subroutine77_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_207:
   \   000003   E8           MOV     A,R0
   \   000004   49           ORL     A,R1
   \   000005   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine80_0:
   \   000000   E8           MOV     A,R0
   \   000001   F0           MOVX    @DPTR,A
   \   000002   A3           INC     DPTR
   \   000003   E9           MOV     A,R1
   \   000004   F0           MOVX    @DPTR,A
   \   000005   22           RET
    147          #pragma optimize=none

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    148          static int32 rbWrite(rb_t *rb, const void *data, uint16 count)
   \                     rbWrite:
    149          {
   \   000000   74EA         MOV     A,#-0x16
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 22
   \   000005                ; Auto size: 0
   \   000005   EA           MOV     A,R2
   \   000006   FE           MOV     R6,A
   \   000007   EB           MOV     A,R3
   \   000008   FF           MOV     R7,A
   \   000009   8C..         MOV     ?V0 + 12,R4
   \   00000B   8D..         MOV     ?V0 + 13,R5
   \   00000D   7416         MOV     A,#0x16
   \   00000F   12....       LCALL   ?XSTACK_DISP0_8
   \   000012   E0           MOVX    A,@DPTR
   \   000013   F5..         MOV     ?V0 + 0,A
   \   000015   A3           INC     DPTR
   \   000016   E0           MOVX    A,@DPTR
   \   000017   F5..         MOV     ?V0 + 1,A
    150              int tailAvailSz = 0;
   \   000019   75..00       MOV     ?V0 + 2,#0x0
   \   00001C   75..00       MOV     ?V0 + 3,#0x0
    151          
    152              if(NULL == rb)
   \   00001F   EE           MOV     A,R6
   \   000020   4F           ORL     A,R7
   \   000021   700B         JNZ     ??rbWrite_0
    153              {
    154                  GIZWITS_LOG("ERROR: rb is empty \n");
    155                  return -1;
   \   000023   7AFF         MOV     R2,#-0x1
   \   000025   7BFF         MOV     R3,#-0x1
   \   000027   7CFF         MOV     R4,#-0x1
   \   000029   7DFF         MOV     R5,#-0x1
   \   00002B   02....       LJMP    ??rbWrite_1 & 0xFFFF
    156              }
    157          
    158              if(NULL == data)
   \                     ??rbWrite_0:
   \   00002E   E5..         MOV     A,?V0 + 12
   \   000030   45..         ORL     A,?V0 + 13
   \   000032   700B         JNZ     ??rbWrite_2
    159              {
    160                  GIZWITS_LOG("ERROR: data is empty \n");
    161                  return -1;
   \   000034   7AFF         MOV     R2,#-0x1
   \   000036   7BFF         MOV     R3,#-0x1
   \   000038   7CFF         MOV     R4,#-0x1
   \   00003A   7DFF         MOV     R5,#-0x1
   \   00003C   02....       LJMP    ??rbWrite_1 & 0xFFFF
    162              }
    163          
    164              if (count >= rbCanWrite(rb))
   \                     ??rbWrite_2:
   \   00003F   85....       MOV     ?V0 + 4,?V0 + 0
   \   000042   85....       MOV     ?V0 + 5,?V0 + 1
   \   000045   E4           CLR     A
   \   000046   F5..         MOV     ?V0 + 6,A
   \   000048   F5..         MOV     ?V0 + 7,A
   \   00004A                ; Setup parameters for call to function rbCanWrite
   \   00004A   EE           MOV     A,R6
   \   00004B   FA           MOV     R2,A
   \   00004C   EF           MOV     A,R7
   \   00004D   FB           MOV     R3,A
   \   00004E   12....       LCALL   ??rbCanWrite?relay
   \   000051   8A..         MOV     ?V0 + 8,R2
   \   000053   8B..         MOV     ?V0 + 9,R3
   \   000055   8C..         MOV     ?V0 + 10,R4
   \   000057   8D..         MOV     ?V0 + 11,R5
   \   000059   78..         MOV     R0,#?V0 + 8
   \   00005B   79..         MOV     R1,#?V0 + 4
   \   00005D   12....       LCALL   ?SL_GT
   \   000060   400B         JC      ??rbWrite_3
    165              {
    166                  GIZWITS_LOG("ERROR: no memory %d \n", rbCanWrite(rb));
    167                  return -1;
   \   000062   7AFF         MOV     R2,#-0x1
   \   000064   7BFF         MOV     R3,#-0x1
   \   000066   7CFF         MOV     R4,#-0x1
   \   000068   7DFF         MOV     R5,#-0x1
   \   00006A   02....       LJMP    ??rbWrite_1 & 0xFFFF
    168              }
    169          
    170              if (rb->rbHead <= rb->rbTail)
   \                     ??rbWrite_3:
   \   00006D   8E82         MOV     DPL,R6
   \   00006F   8F83         MOV     DPH,R7
   \   000071   A3           INC     DPTR
   \   000072   A3           INC     DPTR
   \   000073   A3           INC     DPTR
   \   000074   A3           INC     DPTR
   \   000075   C082         PUSH    DPL
   \   000077   C083         PUSH    DPH
   \   000079   8E82         MOV     DPL,R6
   \   00007B   8F83         MOV     DPH,R7
   \   00007D   A3           INC     DPTR
   \   00007E   A3           INC     DPTR
   \   00007F   E0           MOVX    A,@DPTR
   \   000080   F8           MOV     R0,A
   \   000081   A3           INC     DPTR
   \   000082   E0           MOVX    A,@DPTR
   \   000083   F9           MOV     R1,A
   \   000084   D083         POP     DPH
   \   000086   D082         POP     DPL
   \   000088   C3           CLR     C
   \   000089   E0           MOVX    A,@DPTR
   \   00008A   98           SUBB    A,R0
   \   00008B   A3           INC     DPTR
   \   00008C   E0           MOVX    A,@DPTR
   \   00008D   99           SUBB    A,R1
   \   00008E   5003         JNC     $+5
   \   000090   02....       LJMP    ??rbWrite_4 & 0xFFFF
    171              {
    172                  tailAvailSz = rbCapacity(rb) - (rb->rbTail - rb->rbBuff);
   \   000093                ; Setup parameters for call to function rbCapacity
   \   000093   EE           MOV     A,R6
   \   000094   FA           MOV     R2,A
   \   000095   EF           MOV     A,R7
   \   000096   FB           MOV     R3,A
   \   000097   12....       LCALL   ??rbCapacity?relay
   \   00009A   8A..         MOV     ?V0 + 4,R2
   \   00009C   8B..         MOV     ?V0 + 5,R3
   \   00009E   8C..         MOV     ?V0 + 6,R4
   \   0000A0   8D..         MOV     ?V0 + 7,R5
   \   0000A2   8E82         MOV     DPL,R6
   \   0000A4   8F83         MOV     DPH,R7
   \   0000A6   A3           INC     DPTR
   \   0000A7   A3           INC     DPTR
   \   0000A8   A3           INC     DPTR
   \   0000A9   A3           INC     DPTR
   \   0000AA   C082         PUSH    DPL
   \   0000AC   C083         PUSH    DPH
   \   0000AE   8E82         MOV     DPL,R6
   \   0000B0   8F83         MOV     DPH,R7
   \   0000B2   A3           INC     DPTR
   \   0000B3   A3           INC     DPTR
   \   0000B4   A3           INC     DPTR
   \   0000B5   A3           INC     DPTR
   \   0000B6   A3           INC     DPTR
   \   0000B7   A3           INC     DPTR
   \   0000B8   E0           MOVX    A,@DPTR
   \   0000B9   F8           MOV     R0,A
   \   0000BA   A3           INC     DPTR
   \   0000BB   E0           MOVX    A,@DPTR
   \   0000BC   F9           MOV     R1,A
   \   0000BD   D083         POP     DPH
   \   0000BF   D082         POP     DPL
   \   0000C1   E0           MOVX    A,@DPTR
   \   0000C2   C3           CLR     C
   \   0000C3   98           SUBB    A,R0
   \   0000C4   F8           MOV     R0,A
   \   0000C5   A3           INC     DPTR
   \   0000C6   E0           MOVX    A,@DPTR
   \   0000C7   99           SUBB    A,R1
   \   0000C8   F9           MOV     R1,A
   \   0000C9   E5..         MOV     A,?V0 + 4
   \   0000CB   C3           CLR     C
   \   0000CC   98           SUBB    A,R0
   \   0000CD   F8           MOV     R0,A
   \   0000CE   E5..         MOV     A,?V0 + 5
   \   0000D0   99           SUBB    A,R1
   \   0000D1   F9           MOV     R1,A
   \   0000D2   88..         MOV     ?V0 + 2,R0
   \   0000D4   89..         MOV     ?V0 + 3,R1
    173                  if (count <= tailAvailSz)
   \   0000D6   C3           CLR     C
   \   0000D7   E5..         MOV     A,?V0 + 2
   \   0000D9   95..         SUBB    A,?V0 + 0
   \   0000DB   E5..         MOV     A,?V0 + 3
   \   0000DD   95..         SUBB    A,?V0 + 1
   \   0000DF   5003         JNC     $+5
   \   0000E1   02....       LJMP    ??rbWrite_5 & 0xFFFF
    174                  {
    175                      osal_memcpy(rb->rbTail, data, count);
   \   0000E4                ; Setup parameters for call to function osal_memcpy
   \   0000E4   85....       MOV     ?V0 + 4,?V0 + 12
   \   0000E7   85....       MOV     ?V0 + 5,?V0 + 13
   \   0000EA   75..00       MOV     ?V0 + 6,#0x0
   \   0000ED   78..         MOV     R0,#?V0 + 4
   \   0000EF   12....       LCALL   ?PUSH_XSTACK_I_THREE
   \   0000F2   AC..         MOV     R4,?V0 + 0
   \   0000F4   AD..         MOV     R5,?V0 + 1
   \   0000F6   8E82         MOV     DPL,R6
   \   0000F8   8F83         MOV     DPH,R7
   \   0000FA   A3           INC     DPTR
   \   0000FB   A3           INC     DPTR
   \   0000FC   A3           INC     DPTR
   \   0000FD   A3           INC     DPTR
   \   0000FE   E0           MOVX    A,@DPTR
   \   0000FF   FA           MOV     R2,A
   \   000100   A3           INC     DPTR
   \   000101   E0           MOVX    A,@DPTR
   \   000102   FB           MOV     R3,A
   \   000103   12....       LCALL   ??osal_memcpy?relay
   \   000106   7403         MOV     A,#0x3
   \   000108   12....       LCALL   ?DEALLOC_XSTACK8
    176                      rb->rbTail += count;
   \   00010B   8E82         MOV     DPL,R6
   \   00010D   8F83         MOV     DPH,R7
   \   00010F   A3           INC     DPTR
   \   000110   A3           INC     DPTR
   \   000111   A3           INC     DPTR
   \   000112   A3           INC     DPTR
   \   000113   E0           MOVX    A,@DPTR
   \   000114   25..         ADD     A,?V0 + 0
   \   000116   F8           MOV     R0,A
   \   000117   A3           INC     DPTR
   \   000118   E0           MOVX    A,@DPTR
   \   000119   35..         ADDC    A,?V0 + 1
   \   00011B   F9           MOV     R1,A
   \   00011C   8E82         MOV     DPL,R6
   \   00011E   8F83         MOV     DPH,R7
   \   000120   A3           INC     DPTR
   \   000121   A3           INC     DPTR
   \   000122   A3           INC     DPTR
   \   000123   A3           INC     DPTR
   \   000124   E8           MOV     A,R0
   \   000125   F0           MOVX    @DPTR,A
   \   000126   A3           INC     DPTR
   \   000127   E9           MOV     A,R1
   \   000128   F0           MOVX    @DPTR,A
    177                      if (rb->rbTail == rb->rbBuff+rbCapacity(rb))
   \   000129   8E82         MOV     DPL,R6
   \   00012B   8F83         MOV     DPH,R7
   \   00012D   A3           INC     DPTR
   \   00012E   A3           INC     DPTR
   \   00012F   A3           INC     DPTR
   \   000130   A3           INC     DPTR
   \   000131   C082         PUSH    DPL
   \   000133   C083         PUSH    DPH
   \   000135                ; Setup parameters for call to function rbCapacity
   \   000135   EE           MOV     A,R6
   \   000136   FA           MOV     R2,A
   \   000137   EF           MOV     A,R7
   \   000138   FB           MOV     R3,A
   \   000139   12....       LCALL   ??rbCapacity?relay
   \   00013C   8A..         MOV     ?V0 + 4,R2
   \   00013E   8B..         MOV     ?V0 + 5,R3
   \   000140   8C..         MOV     ?V0 + 6,R4
   \   000142   8D..         MOV     ?V0 + 7,R5
   \   000144   8E82         MOV     DPL,R6
   \   000146   8F83         MOV     DPH,R7
   \   000148   A3           INC     DPTR
   \   000149   A3           INC     DPTR
   \   00014A   A3           INC     DPTR
   \   00014B   A3           INC     DPTR
   \   00014C   A3           INC     DPTR
   \   00014D   A3           INC     DPTR
   \   00014E   E0           MOVX    A,@DPTR
   \   00014F   25..         ADD     A,?V0 + 4
   \   000151   F8           MOV     R0,A
   \   000152   A3           INC     DPTR
   \   000153   E0           MOVX    A,@DPTR
   \   000154   35..         ADDC    A,?V0 + 5
   \   000156   F9           MOV     R1,A
   \   000157   D083         POP     DPH
   \   000159   D082         POP     DPL
   \   00015B   E0           MOVX    A,@DPTR
   \   00015C   68           XRL     A,R0
   \   00015D   7003         JNZ     ??rbWrite_6
   \   00015F   A3           INC     DPTR
   \   000160   E0           MOVX    A,@DPTR
   \   000161   69           XRL     A,R1
   \                     ??rbWrite_6:
   \   000162   701C         JNZ     ??rbWrite_7
    178                      {
    179                          rb->rbTail = rb->rbBuff;
   \   000164   8E82         MOV     DPL,R6
   \   000166   8F83         MOV     DPH,R7
   \   000168   A3           INC     DPTR
   \   000169   A3           INC     DPTR
   \   00016A   A3           INC     DPTR
   \   00016B   A3           INC     DPTR
   \   00016C   A3           INC     DPTR
   \   00016D   A3           INC     DPTR
   \   00016E   E0           MOVX    A,@DPTR
   \   00016F   F8           MOV     R0,A
   \   000170   A3           INC     DPTR
   \   000171   E0           MOVX    A,@DPTR
   \   000172   F9           MOV     R1,A
   \   000173   8E82         MOV     DPL,R6
   \   000175   8F83         MOV     DPH,R7
   \   000177   A3           INC     DPTR
   \   000178   A3           INC     DPTR
   \   000179   A3           INC     DPTR
   \   00017A   A3           INC     DPTR
   \   00017B   E8           MOV     A,R0
   \   00017C   F0           MOVX    @DPTR,A
   \   00017D   A3           INC     DPTR
   \   00017E   E9           MOV     A,R1
   \   00017F   F0           MOVX    @DPTR,A
    180                      }
    181                      return count;
   \                     ??rbWrite_7:
   \   000180   AA..         MOV     R2,?V0 + 0
   \   000182   AB..         MOV     R3,?V0 + 1
   \   000184   E4           CLR     A
   \   000185   FC           MOV     R4,A
   \   000186   FD           MOV     R5,A
   \   000187   02....       LJMP    ??rbWrite_1 & 0xFFFF
    182                  }
    183                  else
    184                  {
    185                      osal_memcpy(rb->rbTail, data, tailAvailSz);
   \                     ??rbWrite_5:
   \   00018A                ; Setup parameters for call to function osal_memcpy
   \   00018A   85....       MOV     ?V0 + 4,?V0 + 12
   \   00018D   85....       MOV     ?V0 + 5,?V0 + 13
   \   000190   75..00       MOV     ?V0 + 6,#0x0
   \   000193   78..         MOV     R0,#?V0 + 4
   \   000195   12....       LCALL   ?PUSH_XSTACK_I_THREE
   \   000198   AC..         MOV     R4,?V0 + 2
   \   00019A   AD..         MOV     R5,?V0 + 3
   \   00019C   8E82         MOV     DPL,R6
   \   00019E   8F83         MOV     DPH,R7
   \   0001A0   A3           INC     DPTR
   \   0001A1   A3           INC     DPTR
   \   0001A2   A3           INC     DPTR
   \   0001A3   A3           INC     DPTR
   \   0001A4   E0           MOVX    A,@DPTR
   \   0001A5   FA           MOV     R2,A
   \   0001A6   A3           INC     DPTR
   \   0001A7   E0           MOVX    A,@DPTR
   \   0001A8   FB           MOV     R3,A
   \   0001A9   12....       LCALL   ??osal_memcpy?relay
   \   0001AC   7403         MOV     A,#0x3
   \   0001AE   12....       LCALL   ?DEALLOC_XSTACK8
    186                      rb->rbTail = rb->rbBuff;
   \   0001B1   8E82         MOV     DPL,R6
   \   0001B3   8F83         MOV     DPH,R7
   \   0001B5   A3           INC     DPTR
   \   0001B6   A3           INC     DPTR
   \   0001B7   A3           INC     DPTR
   \   0001B8   A3           INC     DPTR
   \   0001B9   A3           INC     DPTR
   \   0001BA   A3           INC     DPTR
   \   0001BB   E0           MOVX    A,@DPTR
   \   0001BC   F8           MOV     R0,A
   \   0001BD   A3           INC     DPTR
   \   0001BE   E0           MOVX    A,@DPTR
   \   0001BF   F9           MOV     R1,A
   \   0001C0   8E82         MOV     DPL,R6
   \   0001C2   8F83         MOV     DPH,R7
   \   0001C4   A3           INC     DPTR
   \   0001C5   A3           INC     DPTR
   \   0001C6   A3           INC     DPTR
   \   0001C7   A3           INC     DPTR
   \   0001C8   E8           MOV     A,R0
   \   0001C9   F0           MOVX    @DPTR,A
   \   0001CA   A3           INC     DPTR
   \   0001CB   E9           MOV     A,R1
   \   0001CC   F0           MOVX    @DPTR,A
    187          
    188                      return tailAvailSz + rbWrite(rb, (char*)data+tailAvailSz, count-tailAvailSz);
   \   0001CD   85....       MOV     ?V0 + 8,?V0 + 2
   \   0001D0   E5..         MOV     A,?V0 + 3
   \   0001D2   F5..         MOV     ?V0 + 9,A
   \   0001D4   33           RLC     A
   \   0001D5   95E0         SUBB    A,0xE0 /* A   */
   \   0001D7   F5..         MOV     ?V0 + 10,A
   \   0001D9   F5..         MOV     ?V0 + 11,A
   \   0001DB                ; Setup parameters for call to function rbWrite
   \   0001DB   E5..         MOV     A,?V0 + 0
   \   0001DD   C3           CLR     C
   \   0001DE   95..         SUBB    A,?V0 + 2
   \   0001E0   F5..         MOV     ?V0 + 4,A
   \   0001E2   E5..         MOV     A,?V0 + 1
   \   0001E4   95..         SUBB    A,?V0 + 3
   \   0001E6   F5..         MOV     ?V0 + 5,A
   \   0001E8   78..         MOV     R0,#?V0 + 4
   \   0001EA   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0001ED   E5..         MOV     A,?V0 + 12
   \   0001EF   25..         ADD     A,?V0 + 2
   \   0001F1   FC           MOV     R4,A
   \   0001F2   E5..         MOV     A,?V0 + 13
   \   0001F4   35..         ADDC    A,?V0 + 3
   \   0001F6   FD           MOV     R5,A
   \   0001F7   EE           MOV     A,R6
   \   0001F8   FA           MOV     R2,A
   \   0001F9   EF           MOV     A,R7
   \   0001FA   FB           MOV     R3,A
   \   0001FB   12....       LCALL   ??rbWrite?relay
   \   0001FE   7402         MOV     A,#0x2
   \   000200   12....       LCALL   ?DEALLOC_XSTACK8
   \   000203   8A..         MOV     ?V0 + 4,R2
   \   000205   8B..         MOV     ?V0 + 5,R3
   \   000207   8C..         MOV     ?V0 + 6,R4
   \   000209   8D..         MOV     ?V0 + 7,R5
   \   00020B   78..         MOV     R0,#?V0 + 8
   \   00020D   79..         MOV     R1,#?V0 + 4
   \   00020F   12....       LCALL   ?L_ADD
   \   000212   AA..         MOV     R2,?V0 + 8
   \   000214   AB..         MOV     R3,?V0 + 9
   \   000216   AC..         MOV     R4,?V0 + 10
   \   000218   AD..         MOV     R5,?V0 + 11
   \   00021A   804C         SJMP    ??rbWrite_1
    189                  }
    190              }
    191              else
    192              {
    193                  osal_memcpy(rb->rbTail, data, count);
   \                     ??rbWrite_4:
   \   00021C                ; Setup parameters for call to function osal_memcpy
   \   00021C   85....       MOV     ?V0 + 4,?V0 + 12
   \   00021F   85....       MOV     ?V0 + 5,?V0 + 13
   \   000222   75..00       MOV     ?V0 + 6,#0x0
   \   000225   78..         MOV     R0,#?V0 + 4
   \   000227   12....       LCALL   ?PUSH_XSTACK_I_THREE
   \   00022A   AC..         MOV     R4,?V0 + 0
   \   00022C   AD..         MOV     R5,?V0 + 1
   \   00022E   8E82         MOV     DPL,R6
   \   000230   8F83         MOV     DPH,R7
   \   000232   A3           INC     DPTR
   \   000233   A3           INC     DPTR
   \   000234   A3           INC     DPTR
   \   000235   A3           INC     DPTR
   \   000236   E0           MOVX    A,@DPTR
   \   000237   FA           MOV     R2,A
   \   000238   A3           INC     DPTR
   \   000239   E0           MOVX    A,@DPTR
   \   00023A   FB           MOV     R3,A
   \   00023B   12....       LCALL   ??osal_memcpy?relay
   \   00023E   7403         MOV     A,#0x3
   \   000240   12....       LCALL   ?DEALLOC_XSTACK8
    194                  rb->rbTail += count;
   \   000243   8E82         MOV     DPL,R6
   \   000245   8F83         MOV     DPH,R7
   \   000247   A3           INC     DPTR
   \   000248   A3           INC     DPTR
   \   000249   A3           INC     DPTR
   \   00024A   A3           INC     DPTR
   \   00024B   E0           MOVX    A,@DPTR
   \   00024C   25..         ADD     A,?V0 + 0
   \   00024E   F8           MOV     R0,A
   \   00024F   A3           INC     DPTR
   \   000250   E0           MOVX    A,@DPTR
   \   000251   35..         ADDC    A,?V0 + 1
   \   000253   F9           MOV     R1,A
   \   000254   8E82         MOV     DPL,R6
   \   000256   8F83         MOV     DPH,R7
   \   000258   A3           INC     DPTR
   \   000259   A3           INC     DPTR
   \   00025A   A3           INC     DPTR
   \   00025B   A3           INC     DPTR
   \   00025C   E8           MOV     A,R0
   \   00025D   F0           MOVX    @DPTR,A
   \   00025E   A3           INC     DPTR
   \   00025F   E9           MOV     A,R1
   \   000260   F0           MOVX    @DPTR,A
    195                  return count;
   \   000261   AA..         MOV     R2,?V0 + 0
   \   000263   AB..         MOV     R3,?V0 + 1
   \   000265   E4           CLR     A
   \   000266   FC           MOV     R4,A
   \   000267   FD           MOV     R5,A
   \                     ??rbWrite_1:
   \   000268   7F0E         MOV     R7,#0xe
   \   00026A   02....       LJMP    ?BANKED_LEAVE_XDATA
    196              }
    197          }
    198          /**@} */
    199          
    200          /**
    201          * @brief ÂêëÁéØÂΩ¢ÁºìÂÜ≤Âå∫ÂÜôÂÖ•Êï∞ÊçÆ
    202          * @param [in] buf        : bufÂú∞ÂùÄ
    203          * @param [in] len        : Â≠óËäÇÈïøÂ∫¶
    204          * @return   Ê≠£Á°Æ : ËøîÂõûÂÜôÂÖ•ÁöÑÊï∞ÊçÆÈïøÂ∫?            Â§±Ë¥• : -1
    205          */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    206          int32 gizPutData(uint8 *buf, uint32 len)
   \                     gizPutData:
    207          {
   \   000000   74F0         MOV     A,#-0x10
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 16
   \   000005                ; Auto size: 0
   \   000005   7410         MOV     A,#0x10
   \   000007   12....       LCALL   ?XSTACK_DISP0_8
   \   00000A   78..         MOV     R0,#?V0 + 4
   \   00000C   12....       LCALL   ?L_MOV_X
    208              int32 count = 0;
    209          
    210              if(NULL == buf)
   \   00000F   EA           MOV     A,R2
   \   000010   4B           ORL     A,R3
   \   000011   700A         JNZ     ??gizPutData_0
    211              {
    212                  GIZWITS_LOG("ERROR: gizPutData buf is empty \n");
    213                  return -1;
   \                     ??gizPutData_1:
   \   000013   7AFF         MOV     R2,#-0x1
   \   000015   7BFF         MOV     R3,#-0x1
   \   000017   7CFF         MOV     R4,#-0x1
   \   000019   7DFF         MOV     R5,#-0x1
   \   00001B   802C         SJMP    ??gizPutData_2
    214              }
    215          
    216              count = rbWrite(&pRb, buf, len);
   \                     ??gizPutData_0:
   \   00001D                ; Setup parameters for call to function rbWrite
   \   00001D   85....       MOV     ?V0 + 0,?V0 + 4
   \   000020   85....       MOV     ?V0 + 1,?V0 + 5
   \   000023   78..         MOV     R0,#?V0 + 0
   \   000025   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000028   EA           MOV     A,R2
   \   000029   FC           MOV     R4,A
   \   00002A   EB           MOV     A,R3
   \   00002B   FD           MOV     R5,A
   \   00002C   7A..         MOV     R2,#pRb & 0xff
   \   00002E   7B..         MOV     R3,#(pRb >> 8) & 0xff
   \   000030   12....       LCALL   ??rbWrite?relay
   \   000033   7402         MOV     A,#0x2
   \   000035   12....       LCALL   ?DEALLOC_XSTACK8
   \   000038   8A..         MOV     ?V0 + 0,R2
   \   00003A   8B..         MOV     ?V0 + 1,R3
   \   00003C   8C..         MOV     ?V0 + 2,R4
   \   00003E   8D..         MOV     ?V0 + 3,R5
    217              if(count != len)
   \   000040   78..         MOV     R0,#?V0 + 0
   \   000042   79..         MOV     R1,#?V0 + 4
   \   000044   12....       LCALL   ?L_EQ
   \   000047   70CA         JNZ     ??gizPutData_1
    218              {
    219                  GIZWITS_LOG("ERROR: Failed to rbWrite \n");
    220                  return -1;
    221              }
    222          
    223              return count;
   \                     ??gizPutData_2:
   \   000049   80..         SJMP    ??Subroutine67_0
    224          }

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine67_0:
   \   000000   7F08         MOV     R7,#0x8
   \   000002   02....       LJMP    ?BANKED_LEAVE_XDATA
    225          
    226          /**
    227          * @brief Êä•ÊñáÊï∞ÊçÆÊ†°È™åÂíåËÆ°ÁÆ?*
    228          * @param [in] buf   : bufÂú∞ÂùÄ
    229          * @param [in] len   : Â≠óËäÇÈïøÂ∫¶
    230          *
    231          * @return sum : ‰ªéÁºìÂÜ≤Âå∫Á¨?‰∏™Â≠óËäÇÂêéÊâÄÊúâÁöÑÂ≠óËäÇÁ¥ØÂä†Ê±ÇÂíå
    232          */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    233          static uint8 gizProtocolSum(uint8 *buf, uint32 len)
   \                     gizProtocolSum:
    234          {
   \   000000   74EC         MOV     A,#-0x14
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 20
   \   000005                ; Auto size: 0
   \   000005   7414         MOV     A,#0x14
   \   000007   12....       LCALL   ?XSTACK_DISP0_8
   \   00000A   78..         MOV     R0,#?V0 + 4
   \   00000C   12....       LCALL   ?L_MOV_X
    235              uint8     sum = 0;
   \   00000F   7C00         MOV     R4,#0x0
    236              uint32    i = 0;
    237          
    238              if(buf == NULL || len <= 0)
   \   000011   EA           MOV     A,R2
   \   000012   4B           ORL     A,R3
   \   000013   600A         JZ      ??gizProtocolSum_0
   \   000015   E5..         MOV     A,?V0 + 4
   \   000017   45..         ORL     A,?V0 + 5
   \   000019   45..         ORL     A,?V0 + 6
   \   00001B   45..         ORL     A,?V0 + 7
   \   00001D   7004         JNZ     ??gizProtocolSum_1
    239              {
    240                  GIZWITS_LOG("ERROR: gizProtocolSum , buf is empty or len error %d \n", len);
    241                  return 0;
   \                     ??gizProtocolSum_0:
   \   00001F   7900         MOV     R1,#0x0
   \   000021   8044         SJMP    ??gizProtocolSum_2
    242              }
    243          
    244              for(i=2; i<len-1; i++)
   \                     ??gizProtocolSum_1:
   \   000023   90....       MOV     DPTR,#__Constant_2
   \   000026   78..         MOV     R0,#?V0 + 8
   \   000028   12....       LCALL   ?L_MOV_X
   \   00002B   801B         SJMP    ??gizProtocolSum_3
    245              {
    246                  sum += buf[i];
   \                     ??gizProtocolSum_4:
   \   00002D   85....       MOV     ?V0 + 0,?V0 + 8
   \   000030   85....       MOV     ?V0 + 1,?V0 + 9
   \   000033   EA           MOV     A,R2
   \   000034   25..         ADD     A,?V0 + 0
   \   000036   F582         MOV     DPL,A
   \   000038   EB           MOV     A,R3
   \   000039   35..         ADDC    A,?V0 + 1
   \   00003B   F583         MOV     DPH,A
   \   00003D   E0           MOVX    A,@DPTR
   \   00003E   2C           ADD     A,R4
   \   00003F   FC           MOV     R4,A
    247              }
   \   000040   90....       MOV     DPTR,#__Constant_1
   \   000043   78..         MOV     R0,#?V0 + 8
   \   000045   12....       LCALL   ?L_ADD_X
   \                     ??gizProtocolSum_3:
   \   000048   85....       MOV     ?V0 + 0,?V0 + 4
   \   00004B   85....       MOV     ?V0 + 1,?V0 + 5
   \   00004E   85....       MOV     ?V0 + 2,?V0 + 6
   \   000051   85....       MOV     ?V0 + 3,?V0 + 7
   \   000054   90....       MOV     DPTR,#__Constant_ffffffff
   \   000057   78..         MOV     R0,#?V0 + 0
   \   000059   12....       LCALL   ?L_ADD_X
   \   00005C   78..         MOV     R0,#?V0 + 0
   \   00005E   79..         MOV     R1,#?V0 + 8
   \   000060   12....       LCALL   ?UL_GT
   \   000063   40C8         JC      ??gizProtocolSum_4
    248          
    249              return sum;
   \   000065   EC           MOV     A,R4
   \   000066   F9           MOV     R1,A
   \                     ??gizProtocolSum_2:
   \   000067                REQUIRE ?Subroutine2
   \   000067                ; // Fall through to label ?Subroutine2
    250          }

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine2:
   \   000000   7F0C         MOV     R7,#0xc
   \   000002   02....       LJMP    ?BANKED_LEAVE_XDATA
    251          
    252          /**
    253          * @brief 16‰ΩçÊï∞ÊçÆÂ≠óËäÇÂ∫èËΩ¨Êç¢
    254          *
    255          * @param [in] value : ÈúÄË¶ÅËΩ¨Êç¢ÁöÑÊï∞ÊçÆ
    256          *
    257          * @return  tmp_value: ËΩ¨Êç¢ÂêéÁöÑÊï∞ÊçÆ
    258          */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    259          static uint16 gizProtocolExchangeBytes(uint16 value)
   \                     gizProtocolExchangeBytes:
    260          {
   \   000000   C082         PUSH    DPL
   \   000002   C083         PUSH    DPH
   \   000004                ; Saved register size: 2
   \   000004                ; Auto size: 4
   \   000004   74FC         MOV     A,#-0x4
   \   000006   12....       LCALL   ?ALLOC_XSTACK8
   \   000009   7402         MOV     A,#0x2
   \   00000B   12....       LCALL   ?XSTACK_DISP0_8
   \   00000E   12....       LCALL   ?Subroutine11 & 0xFFFF
    261              uint16    tmp_value;
    262              uint8     *index_1, *index_2;
    263          
    264              index_1 = (uint8 *)&tmp_value;
    265              index_2 = (uint8 *)&value;
    266          
    267              *index_1 = *(index_2+1);
   \                     ??CrossCallReturnLabel_139:
   \   000011   85..82       MOV     DPL,?XSP + 0
   \   000014   85..83       MOV     DPH,?XSP + 1
   \   000017   F0           MOVX    @DPTR,A
    268              *(index_1+1) = *index_2;
   \   000018   7402         MOV     A,#0x2
   \   00001A   12....       LCALL   ?XSTACK_DISP0_8
   \   00001D   E0           MOVX    A,@DPTR
   \   00001E   C0E0         PUSH    A
   \   000020   7401         MOV     A,#0x1
   \   000022   12....       LCALL   ?XSTACK_DISP0_8
   \   000025   D0E0         POP     A
   \   000027   F0           MOVX    @DPTR,A
    269          
    270              return tmp_value;
   \   000028   12....       LCALL   ?Subroutine59 & 0xFFFF
   \                     ??CrossCallReturnLabel_191:
   \   00002B   7404         MOV     A,#0x4
   \   00002D   12....       LCALL   ?DEALLOC_XSTACK8
   \   000030                REQUIRE ?Subroutine3
   \   000030                ; // Fall through to label ?Subroutine3
    271          }

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine3:
   \   000000   D083         POP     DPH
   \   000002   D082         POP     DPL
   \   000004   02....       LJMP    ?BRET
    272          
    273          /**
    274          * @brief 32‰ΩçÊï∞ÊçÆÂ≠óËäÇÂ∫èËΩ¨Êç¢
    275          *
    276          * @param [in] value : ÈúÄË¶ÅËΩ¨Êç¢ÁöÑÊï∞ÊçÆ
    277          *
    278          * @return  tmp_value: ËΩ¨Êç¢ÂêéÁöÑÊï∞ÊçÆ
    279          */
    280          static uint32 gizExchangeWord(uint32  value)
    281          {
    282              return ((value & 0x000000FF) << 24) |
    283                  ((value & 0x0000FF00) << 8) |
    284                  ((value & 0x00FF0000) >> 8) |
    285                  ((value & 0xFF000000) >> 24) ;
    286          }
    287          
    288          /**
    289          * @brief Êï∞ÁªÑÁºìÂÜ≤Âå∫ÁΩëÁªúÂ≠óËäÇÂ∫èËΩ¨Êç¢
    290          *
    291          * @param [in] buf      : bufÂú∞ÂùÄ
    292          * @param [in] dataLen  : Â≠óËäÇÈïøÂ∫¶
    293          *
    294          * @return Ê≠£Á°Æ : 0 
    295                    Â§±Ë¥• : -1
    296          */
    297          static int8 gizByteOrderExchange(uint8 *buf,uint32 dataLen)
    298          {
    299              uint32 i = 0;
    300              uint8 preData = 0;
    301              uint8 aftData = 0;
    302          
    303              if(NULL == buf)
    304              {
    305                  GIZWITS_LOG("gizByteOrderExchange Error , Illegal Param\n");
    306                  return -1;
    307              }
    308          
    309              for(i = 0;i<dataLen/2;i++)
    310              {
    311                  preData = buf[i];
    312                  aftData = buf[dataLen - i - 1];
    313                  buf[i] = aftData;
    314                  buf[dataLen - i - 1] = preData;
    315              }
    316              return 0;
    317          }
    318          
    319          /**
    320          * @brief ËΩ¨Âåñ‰∏∫ÂçèËÆÆ‰∏≠ÁöÑxÂÄºÂèäÂÆûÈôÖÈÄöËÆØ‰º†ËæìÁöÑÂÄ?*
    321          * @param [in] ratio    : ‰øÆÊ≠£Á≥ªÊï∞k
    322          * @param [in] addition : Â¢ûÈáèm
    323          * @param [in] preValue : ‰Ωú‰∏∫ÂçèËÆÆ‰∏≠ÁöÑyÂÄ? ÊòØApp UIÁïåÈù¢ÁöÑÊòæÁ§∫ÂÄ?*
    324          * @return aft_value    : ‰Ωú‰∏∫ÂçèËÆÆ‰∏≠ÁöÑxÂÄ? ÊòØÂÆûÈôÖÈÄöËÆØ‰º†ËæìÁöÑÂÄ?*/
    325          static uint32 gizY2X(uint32 ratio, int32 addition, int32 preValue)
    326          {
    327              uint32 aftValue = 0;
    328          
    329              //x=(y - m)/k
    330              aftValue = ((preValue - addition) / ratio);
    331          
    332              return aftValue;
    333          }
    334          
    335          /**
    336          * @brief ËΩ¨Âåñ‰∏∫ÂçèËÆÆ‰∏≠ÁöÑyÂÄºÂèäApp UIÁïåÈù¢ÁöÑÊòæÁ§∫ÂÄ?*
    337          * @param [in] ratio    : ‰øÆÊ≠£Á≥ªÊï∞k
    338          * @param [in] addition : Â¢ûÈáèm
    339          * @param [in] preValue : ‰Ωú‰∏∫ÂçèËÆÆ‰∏≠ÁöÑxÂÄ? ÊòØÂÆûÈôÖÈÄöËÆØ‰º†ËæìÁöÑÂÄ?*
    340          * @return aftValue : ‰Ωú‰∏∫ÂçèËÆÆ‰∏≠ÁöÑyÂÄ? ÊòØApp UIÁïåÈù¢ÁöÑÊòæÁ§∫ÂÄ?*/
    341          static int32 gizX2Y(uint32 ratio, int32 addition, uint32 preValue)
    342          {
    343              int32 aftValue = 0;
    344          
    345              //y=k * x + m
    346              aftValue = (preValue * ratio + addition);
    347          
    348              return aftValue;
    349          }
    350          
    351          /**
    352          * @brief ËΩ¨Âåñ‰∏∫ÂçèËÆÆ‰∏≠ÁöÑxÂÄºÂèäÂÆûÈôÖÈÄöËÆØ‰º†ËæìÁöÑÂÄ?Âè™Áî®‰ΩúÂØπÊµÆÁÇπÂûãÊï∞ÊçÆÂÅöÂ§ÑÁêÜ
    353          *
    354          * @param [in] ratio    : ‰øÆÊ≠£Á≥ªÊï∞k
    355          * @param [in] addition : Â¢ûÈáèm
    356          * @param [in] preValue : ‰Ωú‰∏∫ÂçèËÆÆ‰∏≠ÁöÑyÂÄ? ÊòØApp UIÁïåÈù¢ÁöÑÊòæÁ§∫ÂÄ?*
    357          * @return  aft_value : ‰Ωú‰∏∫ÂçèËÆÆ‰∏≠ÁöÑxÂÄ? ÊòØÂÆûÈôÖÈÄöËÆØ‰º†ËæìÁöÑÂÄ?*/
    358          static uint32 gizY2XFloat(float ratio, float addition, float preValue)
    359          {
    360              uint32 aftValue = 0;
    361          
    362              //x=(y - m)/k
    363              aftValue = ((preValue - addition) / ratio);
                              ^
Warning[Pa093]: implicit conversion from floating point to integer
    364          
    365              return aftValue;
    366          }
    367          
    368          /**
    369          * @brief ËΩ¨Âåñ‰∏∫ÂçèËÆÆ‰∏≠ÁöÑyÂÄºÂèäApp UIÁïåÈù¢ÁöÑÊòæÁ§∫ÂÄ?Âè™Áî®‰ΩúÂØπÊµÆÁÇπÂûãÊï∞ÊçÆÂÅöÂ§ÑÁêÜ
    370          *
    371          * @param [in] ratio    : ‰øÆÊ≠£Á≥ªÊï∞k
    372          * @param [in] addition : Â¢ûÈáèm
    373          * @param [in] preValue : ‰Ωú‰∏∫ÂçèËÆÆ‰∏≠ÁöÑxÂÄ? ÊòØÂÆûÈôÖÈÄöËÆØ‰º†ËæìÁöÑÂÄ?*
    374          * @return : ‰Ωú‰∏∫ÂçèËÆÆ‰∏≠ÁöÑyÂÄ? ÊòØApp UIÁïåÈù¢ÁöÑÊòæÁ§∫ÂÄ?*/
    375          static float gizX2YFloat(float ratio, float addition, uint32 preValue)
    376          {
    377              float aftValue = 0;
    378          
    379              //y=k * x + m
    380              aftValue = (preValue * ratio + addition);
    381          
    382              return aftValue;
    383          }
    384          
    385          /**
    386          * @brief Êï∞ÊçÆÁÇπË∑®Â≠óËäÇÂà§Êñ≠
    387          *
    388          * @param [in] bitOffset     : ‰ΩçÂÅèÁß?* @param [in] bitLen        : Âç†Áî®‰ΩçÈïøÂ∫?
    389          *
    390          * @return Êú™Ë∑®Â≠óËäÇ : 0 
    391                      Ë∑®Â≠óËä?: 1
    392          */
    393          static uint8 gizAcrossByteJudge(uint32 bitOffset,uint32 bitLen)
    394          {
    395              if((0 == bitOffset)||(0 == bitOffset%8))
    396              {
    397                  if(bitLen <= 8)
    398                  {
    399                      return 0;
    400                  }
    401                  else
    402                  {
    403                      return 1;
    404                  }
    405              }
    406              else
    407              {
    408                  if(8 - bitOffset%8 >= bitLen)
    409                  {
    410                      return 0;
    411                  }
    412                  else
    413                  {
    414                      return 1; 
    415                  }
    416              }
    417          }
    418          /**
    419          * @brief ÂçèËÆÆÂ§¥ÂàùÂßãÂåñ
    420          *
    421          * @param [out] head         : ÂçèËÆÆÂ§¥ÊåáÈí?*
    422          * @return 0Ôº?ÊâßË°åÊàêÂäüÔº?Èù?0Ôº?Â§±Ë¥•    
    423          */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    424          static int8 gizProtocolHeadInit(protocolHead_t *head)
   \                     gizProtocolHeadInit:
    425          {
   \   000000   74F7         MOV     A,#-0x9
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 9
   \   000005                ; Auto size: 0
   \   000005   EA           MOV     A,R2
   \   000006   FE           MOV     R6,A
   \   000007   EB           MOV     A,R3
   \   000008   FF           MOV     R7,A
    426              if(NULL == head)
   \   000009   EE           MOV     A,R6
   \   00000A   4F           ORL     A,R7
   \   00000B   7004         JNZ     ??gizProtocolHeadInit_0
    427              {
    428                  GIZWITS_LOG("ERROR: gizProtocolHeadInit head is empty \n");
    429                  return -1;
   \   00000D   79FF         MOV     R1,#-0x1
   \   00000F   8014         SJMP    ??gizProtocolHeadInit_1
    430              }
    431          
    432              osal_memset((uint8 *)head, 0, sizeof(protocolHead_t));
   \                     ??gizProtocolHeadInit_0:
   \   000011                ; Setup parameters for call to function osal_memset
   \   000011   7C08         MOV     R4,#0x8
   \   000013   7D00         MOV     R5,#0x0
   \   000015   7900         MOV     R1,#0x0
   \   000017   12....       LCALL   ??osal_memset?relay
    433              head->head[0] = 0xFF;
   \   00001A   8E82         MOV     DPL,R6
   \   00001C   8F83         MOV     DPH,R7
   \   00001E   74FF         MOV     A,#-0x1
   \   000020   F0           MOVX    @DPTR,A
    434              head->head[1] = 0xFF;
   \   000021   A3           INC     DPTR
   \   000022   F0           MOVX    @DPTR,A
    435          
    436              return 0;
   \   000023   7900         MOV     R1,#0x0
   \                     ??gizProtocolHeadInit_1:
   \   000025                REQUIRE ?Subroutine4
   \   000025                ; // Fall through to label ?Subroutine4
    437          }

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine4:
   \   000000   7F01         MOV     R7,#0x1
   \   000002   02....       LJMP    ?BANKED_LEAVE_XDATA
    438          
    439          /**
    440          * @brief ÂçèËÆÆACKÊ†°È™åÂ§ÑÁêÜÂáΩÊï∞
    441          *
    442          * @param [in] data            : Êï∞ÊçÆÂú∞ÂùÄ
    443          * @param [in] len             : Êï∞ÊçÆÈïøÂ∫¶
    444          *
    445          * @return 0Ôº?ÊâßË°åÊàêÂäüÔº?Èù?0Ôº?Â§±Ë¥•
    446          */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    447          static int8 gizProtocolWaitAck(uint8 *data, uint32 len)
   \                     gizProtocolWaitAck:
    448          {
   \   000000   74F0         MOV     A,#-0x10
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 16
   \   000005                ; Auto size: 0
   \   000005   EA           MOV     A,R2
   \   000006   FE           MOV     R6,A
   \   000007   EB           MOV     A,R3
   \   000008   FF           MOV     R7,A
   \   000009   7410         MOV     A,#0x10
   \   00000B   12....       LCALL   ?XSTACK_DISP0_8
   \   00000E   78..         MOV     R0,#?V0 + 4
   \   000010   12....       LCALL   ?L_MOV_X
    449              if(NULL == data)
   \   000013   EE           MOV     A,R6
   \   000014   4F           ORL     A,R7
   \   000015   7004         JNZ     ??gizProtocolWaitAck_0
    450              {
    451                  GIZWITS_LOG("ERROR: data is empty \n");
    452                  return -1;
   \   000017   79FF         MOV     R1,#-0x1
   \   000019   8048         SJMP    ??gizProtocolWaitAck_1
    453              }
    454          
    455              osal_memset((uint8 *)&gizwitsProtocol.waitAck, 0, sizeof(protocolWaitAck_t));
   \                     ??gizProtocolWaitAck_0:
   \   00001B                ; Setup parameters for call to function osal_memset
   \   00001B   7C27         MOV     R4,#0x27
   \   00001D   7D00         MOV     R5,#0x0
   \   00001F   7900         MOV     R1,#0x0
   \   000021   7A..         MOV     R2,#(gizwitsProtocol + 75) & 0xff
   \   000023   7B..         MOV     R3,#((gizwitsProtocol + 75) >> 8) & 0xff
   \   000025   12....       LCALL   ??osal_memset?relay
    456              osal_memcpy((uint8 *)gizwitsProtocol.waitAck.buf, data, len);
   \   000028                ; Setup parameters for call to function osal_memcpy
   \   000028   8E..         MOV     ?V0 + 0,R6
   \   00002A   8F..         MOV     ?V0 + 1,R7
   \   00002C   75..00       MOV     ?V0 + 2,#0x0
   \   00002F   78..         MOV     R0,#?V0 + 0
   \   000031   12....       LCALL   ?PUSH_XSTACK_I_THREE
   \   000034   85....       MOV     ?V0 + 0,?V0 + 4
   \   000037   85....       MOV     ?V0 + 1,?V0 + 5
   \   00003A   AC..         MOV     R4,?V0 + 0
   \   00003C   AD..         MOV     R5,?V0 + 1
   \   00003E   7A..         MOV     R2,#(gizwitsProtocol + 77) & 0xff
   \   000040   7B..         MOV     R3,#((gizwitsProtocol + 77) >> 8) & 0xff
   \   000042   12....       LCALL   ??Subroutine68_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_119:
   \   000045   12....       LCALL   ?DEALLOC_XSTACK8
    457              gizwitsProtocol.waitAck.dataLen = (uint16)len;
   \   000048   90....       MOV     DPTR,#gizwitsProtocol + 108
   \   00004B   E5..         MOV     A,?V0 + 0
   \   00004D   F0           MOVX    @DPTR,A
   \   00004E   A3           INC     DPTR
   \   00004F   E5..         MOV     A,?V0 + 1
   \   000051   F0           MOVX    @DPTR,A
    458              
    459              gizwitsProtocol.waitAck.flag = 1;
   \   000052   90....       MOV     DPTR,#gizwitsProtocol + 76
   \   000055   7401         MOV     A,#0x1
   \   000057   F0           MOVX    @DPTR,A
    460              gizwitsProtocol.waitAck.sendTime = gizGetTimerCount();
   \   000058                ; Setup parameters for call to function gizGetTimerCount
   \   000058   12....       LCALL   ??gizGetTimerCount?relay
   \   00005B   90....       MOV     DPTR,#gizwitsProtocol + 110
   \   00005E   12....       LCALL   ?XSTORE_R2345
    461          
    462              return 0;
   \   000061   7900         MOV     R1,#0x0
   \                     ??gizProtocolWaitAck_1:
   \   000063   02....       LJMP    ??Subroutine67_0 & 0xFFFF
    463          }

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine68_0:
   \   000000   12....       LCALL   ??osal_memcpy?relay
   \   000003   7403         MOV     A,#0x3
   \   000005   22           RET
    464          
    465          
    466          

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    467          uint32 ICACHE_FLASH_ATTR calculateDynamicBitPartLen(dataPointFlags_t *aFlag)
   \                     calculateDynamicBitPartLen:
    468          {
   \   000000                ; Saved register size: 0
   \   000000                ; Auto size: 0
    469              uint32 bitFieldBitLen = 0,bytetmpLen= 0;
    470              /* Âè™Â§ÑÁêÜÂèØÂÜôbool EnumÁ±ªÂûãÊï∞ÊçÆ */
    471          
    472              if(0 == bitFieldBitLen)
    473              {
    474                  bytetmpLen = 0;
    475              }
    476              else
    477              {
    478                  if(0 == bitFieldBitLen%8)
    479                  {
    480                      bytetmpLen = bitFieldBitLen/8;
    481                  }
    482                  else
    483                  {
    484                      bytetmpLen = bitFieldBitLen/8 + 1;
    485                  }
    486              }
    487              return bytetmpLen;
   \   000000   7A00         MOV     R2,#0x0
   \   000002   7B00         MOV     R3,#0x0
   \   000004   7C00         MOV     R4,#0x0
   \   000006   7D00         MOV     R5,#0x0
   \   000008   02....       LJMP    ?BRET
    488          }
    489          static int32 ICACHE_FLASH_ATTR gizCompressValue(uint32 bitOffset,uint32 bitLen,uint8 *bufAddr,uint32 srcData)
    490          {
    491              uint8 highBit = 0;
    492              uint8 lowBit = 0;
    493              uint8 ret = 0;
    494              uint32 byteOffset = 0;
    495              if(NULL == bufAddr)
    496              {
    497                  GIZWITS_LOG("gizCompressValue Error , Illegal Param\n");
    498                  return -1;
    499              }       
    500              /* Ê†πÊçÆbitOffsetËÆ°ÁÆó byteOffset*/
    501              byteOffset = bitOffset/8;
    502              ret = gizAcrossByteJudge(bitOffset,bitLen);
    503              if(0 == ret)
    504              {
    505                  bufAddr[byteOffset] |= (((uint8)srcData)<<(bitOffset%8));
    506              }
    507              else if(1 == ret)
    508              {
    509                  /* ÊöÇÊó∂ÊîØÊåÅÊúÄÂ§öË∑®‰∏§Â≠óËäÇÁöÑÂéãÁº© */ 
    510                  highBit = ((uint8)srcData)>>(8-bitOffset%8);
    511                  lowBit = (uint8)srcData & (0xFF >> (8-bitOffset%8));
    512                  bufAddr[byteOffset + 1] |=  highBit;
    513                  bufAddr[byteOffset] |= (lowBit<<(bitOffset%8));
    514              }
    515          
    516              return 0;
    517          }
    518          /**
    519          * @brief boolÂíåenumÁ±ªÂûãÊï∞ÊçÆÁÇπÊï∞ÊçÆËß£Âé?*
    520          * @param [in] bitOffset     : ‰ΩçÂÅèÁß?* @param [in] bitLen        : Âç†Áî®‰ΩçÈïøÂ∫?* @param [in] arrayAddr     : Êï∞ÁªÑÂú∞ÂùÄ
    521          * @param [in] arrayLen      : Êï∞ÁªÑÈïøÂ∫¶
    522          *
    523          * @return destValue         : Ëß£ÂéãÂêéÁªìÊûúÊï∞Êç?-1Ë°®Á§∫ÈîôËØØËøîÂõû
    524          */
    525          static int32 ICACHE_FLASH_ATTR gizDecompressionValue(uint32 bitOffset,uint32 bitLen,uint8 *arrayAddr,uint32 arrayLen)
    526          {
    527              int32 destValue = 0;
    528              return destValue;
    529          }
    530          /**
    531          * @brief Ê†πÊçÆÂçèËÆÆÁîüÊàê‚ÄúÊéßÂà∂Âûã‰∫ã‰ª∂‚Ä?
    532          * @param [in] issuedData  ÔºöÊéßÂà∂ÂûãÊï∞ÊçÆ
    533          * @param [out] info       Ôºö‰∫ã‰ª∂ÈòüÂà?* @param [out] dataPoints ÔºöÊï∞ÊçÆÁÇπÊï∞ÊçÆ
    534          * @return 0ÔºåÊâßË°åÊàêÂäüÔºå Èù?0ÔºåÂ§±Ë¥?*/

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    535          static int8 ICACHE_FLASH_ATTR gizDataPoint2Event(uint8 *issuedData, eventInfo_t *info, dataPoint_t *dataPoints)
   \                     gizDataPoint2Event:
    536          {
   \   000000   74F1         MOV     A,#-0xf
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 15
   \   000005                ; Auto size: 21
   \   000005   74EB         MOV     A,#-0x15
   \   000007   12....       LCALL   ?ALLOC_XSTACK8
   \   00000A   8A..         MOV     ?V0 + 0,R2
   \   00000C   8B..         MOV     ?V0 + 1,R3
   \   00000E   EC           MOV     A,R4
   \   00000F   FE           MOV     R6,A
   \   000010   ED           MOV     A,R5
   \   000011   FF           MOV     R7,A
   \   000012   7424         MOV     A,#0x24
   \   000014   12....       LCALL   ?XSTACK_DISP0_8
   \   000017   E0           MOVX    A,@DPTR
   \   000018   F5..         MOV     ?V0 + 2,A
   \   00001A   A3           INC     DPTR
   \   00001B   E0           MOVX    A,@DPTR
   \   00001C   F5..         MOV     ?V0 + 3,A
    537              uint32 bitFieldByteLen= 0;//‰ΩçÊÆµÂ≠óËäÇÈïøÂ∫¶
    538              uint32 bitFieldOffset = 0;//‰ΩçÊÆµ‰ΩçÂÅèÁß?
                            ^
Warning[Pe177]: variable "bitFieldOffset" was declared but never referenced
    539              uint32 byteFieldOffset = 0;//Â≠óËäÇÊÆµÂÅèÁß?
    540              gizwitsElongateP0Form_t elongateP0FormTmp;
    541              osal_memset((uint8 *)&elongateP0FormTmp,0,sizeof(gizwitsElongateP0Form_t));
   \   00001E                ; Setup parameters for call to function osal_memset
   \   00001E   7C15         MOV     R4,#0x15
   \   000020   7D00         MOV     R5,#0x0
   \   000022   7900         MOV     R1,#0x0
   \   000024   85..82       MOV     DPL,?XSP + 0
   \   000027   85..83       MOV     DPH,?XSP + 1
   \   00002A   AA82         MOV     R2,DPL
   \   00002C   AB83         MOV     R3,DPH
   \   00002E   12....       LCALL   ??osal_memset?relay
    542              osal_memcpy((uint8 *)&elongateP0FormTmp.devDatapointFlag,issuedData,DATAPOINT_FLAG_LEN);
   \   000031                ; Setup parameters for call to function osal_memcpy
   \   000031   85....       MOV     ?V0 + 4,?V0 + 0
   \   000034   85....       MOV     ?V0 + 5,?V0 + 1
   \   000037   75..00       MOV     ?V0 + 6,#0x0
   \   00003A   78..         MOV     R0,#?V0 + 4
   \   00003C   12....       LCALL   ?PUSH_XSTACK_I_THREE
   \   00003F   7C01         MOV     R4,#0x1
   \   000041   7D00         MOV     R5,#0x0
   \   000043   7403         MOV     A,#0x3
   \   000045   12....       LCALL   ?XSTACK_DISP0_8
   \   000048   12....       LCALL   ?Subroutine44 & 0xFFFF
   \                     ??CrossCallReturnLabel_107:
   \   00004B   12....       LCALL   ?DEALLOC_XSTACK8
    543          
    544              if((NULL == issuedData) || (NULL == info) ||(NULL == dataPoints))
   \   00004E   E5..         MOV     A,?V0 + 0
   \   000050   45..         ORL     A,?V0 + 1
   \   000052   600A         JZ      ??gizDataPoint2Event_0
   \   000054   EE           MOV     A,R6
   \   000055   4F           ORL     A,R7
   \   000056   6006         JZ      ??gizDataPoint2Event_0
   \   000058   E5..         MOV     A,?V0 + 2
   \   00005A   45..         ORL     A,?V0 + 3
   \   00005C   7004         JNZ     ??gizDataPoint2Event_1
    545              {
    546                  GIZWITS_LOG("gizDataPoint2Event Error , Illegal Param\n");
    547                  return -1;
   \                     ??gizDataPoint2Event_0:
   \   00005E   79FF         MOV     R1,#-0x1
   \   000060   8049         SJMP    ??gizDataPoint2Event_2
    548              }
    549              /** Â§ß‰∫é1Â≠óËäÇÂÅö‰ΩçÂ∫èËΩ¨Êç?**/
    550              if(DATAPOINT_FLAG_LEN > 1)
    551              {
    552                  if(-1 == gizByteOrderExchange((uint8 *)&elongateP0FormTmp.devDatapointFlag,DATAPOINT_FLAG_LEN))
    553                  {
    554                      GIZWITS_LOG("gizByteOrderExchange Error\n");
    555                      return -1;
    556                  }
    557              }
    558              /* ËÆ°ÁÆó‰ΩçÊÆµÂç†Áî®ÁöÑÂ≠óËäÇÈïøÂ∫?*/
    559              bitFieldByteLen = calculateDynamicBitPartLen(&elongateP0FormTmp.devDatapointFlag);
    560              byteFieldOffset += bitFieldByteLen + DATAPOINT_FLAG_LEN;//Êï∞ÂÄºÊÆµÂ≠óËäÇÂÅèÁßª
    561          
    562          
    563          
    564          
    565              if(0x01 == elongateP0FormTmp.devDatapointFlag.flagpayload)
   \                     ??gizDataPoint2Event_1:
   \   000062   85..82       MOV     DPL,?XSP + 0
   \   000065   85..83       MOV     DPH,?XSP + 1
   \   000068   E0           MOVX    A,@DPTR
   \   000069   A2E0         MOV     C,0xE0 /* A   */.0
   \   00006B   503C         JNC     ??gizDataPoint2Event_3
    566              {
    567                  info->event[info->num] = EVENT_PAYLOAD;
   \   00006D   8E82         MOV     DPL,R6
   \   00006F   8F83         MOV     DPH,R7
   \   000071   E0           MOVX    A,@DPTR
   \   000072   F8           MOV     R0,A
   \   000073   EE           MOV     A,R6
   \   000074   28           ADD     A,R0
   \   000075   F582         MOV     DPL,A
   \   000077   EF           MOV     A,R7
   \   000078   3400         ADDC    A,#0x0
   \   00007A   F583         MOV     DPH,A
   \   00007C   A3           INC     DPTR
   \   00007D   7410         MOV     A,#0x10
   \   00007F   F0           MOVX    @DPTR,A
    568                  info->num++;
   \   000080   8E82         MOV     DPL,R6
   \   000082   8F83         MOV     DPH,R7
   \   000084   E0           MOVX    A,@DPTR
   \   000085   04           INC     A
   \   000086   F0           MOVX    @DPTR,A
    569                  osal_memcpy((uint8 *)dataPoints->valuepayload,(uint8 *)&issuedData[byteFieldOffset],20);
   \   000087                ; Setup parameters for call to function osal_memcpy
   \   000087   85..82       MOV     DPL,?V0 + 0
   \   00008A   85..83       MOV     DPH,?V0 + 1
   \   00008D   A3           INC     DPTR
   \   00008E   A982         MOV     R1,DPL
   \   000090   AA83         MOV     R2,DPH
   \   000092   89..         MOV     ?V0 + 4,R1
   \   000094   8A..         MOV     ?V0 + 5,R2
   \   000096   78..         MOV     R0,#?V0 + 4
   \   000098   12....       LCALL   ?PUSH_XSTACK_I_THREE
   \   00009B   7C14         MOV     R4,#0x14
   \   00009D   7D00         MOV     R5,#0x0
   \   00009F   AA..         MOV     R2,?V0 + 2
   \   0000A1   AB..         MOV     R3,?V0 + 3
   \   0000A3   12....       LCALL   ??Subroutine68_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_120:
   \   0000A6   12....       LCALL   ?DEALLOC_XSTACK8
    570                  byteFieldOffset += PAYLOAD_LEN;
    571              }
    572          
    573              return 0;
   \                     ??gizDataPoint2Event_3:
   \   0000A9   7900         MOV     R1,#0x0
   \                     ??gizDataPoint2Event_2:
   \   0000AB   7415         MOV     A,#0x15
   \   0000AD                REQUIRE ?Subroutine5
   \   0000AD                ; // Fall through to label ?Subroutine5
    574          }

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine5:
   \   000000   12....       LCALL   ?DEALLOC_XSTACK8
   \   000003   7F07         MOV     R7,#0x7
   \   000005   02....       LJMP    ?BANKED_LEAVE_XDATA

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine44:
   \   000000   AA82         MOV     R2,DPL
   \   000002   AB83         MOV     R3,DPH
   \   000004                REQUIRE ??Subroutine68_0
   \   000004                ; // Fall through to label ??Subroutine68_0
    575          
    576          
    577          /**
    578          * @brief ÂØπÊØîÂΩìÂâçÊï∞ÊçÆÂíå‰∏äÊ¨°Êï∞Êç?*
    579          * @param [in] cur        : ÂΩìÂâçÊï∞ÊçÆÁÇπÊï∞Êç?* @param [in] last       : ‰∏äÊ¨°Êï∞ÊçÆÁÇπÊï∞Êç?*
    580          * @return : 0,Êï∞ÊçÆÊó†ÂèòÂå?1ÔºåÊï∞ÊçÆÊúâÂèòÂåñ
    581          */
    582          #pragma optimize=none

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    583          static int8 ICACHE_FLASH_ATTR gizCheckReport(dataPoint_t *cur, dataPoint_t *last)
   \                     gizCheckReport:
    584          {
   \   000000   74F1         MOV     A,#-0xf
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 15
   \   000005                ; Auto size: 0
   \   000005   8A..         MOV     ?V0 + 0,R2
   \   000007   8B..         MOV     ?V0 + 1,R3
   \   000009   EC           MOV     A,R4
   \   00000A   FE           MOV     R6,A
   \   00000B   ED           MOV     A,R5
   \   00000C   FF           MOV     R7,A
    585              int8 ret = 0;
   \   00000D   75..00       MOV     ?V0 + 2,#0x0
    586              static uint32 lastReportTime = 0;
                                   ^
Warning[Pe177]: variable "lastReportTime" was declared but never referenced
    587          
    588              if((NULL == cur) || (NULL == last))
   \   000010   E5..         MOV     A,?V0 + 0
   \   000012   45..         ORL     A,?V0 + 1
   \   000014   6004         JZ      ??gizCheckReport_0
   \   000016   EE           MOV     A,R6
   \   000017   4F           ORL     A,R7
   \   000018   7004         JNZ     ??gizCheckReport_1
    589              {
    590                  GIZWITS_LOG("gizCheckReport Error , Illegal Param\n");
    591                  return -1;
   \                     ??gizCheckReport_0:
   \   00001A   79FF         MOV     R1,#-0x1
   \   00001C   8035         SJMP    ??gizCheckReport_2
    592              }
    593              if(TRUE != osal_memcmp((uint8 *)&last->valuepayload,(uint8 *)&cur->valuepayload,sizeof(last->valuepayload)))
   \                     ??gizCheckReport_1:
   \   00001E                ; Setup parameters for call to function osal_memcmp
   \   00001E   85....       MOV     ?V0 + 4,?V0 + 0
   \   000021   85....       MOV     ?V0 + 5,?V0 + 1
   \   000024   75..00       MOV     ?V0 + 6,#0x0
   \   000027   78..         MOV     R0,#?V0 + 4
   \   000029   12....       LCALL   ?PUSH_XSTACK_I_THREE
   \   00002C   7C14         MOV     R4,#0x14
   \   00002E   7D00         MOV     R5,#0x0
   \   000030   8E82         MOV     DPL,R6
   \   000032   8F83         MOV     DPH,R7
   \   000034   A982         MOV     R1,DPL
   \   000036   AA83         MOV     R2,DPH
   \   000038   7B00         MOV     R3,#0x0
   \   00003A   12....       LCALL   ??osal_memcmp?relay
   \   00003D   7403         MOV     A,#0x3
   \   00003F   12....       LCALL   ?DEALLOC_XSTACK8
   \   000042   E9           MOV     A,R1
   \   000043   6401         XRL     A,#0x1
   \   000045   600A         JZ      ??gizCheckReport_3
    594              {
    595                  GIZWITS_LOG("valuepayload Changed\n");
    596                  gizwitsProtocol.waitReportDatapointFlag.flagpayload = 1;
   \   000047   90....       MOV     DPTR,#gizwitsProtocol + 168
   \   00004A   E0           MOVX    A,@DPTR
   \   00004B   D2E0         SETB    0xE0 /* A   */.0
   \   00004D   F0           MOVX    @DPTR,A
    597                  ret = 1;
   \   00004E   75..01       MOV     ?V0 + 2,#0x1
    598              }
    599          
    600          
    601              return ret;
   \                     ??gizCheckReport_3:
   \   000051   A9..         MOV     R1,?V0 + 2
   \                     ??gizCheckReport_2:
   \   000053   7F07         MOV     R7,#0x7
   \   000055   02....       LJMP    ?BANKED_LEAVE_XDATA
    602          }
    603          
    604          /**
    605          * @brief Áî®Êà∑Êï∞ÊçÆÁÇπÊï∞ÊçÆËΩ¨Êç¢‰∏∫Êú∫Êô∫‰∫ë‰∏äÊä•Êï∞ÊçÆÁÇπÊï∞ÊçÆ
    606          *
    607          * @param [in]  dataPoints           : Áî®Êà∑Êï∞ÊçÆÁÇπÊï∞ÊçÆÂú∞ÂùÄ
    608          * @param [out] devStatusPtr         : Êú∫Êô∫‰∫ë‰∏äÊä•Êï∞ÊçÆÁÇπÊï∞ÊçÆÂú∞ÂùÄ
    609          *
    610          * @return 0,Ê≠£Á°ÆËøîÂõû;-1ÔºåÈîôËØØËøîÂõ?*/

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine1:
   \   000000   12....       LCALL   ?DEALLOC_XSTACK8
   \   000003                REQUIRE ??Subroutine67_0
   \   000003                ; // Fall through to label ??Subroutine67_0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    611          static int8 ICACHE_FLASH_ATTR gizDataPoints2ReportData(dataPoint_t *dataPoints , uint8 *outData,uint32 *outDataLen)
   \                     gizDataPoints2ReportData:
    612          {
   \   000000   74F0         MOV     A,#-0x10
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 16
   \   000005                ; Auto size: 21
   \   000005   74EB         MOV     A,#-0x15
   \   000007   12....       LCALL   ?ALLOC_XSTACK8
   \   00000A   EA           MOV     A,R2
   \   00000B   FE           MOV     R6,A
   \   00000C   EB           MOV     A,R3
   \   00000D   FF           MOV     R7,A
   \   00000E   8C..         MOV     ?V0 + 2,R4
   \   000010   8D..         MOV     ?V0 + 3,R5
   \   000012   7425         MOV     A,#0x25
   \   000014   12....       LCALL   ?XSTACK_DISP0_8
   \   000017   12....       LCALL   ?Subroutine58 & 0xFFFF
    613              uint32 bitFieldByteLen= 0;//‰ΩçÊÆµÂ≠óËäÇÂ§ßÂ∞è
    614              uint32 bitFieldOffset = 0;//‰ΩçÂÅèÁß?  
    615              uint32 byteFieldOffset = 0;//Â≠óËäÇÂÅèÁßª
    616          
    617              uint8 allDatapointByteBuf[sizeof(gizwitsElongateP0Form_t)];//ÂºÄËæüÊúÄÂ§ßÊï∞ÊçÆÁÇπÁ©∫Èó¥
    618              osal_memset(allDatapointByteBuf,0,sizeof(gizwitsElongateP0Form_t));
   \                     ??CrossCallReturnLabel_94:
   \   00001A                ; Setup parameters for call to function osal_memset
   \   00001A   7C15         MOV     R4,#0x15
   \   00001C   7D00         MOV     R5,#0x0
   \   00001E   7900         MOV     R1,#0x0
   \   000020   85..82       MOV     DPL,?XSP + 0
   \   000023   85..83       MOV     DPH,?XSP + 1
   \   000026   AA82         MOV     R2,DPL
   \   000028   AB83         MOV     R3,DPH
   \   00002A   12....       LCALL   ??osal_memset?relay
    619          
    620              osal_memcpy(allDatapointByteBuf,(uint8 *)&gizwitsProtocol.waitReportDatapointFlag,DATAPOINT_FLAG_LEN);
   \   00002D                ; Setup parameters for call to function osal_memcpy
   \   00002D   75....       MOV     ?V0 + 4,#(gizwitsProtocol + 168) & 0xff
   \   000030   75....       MOV     ?V0 + 5,#((gizwitsProtocol + 168) >> 8) & 0xff
   \   000033   75..00       MOV     ?V0 + 6,#0x0
   \   000036   78..         MOV     R0,#?V0 + 4
   \   000038   12....       LCALL   ?PUSH_XSTACK_I_THREE
   \   00003B   7C01         MOV     R4,#0x1
   \   00003D   7D00         MOV     R5,#0x0
   \   00003F   7403         MOV     A,#0x3
   \   000041   12....       LCALL   ?XSTACK_DISP0_8
   \   000044   12....       LCALL   ?Subroutine44 & 0xFFFF
   \                     ??CrossCallReturnLabel_108:
   \   000047   12....       LCALL   ?DEALLOC_XSTACK8
    621              if(DATAPOINT_FLAG_LEN > 1)
    622              {
    623                  gizByteOrderExchange(allDatapointByteBuf,DATAPOINT_FLAG_LEN);
    624              }
    625              byteFieldOffset += DATAPOINT_FLAG_LEN;//ÂÖàÂÅèÁßªÂá∫FlagÂ§ßÂ∞èÁöÑ‰ΩçÁΩ?        
    626              devStatus_t devStatusTmp;//‰∏¥Êó∂ËÆæÂ§áÊï∞ÊçÆÁÇπÂèòÈá?    
                                 ^
Warning[Pe177]: variable "devStatusTmp" was declared but never referenced
    627              if((NULL == dataPoints) || (NULL == outData))
   \   00004A   EE           MOV     A,R6
   \   00004B   4F           ORL     A,R7
   \   00004C   6006         JZ      ??gizDataPoints2ReportData_0
   \   00004E   E5..         MOV     A,?V0 + 2
   \   000050   45..         ORL     A,?V0 + 3
   \   000052   7004         JNZ     ??gizDataPoints2ReportData_1
    628              {
    629                  GIZWITS_LOG("gizDataPoints2ReportData Error , Illegal Param\n");
    630                  return -1;
   \                     ??gizDataPoints2ReportData_0:
   \   000054   79FF         MOV     R1,#-0x1
   \   000056   807C         SJMP    ??gizDataPoints2ReportData_2
    631              }
    632          
    633              /*** Â°´ÂÖÖ‰ΩçÊÆµ ***/
    634          
    635              /* ÂæÖbitÊÆµÊãºË£ÖÁªìÊù?ËÆ°ÁÆóÊï∞ÂÄºÊÆµÁöÑÂÅèÁß?*/
    636              if(0 == bitFieldOffset)
    637              {
    638                  bitFieldByteLen = 0;
    639              }
    640              else
    641              {
    642                  if(0 == bitFieldOffset%8)
    643                  {
    644                      bitFieldByteLen = bitFieldOffset/8;
    645                  }
    646                  else
    647                  {
    648                      bitFieldByteLen = bitFieldOffset/8 + 1;
    649                  }
    650              }
    651              /** ‰ΩçÊÆµÂ≠óËäÇÂ∫èËΩ¨Êç?**/
    652              if(bitFieldByteLen > 1)
    653              {
    654                  gizByteOrderExchange((uint8 *)&allDatapointByteBuf[byteFieldOffset],bitFieldByteLen);
    655              }
    656              
    657              byteFieldOffset += bitFieldByteLen;//ÂÅèÁßªÂá∫‰ΩçÊÆµÂç†Áî®Â≠óËäÇÊï∞
   \                     ??gizDataPoints2ReportData_1:
   \   000058   90....       MOV     DPTR,#__Constant_1
   \   00005B   78..         MOV     R0,#?V0 + 4
   \   00005D   12....       LCALL   ?L_MOV_X
    658          
    659              /*** Â§ÑÁêÜÊï∞ÂÄºÊÆµ ***/
    660          
    661          
    662          
    663          
    664          
    665              if(gizwitsProtocol.waitReportDatapointFlag.flagpayload)
   \   000060   90....       MOV     DPTR,#gizwitsProtocol + 168
   \   000063   E0           MOVX    A,@DPTR
   \   000064   A2E0         MOV     C,0xE0 /* A   */.0
   \   000066   5023         JNC     ??gizDataPoints2ReportData_3
    666              {
    667                  osal_memcpy((uint8 *)&allDatapointByteBuf[byteFieldOffset],(uint8 *)dataPoints->valuepayload,sizeof(dataPoints->valuepayload));
   \   000068                ; Setup parameters for call to function osal_memcpy
   \   000068   8E..         MOV     ?V0 + 4,R6
   \   00006A   8F..         MOV     ?V0 + 5,R7
   \   00006C   75..00       MOV     ?V0 + 6,#0x0
   \   00006F   78..         MOV     R0,#?V0 + 4
   \   000071   12....       LCALL   ?PUSH_XSTACK_I_THREE
   \   000074   7C14         MOV     R4,#0x14
   \   000076   7D00         MOV     R5,#0x0
   \   000078   7404         MOV     A,#0x4
   \   00007A   12....       LCALL   ?XSTACK_DISP0_8
   \   00007D   12....       LCALL   ?Subroutine44 & 0xFFFF
   \                     ??CrossCallReturnLabel_109:
   \   000080   12....       LCALL   ?DEALLOC_XSTACK8
    668                  byteFieldOffset += sizeof(dataPoints->valuepayload);
   \   000083   90....       MOV     DPTR,#__Constant_15
   \   000086   78..         MOV     R0,#?V0 + 4
   \   000088   12....       LCALL   ?L_MOV_X
    669              }
    670          
    671              osal_memset((uint8 *)&gizwitsProtocol.waitReportDatapointFlag,0,DATAPOINT_FLAG_LEN);//Ê∏ÖÁ©∫Ê†áÂøó‰Ω?  
   \                     ??gizDataPoints2ReportData_3:
   \   00008B                ; Setup parameters for call to function osal_memset
   \   00008B   7C01         MOV     R4,#0x1
   \   00008D   7D00         MOV     R5,#0x0
   \   00008F   7900         MOV     R1,#0x0
   \   000091   7A..         MOV     R2,#(gizwitsProtocol + 168) & 0xff
   \   000093   7B..         MOV     R3,#((gizwitsProtocol + 168) >> 8) & 0xff
   \   000095   12....       LCALL   ??osal_memset?relay
    672              *outDataLen = byteFieldOffset;
   \   000098   85..82       MOV     DPL,?V0 + 0
   \   00009B   85..83       MOV     DPH,?V0 + 1
   \   00009E   78..         MOV     R0,#?V0 + 4
   \   0000A0   12....       LCALL   ?L_MOV_TO_X
    673              osal_memcpy(outData,allDatapointByteBuf,*outDataLen);
   \   0000A3                ; Setup parameters for call to function osal_memcpy
   \   0000A3   85..82       MOV     DPL,?XSP + 0
   \   0000A6   85..83       MOV     DPH,?XSP + 1
   \   0000A9   A982         MOV     R1,DPL
   \   0000AB   AA83         MOV     R2,DPH
   \   0000AD   89..         MOV     ?V0 + 4,R1
   \   0000AF   8A..         MOV     ?V0 + 5,R2
   \   0000B1   75..00       MOV     ?V0 + 6,#0x0
   \   0000B4   78..         MOV     R0,#?V0 + 4
   \   0000B6   12....       LCALL   ?PUSH_XSTACK_I_THREE
   \   0000B9   85..82       MOV     DPL,?V0 + 0
   \   0000BC   85..83       MOV     DPH,?V0 + 1
   \   0000BF   78..         MOV     R0,#?V0 + 4
   \   0000C1   12....       LCALL   ?L_MOV_X
   \   0000C4   AC..         MOV     R4,?V0 + 4
   \   0000C6   AD..         MOV     R5,?V0 + 5
   \   0000C8   AA..         MOV     R2,?V0 + 2
   \   0000CA   AB..         MOV     R3,?V0 + 3
   \   0000CC   12....       LCALL   ??Subroutine68_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_121:
   \   0000CF   12....       LCALL   ?DEALLOC_XSTACK8
    674              return 0;
   \   0000D2   7900         MOV     R1,#0x0
   \                     ??gizDataPoints2ReportData_2:
   \   0000D4   7415         MOV     A,#0x15
   \   0000D6   02....       LJMP    ?Subroutine1 & 0xFFFF
    675          }
    676          
    677          /**@} */
    678          
    679          
    680          /**
    681          * @brief Êé•Êî∂ÂçèËÆÆÊä•ÊñáÂπ∂ËøõË°åÁõ∏Â∫îÁöÑÂçèËÆÆÂ§ÑÁêÜ
    682          
    683          * WifiÊ®°ÁªÑÊé•Êî∂Êù•Ëá™‰∫ëÁ´ØÊàñAPPÁ´Ø‰∏ãÂèëÁöÑÁõ∏ÂÖ≥ÂçèËÆÆÊï∞ÊçÆÂèëÈÄÅÂà∞MCUÁ´ØÔºåÁªèËøáÂçèËÆÆÊä•ÊñáËß£ÊûêÂêéÂ∞ÜÁõ∏ÂÖ≥ÂçèËÆÆÊï∞ÊçÆ‰º†ÂÖ•Ê¨°ÂáΩÊï∞ÔºåËøõË°å‰∏ã‰∏ÄÊ≠•ÁöÑÂçèËÆÆÂ§ÑÁêÜ
    684          
    685          * @param[in] inData   : ËæìÂÖ•ÁöÑÂçèËÆÆÊï∞Êç?* @param[in] inLen    : ËæìÂÖ•Êï∞ÊçÆÁöÑÈïøÂ∫?* @param[out] outData : ËæìÂá∫ÁöÑÂçèËÆÆÊï∞Êç?* @param[out] outLen  : ËæìÂá∫Êï∞ÊçÆÁöÑÈïøÂ∫?* @return 0Ôº?ÊâßË°åÊàêÂäüÔº?Èù?0Ôº?Â§±Ë¥•
    686          */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    687          static int8 gizProtocolIssuedProcess(uint8 *inData, uint32 inLen, uint8 *outData, uint32 *outLen)
   \                     gizProtocolIssuedProcess:
    688          {
   \   000000   74EF         MOV     A,#-0x11
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 17
   \   000005                ; Auto size: 0
   \   000005   8A..         MOV     ?V0 + 2,R2
   \   000007   8B..         MOV     ?V0 + 3,R3
   \   000009   8C..         MOV     ?V0 + 0,R4
   \   00000B   8D..         MOV     ?V0 + 1,R5
   \   00000D   7411         MOV     A,#0x11
   \   00000F   12....       LCALL   ?XSTACK_DISP0_8
   \   000012   78..         MOV     R0,#?V0 + 4
   \   000014   12....       LCALL   ?L_MOV_X
   \   000017   7415         MOV     A,#0x15
   \   000019   12....       LCALL   ?XSTACK_DISP0_8
   \   00001C   E0           MOVX    A,@DPTR
   \   00001D   FE           MOV     R6,A
   \   00001E   A3           INC     DPTR
   \   00001F   E0           MOVX    A,@DPTR
   \   000020   FF           MOV     R7,A
    689              protocolP0Head_t *protocolIssuedData = (protocolP0Head_t *)inData;
    690              uint8 issuedAction = 0;
    691              issuedAction = protocolIssuedData->action;
   \   000021   8A82         MOV     DPL,R2
   \   000023   8B83         MOV     DPH,R3
   \   000025   A3           INC     DPTR
   \   000026   A3           INC     DPTR
   \   000027   A3           INC     DPTR
   \   000028   A3           INC     DPTR
   \   000029   A3           INC     DPTR
   \   00002A   A3           INC     DPTR
   \   00002B   A3           INC     DPTR
   \   00002C   A3           INC     DPTR
   \   00002D   E0           MOVX    A,@DPTR
   \   00002E   F5..         MOV     ?V0 + 8,A
    692          
    693              if((NULL == inData)||(NULL == outData)||(NULL == outLen))
   \   000030   EA           MOV     A,R2
   \   000031   45..         ORL     A,?V0 + 3
   \   000033   6009         JZ      ??gizProtocolIssuedProcess_0
   \   000035   EC           MOV     A,R4
   \   000036   45..         ORL     A,?V0 + 1
   \   000038   6004         JZ      ??gizProtocolIssuedProcess_0
   \   00003A   EE           MOV     A,R6
   \   00003B   4F           ORL     A,R7
   \   00003C   7005         JNZ     ??gizProtocolIssuedProcess_1
    694              {
    695                  GIZWITS_LOG("gizProtocolIssuedProcess Error , Illegal Param\n");
    696                  return -1;
   \                     ??gizProtocolIssuedProcess_0:
   \   00003E   79FF         MOV     R1,#-0x1
   \   000040   02....       LJMP    ??gizProtocolIssuedProcess_2 & 0xFFFF
    697              }
    698              
    699              osal_memset((uint8 *)&gizwitsProtocol.issuedProcessEvent, 0, sizeof(eventInfo_t));
   \                     ??gizProtocolIssuedProcess_1:
   \   000043                ; Setup parameters for call to function osal_memset
   \   000043   7C12         MOV     R4,#0x12
   \   000045   7D00         MOV     R5,#0x0
   \   000047   7900         MOV     R1,#0x0
   \   000049   7A..         MOV     R2,#(gizwitsProtocol + 114) & 0xff
   \   00004B   7B..         MOV     R3,#((gizwitsProtocol + 114) >> 8) & 0xff
   \   00004D   12....       LCALL   ??osal_memset?relay
    700              switch(issuedAction)
   \   000050   E5..         MOV     A,?V0 + 8
   \   000052   24FB         ADD     A,#-0x5
   \   000054   7003         JNZ     $+5
   \   000056   02....       LJMP    ??gizProtocolIssuedProcess_3 & 0xFFFF
   \   000059   24F4         ADD     A,#-0xc
   \   00005B   6006         JZ      ??gizProtocolIssuedProcess_4
   \   00005D   14           DEC     A
   \   00005E   602C         JZ      ??gizProtocolIssuedProcess_5
   \   000060   02....       LJMP    ??gizProtocolIssuedProcess_6 & 0xFFFF
    701              {
    702                  case ACTION_CONTROL_DEVICE:
    703                      GIZWITS_LOG("ACTION_ELONGATE_CONTROL_DEVICE \n");
    704                      gizDataPoint2Event(inData+sizeof(protocolP0Head_t), &gizwitsProtocol.issuedProcessEvent,&gizwitsProtocol.gizCurrentDataPoint);
   \                     ??gizProtocolIssuedProcess_4:
   \   000063                ; Setup parameters for call to function gizDataPoint2Event
   \   000063   75....       MOV     ?V0 + 0,#(gizwitsProtocol + 194) & 0xff
   \   000066   75....       MOV     ?V0 + 1,#((gizwitsProtocol + 194) >> 8) & 0xff
   \   000069   78..         MOV     R0,#?V0 + 0
   \   00006B   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   00006E   7C..         MOV     R4,#(gizwitsProtocol + 114) & 0xff
   \   000070   7D..         MOV     R5,#((gizwitsProtocol + 114) >> 8) & 0xff
   \   000072   E5..         MOV     A,?V0 + 2
   \   000074   2409         ADD     A,#0x9
   \   000076   FA           MOV     R2,A
   \   000077   E5..         MOV     A,?V0 + 3
   \   000079   3400         ADDC    A,#0x0
   \   00007B   FB           MOV     R3,A
   \   00007C   12....       LCALL   ??gizDataPoint2Event?relay
   \   00007F   7402         MOV     A,#0x2
   \   000081   12....       LCALL   ?DEALLOC_XSTACK8
    705                      gizwitsProtocol.issuedFlag = ACTION_CONTROL_TYPE;
   \   000084   90....       MOV     DPTR,#gizwitsProtocol
   \   000087   7401         MOV     A,#0x1
   \   000089   02....       LJMP    ??gizProtocolIssuedProcess_7 & 0xFFFF
    706                      outData = NULL;
    707                      *outLen = 0;
    708                      break;
    709                  
    710                  case ACTION_READ_DEV_STATUS:
    711                      GIZWITS_LOG("ACTION_ELONGATE_READ_DEV_STATUS \n");          
    712                      osal_memcpy((uint8 *)&gizwitsProtocol.waitReportDatapointFlag,inData+sizeof(protocolP0Head_t),DATAPOINT_FLAG_LEN);//Êã∑Ë¥ùÊü•ËØ¢FLAG               
   \                     ??gizProtocolIssuedProcess_5:
   \   00008C                ; Setup parameters for call to function osal_memcpy
   \   00008C   E5..         MOV     A,?V0 + 2
   \   00008E   2409         ADD     A,#0x9
   \   000090   F5..         MOV     ?V0 + 4,A
   \   000092   E5..         MOV     A,?V0 + 3
   \   000094   3400         ADDC    A,#0x0
   \   000096   F5..         MOV     ?V0 + 5,A
   \   000098   75..00       MOV     ?V0 + 6,#0x0
   \   00009B   78..         MOV     R0,#?V0 + 4
   \   00009D   12....       LCALL   ?PUSH_XSTACK_I_THREE
   \   0000A0   7C01         MOV     R4,#0x1
   \   0000A2   7D00         MOV     R5,#0x0
   \   0000A4   7A..         MOV     R2,#(gizwitsProtocol + 168) & 0xff
   \   0000A6   7B..         MOV     R3,#((gizwitsProtocol + 168) >> 8) & 0xff
   \   0000A8   12....       LCALL   ??Subroutine68_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_122:
   \   0000AB   12....       LCALL   ?DEALLOC_XSTACK8
    713                      if(DATAPOINT_FLAG_LEN > 1)
    714                      {
    715                              gizByteOrderExchange((uint8 *)&gizwitsProtocol.waitReportDatapointFlag,DATAPOINT_FLAG_LEN);
    716                      }
    717                                  
    718                      if(0 == gizDataPoints2ReportData(&gizwitsProtocol.gizLastDataPoint,gizwitsProtocol.reportData,(uint32 *)&gizwitsProtocol.reportDataLen))
   \   0000AE                ; Setup parameters for call to function gizDataPoints2ReportData
   \   0000AE   75....       MOV     ?V0 + 2,#(gizwitsProtocol + 190) & 0xff
   \   0000B1   75....       MOV     ?V0 + 3,#((gizwitsProtocol + 190) >> 8) & 0xff
   \   0000B4   78..         MOV     R0,#?V0 + 2
   \   0000B6   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0000B9   7C..         MOV     R4,#(gizwitsProtocol + 169) & 0xff
   \   0000BB   7D..         MOV     R5,#((gizwitsProtocol + 169) >> 8) & 0xff
   \   0000BD   7A..         MOV     R2,#(gizwitsProtocol + 214) & 0xff
   \   0000BF   7B..         MOV     R3,#((gizwitsProtocol + 214) >> 8) & 0xff
   \   0000C1   12....       LCALL   ??gizDataPoints2ReportData?relay
   \   0000C4   7402         MOV     A,#0x2
   \   0000C6   12....       LCALL   ?DEALLOC_XSTACK8
   \   0000C9   E9           MOV     A,R1
   \   0000CA   6003         JZ      $+5
   \   0000CC   02....       LJMP    ??gizProtocolIssuedProcess_0 & 0xFFFF
    719                      {  
    720                          osal_memcpy(outData, (uint8 *)&gizwitsProtocol.reportData, gizwitsProtocol.reportDataLen);
   \   0000CF                ; Setup parameters for call to function osal_memcpy
   \   0000CF   75....       MOV     ?V0 + 4,#(gizwitsProtocol + 169) & 0xff
   \   0000D2   75....       MOV     ?V0 + 5,#((gizwitsProtocol + 169) >> 8) & 0xff
   \   0000D5   78..         MOV     R0,#?V0 + 4
   \   0000D7   12....       LCALL   ?PUSH_XSTACK_I_THREE
   \   0000DA   90....       MOV     DPTR,#gizwitsProtocol + 190
   \   0000DD   78..         MOV     R0,#?V0 + 4
   \   0000DF   12....       LCALL   ?L_MOV_X
   \   0000E2   AC..         MOV     R4,?V0 + 4
   \   0000E4   AD..         MOV     R5,?V0 + 5
   \   0000E6   AA..         MOV     R2,?V0 + 0
   \   0000E8   AB..         MOV     R3,?V0 + 1
   \   0000EA   12....       LCALL   ??Subroutine68_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_123:
   \   0000ED   12....       LCALL   ?DEALLOC_XSTACK8
    721                          *outLen = gizwitsProtocol.reportDataLen;
   \   0000F0   90....       MOV     DPTR,#gizwitsProtocol + 190
   \   0000F3   8060         SJMP    ??gizProtocolIssuedProcess_8
    722                      }
    723                      else
    724                      {
    725                          return -1;
    726                      }
    727                      break;
    728                  case ACTION_W2D_TRANSPARENT_DATA:
    729                      osal_memcpy(gizwitsProtocol.transparentBuff, inData+sizeof(protocolP0Head_t), inLen-sizeof(protocolP0Head_t)-1);
   \                     ??gizProtocolIssuedProcess_3:
   \   0000F5                ; Setup parameters for call to function osal_memcpy
   \   0000F5   E5..         MOV     A,?V0 + 2
   \   0000F7   2409         ADD     A,#0x9
   \   0000F9   F5..         MOV     ?V0 + 0,A
   \   0000FB   E5..         MOV     A,?V0 + 3
   \   0000FD   3400         ADDC    A,#0x0
   \   0000FF   F5..         MOV     ?V0 + 1,A
   \   000101   75..00       MOV     ?V0 + 2,#0x0
   \   000104   78..         MOV     R0,#?V0 + 0
   \   000106   12....       LCALL   ?PUSH_XSTACK_I_THREE
   \   000109   85....       MOV     ?V0 + 0,?V0 + 4
   \   00010C   85....       MOV     ?V0 + 1,?V0 + 5
   \   00010F   E5..         MOV     A,?V0 + 0
   \   000111   24F6         ADD     A,#-0xa
   \   000113   FC           MOV     R4,A
   \   000114   E5..         MOV     A,?V0 + 1
   \   000116   34FF         ADDC    A,#-0x1
   \   000118   FD           MOV     R5,A
   \   000119   7A..         MOV     R2,#(gizwitsProtocol + 32) & 0xff
   \   00011B   7B..         MOV     R3,#((gizwitsProtocol + 32) >> 8) & 0xff
   \   00011D   12....       LCALL   ??Subroutine68_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_124:
   \   000120   12....       LCALL   ?DEALLOC_XSTACK8
    730                      gizwitsProtocol.transparentLen = inLen - sizeof(protocolP0Head_t) - 1;
   \   000123   90....       MOV     DPTR,#__Constant_fffffff6
   \   000126   78..         MOV     R0,#?V0 + 4
   \   000128   12....       LCALL   ?L_ADD_X
   \   00012B   90....       MOV     DPTR,#gizwitsProtocol + 63
   \   00012E   78..         MOV     R0,#?V0 + 4
   \   000130   12....       LCALL   ?L_MOV_TO_X
    731                      gizwitsProtocol.issuedProcessEvent.event[gizwitsProtocol.issuedProcessEvent.num] = TRANSPARENT_DATA;
   \   000133   90....       MOV     DPTR,#gizwitsProtocol + 114
   \   000136   E0           MOVX    A,@DPTR
   \   000137   F8           MOV     R0,A
   \   000138   74..         MOV     A,#(gizwitsProtocol + 115) & 0xff
   \   00013A   28           ADD     A,R0
   \   00013B   F582         MOV     DPL,A
   \   00013D   74..         MOV     A,#((gizwitsProtocol + 115) >> 8) & 0xff
   \   00013F   3400         ADDC    A,#0x0
   \   000141   F583         MOV     DPH,A
   \   000143   740F         MOV     A,#0xf
   \   000145   F0           MOVX    @DPTR,A
    732                      gizwitsProtocol.issuedProcessEvent.num++;
   \   000146   90....       MOV     DPTR,#gizwitsProtocol + 114
   \   000149   E0           MOVX    A,@DPTR
   \   00014A   04           INC     A
   \   00014B   F0           MOVX    @DPTR,A
    733                      gizwitsProtocol.issuedFlag = ACTION_W2D_TRANSPARENT_TYPE;
   \   00014C   90....       MOV     DPTR,#gizwitsProtocol
   \   00014F   7403         MOV     A,#0x3
   \                     ??gizProtocolIssuedProcess_7:
   \   000151   F0           MOVX    @DPTR,A
    734                      outData = NULL;
    735                      *outLen = 0;
   \   000152   90....       MOV     DPTR,#__Constant_0
   \                     ??gizProtocolIssuedProcess_8:
   \   000155   12....       LCALL   ?XLOAD_R2345
   \   000158   8E82         MOV     DPL,R6
   \   00015A   8F83         MOV     DPH,R7
   \   00015C   12....       LCALL   ?XSTORE_R2345
    736                      break;
    737                  
    738                  default:
    739                      break;
    740              }
    741          
    742              return 0;
   \                     ??gizProtocolIssuedProcess_6:
   \   00015F   7900         MOV     R1,#0x0
   \                     ??gizProtocolIssuedProcess_2:
   \   000161   7F09         MOV     R7,#0x9
   \   000163   02....       LJMP    ?BANKED_LEAVE_XDATA
    743          }
    744          /**
    745          * @brief ÂçèËÆÆ‰∏ãÂèëÊï∞ÊçÆËøîÂõûACK
    746          *
    747          * @param [in] head                  : ÂçèËÆÆÂ§¥ÊåáÈí?* @param [in] data                  : Êï∞ÊçÆÂú∞ÂùÄ
    748          * @param [in] len                   : Êï∞ÊçÆÈïøÂ∫¶
    749          *
    750          * @return : ÊúâÊïàÊï∞ÊçÆÈïøÂ∫¶,Ê≠£Á°ÆËøîÂõû;-1ÔºåÈîôËØØËøîÂõ?*/

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    751          static int32 gizProtocolIssuedDataAck(protocolHead_t *head, uint8 *data, uint32 len)
   \                     gizProtocolIssuedDataAck:
    752          {
   \   000000   74F1         MOV     A,#-0xf
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 15
   \   000005                ; Auto size: 31
   \   000005   74E1         MOV     A,#-0x1f
   \   000007   12....       LCALL   ?ALLOC_XSTACK8
   \   00000A   742E         MOV     A,#0x2e
   \   00000C   12....       LCALL   ?XSTACK_DISP0_8
   \   00000F   78..         MOV     R0,#?V0 + 0
   \   000011   12....       LCALL   ?L_MOV_X
    753              int32 ret = 0;
    754              uint16 dataLen = 0;
    755          
    756              uint8 tx_buf[MAX_PACKAGE_LEN];
    757              uint8 *pTxBuf = tx_buf;
    758          
    759              if((NULL == head)||(NULL == data))
   \   000014   EA           MOV     A,R2
   \   000015   4B           ORL     A,R3
   \   000016   6004         JZ      ??gizProtocolIssuedDataAck_0
   \   000018   EC           MOV     A,R4
   \   000019   4D           ORL     A,R5
   \   00001A   700B         JNZ     ??gizProtocolIssuedDataAck_1
    760              {
    761                  GIZWITS_LOG("gizProtocolIssuedDataAck Error , Illegal Param\n");
    762                  return -1;
   \                     ??gizProtocolIssuedDataAck_0:
   \   00001C   7AFF         MOV     R2,#-0x1
   \   00001E   7BFF         MOV     R3,#-0x1
   \   000020   7CFF         MOV     R4,#-0x1
   \   000022   7DFF         MOV     R5,#-0x1
   \   000024   02....       LJMP    ??gizProtocolIssuedDataAck_2 & 0xFFFF
    763              }
    764              
    765              if(0 == len)
   \                     ??gizProtocolIssuedDataAck_1:
   \   000027   E5..         MOV     A,?V0 + 0
   \   000029   45..         ORL     A,?V0 + 1
   \   00002B   45..         ORL     A,?V0 + 2
   \   00002D   45..         ORL     A,?V0 + 3
   \   00002F   7049         JNZ     ??gizProtocolIssuedDataAck_3
    766              {
    767                  dataLen =  5;
   \   000031   7E05         MOV     R6,#0x5
   \   000033   7F00         MOV     R7,#0x0
    768                  *pTxBuf ++= 0xFF;
   \   000035   85..82       MOV     DPL,?XSP + 0
   \   000038   85..83       MOV     DPH,?XSP + 1
   \   00003B   74FF         MOV     A,#-0x1
   \   00003D   F0           MOVX    @DPTR,A
    769                  *pTxBuf ++= 0xFF;
   \   00003E   7401         MOV     A,#0x1
   \   000040   12....       LCALL   ?XSTACK_DISP0_8
   \   000043   74FF         MOV     A,#-0x1
   \   000045   F0           MOVX    @DPTR,A
    770                  *pTxBuf ++= (uint8)(dataLen>>8);//len
   \   000046   7402         MOV     A,#0x2
   \   000048   12....       LCALL   ?XSTACK_DISP0_8
   \   00004B   E4           CLR     A
   \   00004C   F0           MOVX    @DPTR,A
    771                  *pTxBuf ++= (uint8)(dataLen);
   \   00004D   7403         MOV     A,#0x3
   \   00004F   12....       LCALL   ?XSTACK_DISP0_8
   \   000052   12....       LCALL   ?Subroutine15 & 0xFFFF
    772                  *pTxBuf ++= head->cmd+1;
   \                     ??CrossCallReturnLabel_14:
   \   000055   C0E0         PUSH    A
   \   000057   7404         MOV     A,#0x4
   \   000059   12....       LCALL   ?XSTACK_DISP0_8
   \   00005C   D0E0         POP     A
   \   00005E   12....       LCALL   ?Subroutine16 & 0xFFFF
    773                  *pTxBuf ++= head->sn;//sn
   \                     ??CrossCallReturnLabel_16:
   \   000061   C0E0         PUSH    A
   \   000063   EE           MOV     A,R6
   \   000064   12....       LCALL   ?XSTACK_DISP0_8
   \   000067   D0E0         POP     A
   \   000069   F0           MOVX    @DPTR,A
    774                  *pTxBuf ++= 0x00;//flag
   \   00006A   7406         MOV     A,#0x6
   \   00006C   12....       LCALL   ?XSTACK_DISP0_8
   \   00006F   E4           CLR     A
   \   000070   F0           MOVX    @DPTR,A
    775                  *pTxBuf ++= 0x00;//flag
   \   000071   7407         MOV     A,#0x7
   \   000073   12....       LCALL   ?XSTACK_DISP0_8
   \   000076   E4           CLR     A
   \   000077   F0           MOVX    @DPTR,A
   \   000078   806C         SJMP    ??gizProtocolIssuedDataAck_4
    776              }
    777              else
    778              {
    779                  dataLen = 6 + len;
   \                     ??gizProtocolIssuedDataAck_3:
   \   00007A   85....       MOV     ?V0 + 4,?V0 + 0
   \   00007D   85....       MOV     ?V0 + 5,?V0 + 1
   \   000080   E5..         MOV     A,?V0 + 4
   \   000082   2406         ADD     A,#0x6
   \   000084   FE           MOV     R6,A
   \   000085   E5..         MOV     A,?V0 + 5
   \   000087   12....       LCALL   ?Subroutine46 & 0xFFFF
    780                  *pTxBuf ++= 0xFF;
    781                  *pTxBuf ++= 0xFF;
   \                     ??CrossCallReturnLabel_73:
   \   00008A   12....       LCALL   ?XSTACK_DISP0_8
   \   00008D   74FF         MOV     A,#-0x1
   \   00008F   F0           MOVX    @DPTR,A
    782                  *pTxBuf ++= (uint8)(dataLen>>8);//len
   \   000090   7402         MOV     A,#0x2
   \   000092   12....       LCALL   ?XSTACK_DISP0_8
   \   000095   EF           MOV     A,R7
   \   000096   F0           MOVX    @DPTR,A
    783                  *pTxBuf ++= (uint8)(dataLen);
   \   000097   7403         MOV     A,#0x3
   \   000099   12....       LCALL   ?XSTACK_DISP0_8
   \   00009C   12....       LCALL   ?Subroutine15 & 0xFFFF
    784                  *pTxBuf ++= head->cmd+1;//0x1b cmd
   \                     ??CrossCallReturnLabel_15:
   \   00009F   C0E0         PUSH    A
   \   0000A1   7404         MOV     A,#0x4
   \   0000A3   12....       LCALL   ?XSTACK_DISP0_8
   \   0000A6   D0E0         POP     A
   \   0000A8   12....       LCALL   ?Subroutine16 & 0xFFFF
    785                  *pTxBuf ++= head->sn;//sn
   \                     ??CrossCallReturnLabel_17:
   \   0000AB   C0E0         PUSH    A
   \   0000AD   7405         MOV     A,#0x5
   \   0000AF   12....       LCALL   ?XSTACK_DISP0_8
   \   0000B2   D0E0         POP     A
   \   0000B4   F0           MOVX    @DPTR,A
    786                  *pTxBuf ++= 0x00;//flag
   \   0000B5   7406         MOV     A,#0x6
   \   0000B7   12....       LCALL   ?XSTACK_DISP0_8
   \   0000BA   E4           CLR     A
   \   0000BB   F0           MOVX    @DPTR,A
    787                  *pTxBuf ++= 0x00;//flag
   \   0000BC   7407         MOV     A,#0x7
   \   0000BE   12....       LCALL   ?XSTACK_DISP0_8
   \   0000C1   E4           CLR     A
   \   0000C2   F0           MOVX    @DPTR,A
    788                  *pTxBuf ++= ACTION_READ_DEV_STATUS_ACK;//P0_Cmd
   \   0000C3   7408         MOV     A,#0x8
   \   0000C5   12....       LCALL   ?XSTACK_DISP0_8
   \   0000C8   7413         MOV     A,#0x13
   \   0000CA   F0           MOVX    @DPTR,A
    789                  /* Êã∑Ë¥ùÊï∞ÊçÆÁÇπÊï∞Êç?*/
    790                  osal_memcpy(&tx_buf[9],data,len);
   \   0000CB                ; Setup parameters for call to function osal_memcpy
   \   0000CB   8C..         MOV     ?V0 + 4,R4
   \   0000CD   8D..         MOV     ?V0 + 5,R5
   \   0000CF   75..00       MOV     ?V0 + 6,#0x0
   \   0000D2   78..         MOV     R0,#?V0 + 4
   \   0000D4   12....       LCALL   ?PUSH_XSTACK_I_THREE
   \   0000D7   AC..         MOV     R4,?V0 + 0
   \   0000D9   AD..         MOV     R5,?V0 + 1
   \   0000DB   740C         MOV     A,#0xc
   \   0000DD   12....       LCALL   ?XSTACK_DISP0_8
   \   0000E0   12....       LCALL   ?Subroutine44 & 0xFFFF
    791              }
   \                     ??CrossCallReturnLabel_110:
   \   0000E3   12....       LCALL   ?DEALLOC_XSTACK8
   \                     ??gizProtocolIssuedDataAck_4:
   \   0000E6   12....       LCALL   ?Subroutine52 & 0xFFFF
   \                     ??CrossCallReturnLabel_81:
   \   0000E9   F5..         MOV     ?V0 + 2,A
   \   0000EB   F5..         MOV     ?V0 + 3,A
   \   0000ED                ; Setup parameters for call to function gizProtocolSum
   \   0000ED   78..         MOV     R0,#?V0 + 0
   \   0000EF   12....       LCALL   ?PUSH_XSTACK_I_FOUR
   \   0000F2   7404         MOV     A,#0x4
   \   0000F4   12....       LCALL   ?XSTACK_DISP0_8
   \   0000F7   12....       LCALL   ?Subroutine50 & 0xFFFF
   \                     ??CrossCallReturnLabel_155:
   \   0000FA   12....       LCALL   ?DEALLOC_XSTACK8
   \   0000FD   12....       LCALL   ?Subroutine47 & 0xFFFF
    792              tx_buf[dataLen + 4 - 1 ] = gizProtocolSum( tx_buf , (dataLen+4));
    793          
    794              ret = uartWrite(tx_buf, dataLen+4);
    795              if(ret < 0)
    796              {
    797                  //ÊâìÂç∞Êó•Âøó
    798                  GIZWITS_LOG("ERROR: uart write error %d \n", ret);
    799              }
    800              return ret;
   \                     ??CrossCallReturnLabel_75:
   \   000100   12....       LCALL   ?PUSH_XSTACK_I_FOUR
   \   000103   7404         MOV     A,#0x4
   \   000105   12....       LCALL   ?XSTACK_DISP0_8
   \   000108   12....       LCALL   ?Subroutine51 & 0xFFFF
   \                     ??CrossCallReturnLabel_147:
   \   00010B   12....       LCALL   ?DEALLOC_XSTACK8
   \                     ??gizProtocolIssuedDataAck_2:
   \   00010E   741F         MOV     A,#0x1f
   \   000110   02....       LJMP    ?Subroutine5 & 0xFFFF
    801          }

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine16:
   \   000000   12....       LCALL   ?Subroutine57 & 0xFFFF
   \                     ??CrossCallReturnLabel_91:
   \   000003   A3           INC     DPTR
   \   000004   E0           MOVX    A,@DPTR
   \   000005   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine15:
   \   000000   EE           MOV     A,R6
   \   000001   12....       LCALL   ?Subroutine57 & 0xFFFF
   \                     ??CrossCallReturnLabel_92:
   \   000004   E0           MOVX    A,@DPTR
   \   000005   04           INC     A
   \   000006   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine57:
   \   000000   F0           MOVX    @DPTR,A
   \   000001   8A82         MOV     DPL,R2
   \   000003   8B83         MOV     DPH,R3
   \   000005   A3           INC     DPTR
   \   000006   A3           INC     DPTR
   \   000007   A3           INC     DPTR
   \   000008   A3           INC     DPTR
   \   000009   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine51:
   \   000000   AA82         MOV     R2,DPL
   \   000002   AB83         MOV     R3,DPH
   \   000004                REQUIRE ??Subroutine71_0
   \   000004                ; // Fall through to label ??Subroutine71_0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine71_0:
   \   000000   12....       LCALL   ??uartWrite?relay
   \   000003   7404         MOV     A,#0x4
   \   000005   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine50:
   \   000000   AA82         MOV     R2,DPL
   \   000002   AB83         MOV     R3,DPH
   \   000004                REQUIRE ??Subroutine72_0
   \   000004                ; // Fall through to label ??Subroutine72_0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine72_0:
   \   000000   12....       LCALL   ??gizProtocolSum?relay
   \   000003   7404         MOV     A,#0x4
   \   000005   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine52:
   \   000000   EE           MOV     A,R6
   \   000001   2404         ADD     A,#0x4
   \   000003   F5..         MOV     ?V0 + 0,A
   \   000005   EF           MOV     A,R7
   \   000006   3400         ADDC    A,#0x0
   \   000008   F5..         MOV     ?V0 + 1,A
   \   00000A   E4           CLR     A
   \   00000B   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine47:
   \   000000   85..82       MOV     DPL,?XSP + 0
   \   000003   85..83       MOV     DPH,?XSP + 1
   \   000006   E582         MOV     A,DPL
   \   000008   2E           ADD     A,R6
   \   000009   F582         MOV     DPL,A
   \   00000B   E583         MOV     A,DPH
   \   00000D   3F           ADDC    A,R7
   \   00000E   F583         MOV     DPH,A
   \   000010   A3           INC     DPTR
   \   000011   A3           INC     DPTR
   \   000012   A3           INC     DPTR
   \   000013   E9           MOV     A,R1
   \   000014   F0           MOVX    @DPTR,A
   \   000015                ; Setup parameters for call to function uartWrite
   \   000015                ; Setup parameters for call to function uartWrite
   \   000015   78..         MOV     R0,#?V0 + 0
   \   000017   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine46:
   \   000000   3400         ADDC    A,#0x0
   \   000002   FF           MOV     R7,A
   \   000003   85..82       MOV     DPL,?XSP + 0
   \   000006   85..83       MOV     DPH,?XSP + 1
   \   000009   74FF         MOV     A,#-0x1
   \   00000B   F0           MOVX    @DPTR,A
   \   00000C   7401         MOV     A,#0x1
   \   00000E   22           RET
    802          
    803          /**
    804          * @brief ‰∏äÊä•Êï∞ÊçÆ
    805          *
    806          * @param [in] action            : PO cmd
    807          * @param [in] data              : Êï∞ÊçÆÂú∞ÂùÄ
    808          * @param [in] len               : Êï∞ÊçÆÈïøÂ∫¶
    809          *
    810          * @return : Ê≠£Á°ÆËøîÂõûÊúâÊïàÊï∞ÊçÆÈïøÂ∫¶;-1ÔºåÈîôËØØËøîÂõ?*/
    811          #pragma optimize=none

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    812          static int32 gizReportData(uint8 action, uint8 *data, uint32 len)
   \                     gizReportData:
    813          {
   \   000000   74E8         MOV     A,#-0x18
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 24
   \   000005                ; Auto size: 32
   \   000005   74E0         MOV     A,#-0x20
   \   000007   12....       LCALL   ?ALLOC_XSTACK8
   \   00000A   E9           MOV     A,R1
   \   00000B   85..82       MOV     DPL,?XSP + 0
   \   00000E   85..83       MOV     DPH,?XSP + 1
   \   000011   F0           MOVX    @DPTR,A
   \   000012   8A..         MOV     ?V0 + 14,R2
   \   000014   8B..         MOV     ?V0 + 15,R3
   \   000016   7438         MOV     A,#0x38
   \   000018   12....       LCALL   ?XSTACK_DISP0_8
   \   00001B   78..         MOV     R0,#?V0 + 4
   \   00001D   12....       LCALL   ?L_MOV_X
    814              int32 ret = 0;
   \   000020   90....       MOV     DPTR,#__Constant_0
   \   000023   78..         MOV     R0,#?V0 + 8
   \   000025   12....       LCALL   ?L_MOV_X
    815              uint8 tx_buf[MAX_PACKAGE_LEN];
    816              if(NULL == data)
   \   000028   E5..         MOV     A,?V0 + 14
   \   00002A   45..         ORL     A,?V0 + 15
   \   00002C   700B         JNZ     ??gizReportData_0
    817              {
    818                  GIZWITS_LOG("[Error] gizwitsPassthroughData Error \n");
    819                  return (-1);
   \   00002E   7AFF         MOV     R2,#-0x1
   \   000030   7BFF         MOV     R3,#-0x1
   \   000032   7CFF         MOV     R4,#-0x1
   \   000034   7DFF         MOV     R5,#-0x1
   \   000036   02....       LJMP    ??gizReportData_1 & 0xFFFF
    820              }
    821              uint8 *pTxBuf = tx_buf;
   \                     ??gizReportData_0:
   \   000039   7401         MOV     A,#0x1
   \   00003B   12....       LCALL   ?XSTACK_DISP0_8
   \   00003E   8582..       MOV     ?V0 + 12,DPL
   \   000041   8583..       MOV     ?V0 + 13,DPH
    822              uint16 data_len = 6 + len;
   \   000044   85....       MOV     ?V0 + 0,?V0 + 4
   \   000047   85....       MOV     ?V0 + 1,?V0 + 5
   \   00004A   E5..         MOV     A,?V0 + 0
   \   00004C   2406         ADD     A,#0x6
   \   00004E   FE           MOV     R6,A
   \   00004F   E5..         MOV     A,?V0 + 1
   \   000051   3400         ADDC    A,#0x0
   \   000053   FF           MOV     R7,A
    823              *pTxBuf ++= 0xFF;
   \   000054   85..82       MOV     DPL,?V0 + 12
   \   000057   85..83       MOV     DPH,?V0 + 13
   \   00005A   74FF         MOV     A,#-0x1
   \   00005C   F0           MOVX    @DPTR,A
   \   00005D   85..82       MOV     DPL,?V0 + 12
   \   000060   85..83       MOV     DPH,?V0 + 13
   \   000063   A3           INC     DPTR
   \   000064   8582..       MOV     ?V0 + 12,DPL
   \   000067   8583..       MOV     ?V0 + 13,DPH
    824              *pTxBuf ++= 0xFF;
   \   00006A   85..82       MOV     DPL,?V0 + 12
   \   00006D   85..83       MOV     DPH,?V0 + 13
   \   000070   74FF         MOV     A,#-0x1
   \   000072   F0           MOVX    @DPTR,A
   \   000073   85..82       MOV     DPL,?V0 + 12
   \   000076   85..83       MOV     DPH,?V0 + 13
   \   000079   A3           INC     DPTR
   \   00007A   8582..       MOV     ?V0 + 12,DPL
   \   00007D   8583..       MOV     ?V0 + 13,DPH
    825              *pTxBuf ++= (uint8)(data_len>>8);//len
   \   000080   EE           MOV     A,R6
   \   000081   F8           MOV     R0,A
   \   000082   EF           MOV     A,R7
   \   000083   F9           MOV     R1,A
   \   000084   E4           CLR     A
   \   000085   E9           MOV     A,R1
   \   000086   F8           MOV     R0,A
   \   000087   85..82       MOV     DPL,?V0 + 12
   \   00008A   85..83       MOV     DPH,?V0 + 13
   \   00008D   F0           MOVX    @DPTR,A
   \   00008E   85..82       MOV     DPL,?V0 + 12
   \   000091   85..83       MOV     DPH,?V0 + 13
   \   000094   A3           INC     DPTR
   \   000095   8582..       MOV     ?V0 + 12,DPL
   \   000098   8583..       MOV     ?V0 + 13,DPH
    826              *pTxBuf ++= (uint8)(data_len);
   \   00009B   EE           MOV     A,R6
   \   00009C   85..82       MOV     DPL,?V0 + 12
   \   00009F   85..83       MOV     DPH,?V0 + 13
   \   0000A2   F0           MOVX    @DPTR,A
   \   0000A3   85..82       MOV     DPL,?V0 + 12
   \   0000A6   85..83       MOV     DPH,?V0 + 13
   \   0000A9   A3           INC     DPTR
   \   0000AA   8582..       MOV     ?V0 + 12,DPL
   \   0000AD   8583..       MOV     ?V0 + 13,DPH
    827              *pTxBuf ++= CMD_REPORT_P0;//0x1b cmd
   \   0000B0   85..82       MOV     DPL,?V0 + 12
   \   0000B3   85..83       MOV     DPH,?V0 + 13
   \   0000B6   7405         MOV     A,#0x5
   \   0000B8   F0           MOVX    @DPTR,A
   \   0000B9   85..82       MOV     DPL,?V0 + 12
   \   0000BC   85..83       MOV     DPH,?V0 + 13
   \   0000BF   A3           INC     DPTR
   \   0000C0   8582..       MOV     ?V0 + 12,DPL
   \   0000C3   8583..       MOV     ?V0 + 13,DPH
    828              *pTxBuf ++= gizwitsProtocol.sn++;//sn
   \   0000C6   90....       MOV     DPTR,#gizwitsProtocol + 67
   \   0000C9   78..         MOV     R0,#?V0 + 0
   \   0000CB   12....       LCALL   ?L_MOV_X
   \   0000CE   E5..         MOV     A,?V0 + 0
   \   0000D0   85..82       MOV     DPL,?V0 + 12
   \   0000D3   85..83       MOV     DPH,?V0 + 13
   \   0000D6   E5..         MOV     A,?V0 + 0
   \   0000D8   F0           MOVX    @DPTR,A
   \   0000D9   90....       MOV     DPTR,#__Constant_1
   \   0000DC   78..         MOV     R0,#?V0 + 0
   \   0000DE   12....       LCALL   ?L_MOV_X
   \   0000E1   90....       MOV     DPTR,#gizwitsProtocol + 67
   \   0000E4   78..         MOV     R0,#?V0 + 0
   \   0000E6   12....       LCALL   ?L_ADD_TO_X
   \   0000E9   85..82       MOV     DPL,?V0 + 12
   \   0000EC   85..83       MOV     DPH,?V0 + 13
   \   0000EF   A3           INC     DPTR
   \   0000F0   8582..       MOV     ?V0 + 12,DPL
   \   0000F3   8583..       MOV     ?V0 + 13,DPH
    829              *pTxBuf ++= 0x00;//flag
   \   0000F6   85..82       MOV     DPL,?V0 + 12
   \   0000F9   85..83       MOV     DPH,?V0 + 13
   \   0000FC   7400         MOV     A,#0x0
   \   0000FE   F0           MOVX    @DPTR,A
   \   0000FF   85..82       MOV     DPL,?V0 + 12
   \   000102   85..83       MOV     DPH,?V0 + 13
   \   000105   A3           INC     DPTR
   \   000106   8582..       MOV     ?V0 + 12,DPL
   \   000109   8583..       MOV     ?V0 + 13,DPH
    830              *pTxBuf ++= 0x00;//flag
   \   00010C   85..82       MOV     DPL,?V0 + 12
   \   00010F   85..83       MOV     DPH,?V0 + 13
   \   000112   7400         MOV     A,#0x0
   \   000114   F0           MOVX    @DPTR,A
   \   000115   85..82       MOV     DPL,?V0 + 12
   \   000118   85..83       MOV     DPH,?V0 + 13
   \   00011B   A3           INC     DPTR
   \   00011C   8582..       MOV     ?V0 + 12,DPL
   \   00011F   8583..       MOV     ?V0 + 13,DPH
    831              *pTxBuf ++= action;//P0_Cmd
   \   000122   85..82       MOV     DPL,?XSP + 0
   \   000125   85..83       MOV     DPH,?XSP + 1
   \   000128   E0           MOVX    A,@DPTR
   \   000129   85..82       MOV     DPL,?V0 + 12
   \   00012C   85..83       MOV     DPH,?V0 + 13
   \   00012F   F0           MOVX    @DPTR,A
   \   000130   85..82       MOV     DPL,?V0 + 12
   \   000133   85..83       MOV     DPH,?V0 + 13
   \   000136   A3           INC     DPTR
   \   000137   8582..       MOV     ?V0 + 12,DPL
   \   00013A   8583..       MOV     ?V0 + 13,DPH
    832          
    833              /* Êã∑Ë¥ùÊï∞ÊçÆÁÇπÊï∞Êç?*/
    834              osal_memcpy(&tx_buf[9],data,len);
   \   00013D                ; Setup parameters for call to function osal_memcpy
   \   00013D   85....       MOV     ?V0 + 0,?V0 + 14
   \   000140   85....       MOV     ?V0 + 1,?V0 + 15
   \   000143   75..00       MOV     ?V0 + 2,#0x0
   \   000146   78..         MOV     R0,#?V0 + 0
   \   000148   12....       LCALL   ?PUSH_XSTACK_I_THREE
   \   00014B   85....       MOV     ?V0 + 0,?V0 + 4
   \   00014E   85....       MOV     ?V0 + 1,?V0 + 5
   \   000151   AC..         MOV     R4,?V0 + 0
   \   000153   AD..         MOV     R5,?V0 + 1
   \   000155   740D         MOV     A,#0xd
   \   000157   12....       LCALL   ?XSTACK_DISP0_8
   \   00015A   AA82         MOV     R2,DPL
   \   00015C   AB83         MOV     R3,DPH
   \   00015E   12....       LCALL   ??osal_memcpy?relay
   \   000161   7403         MOV     A,#0x3
   \   000163   12....       LCALL   ?DEALLOC_XSTACK8
    835              
    836              tx_buf[data_len + 4 - 1 ] = gizProtocolSum( tx_buf , (data_len+4));
   \   000166                ; Setup parameters for call to function gizProtocolSum
   \   000166   EE           MOV     A,R6
   \   000167   2404         ADD     A,#0x4
   \   000169   F5..         MOV     ?V0 + 0,A
   \   00016B   EF           MOV     A,R7
   \   00016C   3400         ADDC    A,#0x0
   \   00016E   F5..         MOV     ?V0 + 1,A
   \   000170   E4           CLR     A
   \   000171   F5..         MOV     ?V0 + 2,A
   \   000173   F5..         MOV     ?V0 + 3,A
   \   000175   78..         MOV     R0,#?V0 + 0
   \   000177   12....       LCALL   ?PUSH_XSTACK_I_FOUR
   \   00017A   7405         MOV     A,#0x5
   \   00017C   12....       LCALL   ?XSTACK_DISP0_8
   \   00017F   AA82         MOV     R2,DPL
   \   000181   AB83         MOV     R3,DPH
   \   000183   12....       LCALL   ??gizProtocolSum?relay
   \   000186   7404         MOV     A,#0x4
   \   000188   12....       LCALL   ?DEALLOC_XSTACK8
   \   00018B   E9           MOV     A,R1
   \   00018C   C0E0         PUSH    A
   \   00018E   7401         MOV     A,#0x1
   \   000190   12....       LCALL   ?XSTACK_DISP0_8
   \   000193   E582         MOV     A,DPL
   \   000195   2E           ADD     A,R6
   \   000196   F582         MOV     DPL,A
   \   000198   E583         MOV     A,DPH
   \   00019A   3F           ADDC    A,R7
   \   00019B   F583         MOV     DPH,A
   \   00019D   A3           INC     DPTR
   \   00019E   A3           INC     DPTR
   \   00019F   A3           INC     DPTR
   \   0001A0   D0E0         POP     A
   \   0001A2   F0           MOVX    @DPTR,A
    837              
    838                ret = uartWrite(tx_buf, data_len+4);
   \   0001A3                ; Setup parameters for call to function uartWrite
   \   0001A3   EE           MOV     A,R6
   \   0001A4   2404         ADD     A,#0x4
   \   0001A6   F5..         MOV     ?V0 + 0,A
   \   0001A8   EF           MOV     A,R7
   \   0001A9   3400         ADDC    A,#0x0
   \   0001AB   F5..         MOV     ?V0 + 1,A
   \   0001AD   E4           CLR     A
   \   0001AE   F5..         MOV     ?V0 + 2,A
   \   0001B0   F5..         MOV     ?V0 + 3,A
   \   0001B2   78..         MOV     R0,#?V0 + 0
   \   0001B4   12....       LCALL   ?PUSH_XSTACK_I_FOUR
   \   0001B7   7405         MOV     A,#0x5
   \   0001B9   12....       LCALL   ?XSTACK_DISP0_8
   \   0001BC   AA82         MOV     R2,DPL
   \   0001BE   AB83         MOV     R3,DPH
   \   0001C0   12....       LCALL   ??uartWrite?relay
   \   0001C3   7404         MOV     A,#0x4
   \   0001C5   12....       LCALL   ?DEALLOC_XSTACK8
   \   0001C8   8A..         MOV     ?V0 + 0,R2
   \   0001CA   8B..         MOV     ?V0 + 1,R3
   \   0001CC   8C..         MOV     ?V0 + 2,R4
   \   0001CE   8D..         MOV     ?V0 + 3,R5
   \   0001D0   85....       MOV     ?V0 + 8,?V0 + 0
   \   0001D3   85....       MOV     ?V0 + 9,?V0 + 1
   \   0001D6   85....       MOV     ?V0 + 10,?V0 + 2
   \   0001D9   85....       MOV     ?V0 + 11,?V0 + 3
    839              if(ret < 0)
   \   0001DC   90....       MOV     DPTR,#__Constant_0
   \   0001DF   78..         MOV     R0,#?V0 + 8
   \   0001E1   12....       LCALL   ?SL_GE_X
   \   0001E4   400A         JC      ??gizReportData_2
    840              {
    841                  //ÊâìÂç∞Êó•Âøó
    842                  GIZWITS_LOG("ERROR: uart write error %d \n", ret);
    843                  return -1;
   \   0001E6   7AFF         MOV     R2,#-0x1
   \   0001E8   7BFF         MOV     R3,#-0x1
   \   0001EA   7CFF         MOV     R4,#-0x1
   \   0001EC   7DFF         MOV     R5,#-0x1
   \   0001EE   802E         SJMP    ??gizReportData_1
    844              }
    845          
    846              gizProtocolWaitAck(tx_buf, data_len+4);
   \                     ??gizReportData_2:
   \   0001F0                ; Setup parameters for call to function gizProtocolWaitAck
   \   0001F0   EE           MOV     A,R6
   \   0001F1   2404         ADD     A,#0x4
   \   0001F3   F5..         MOV     ?V0 + 0,A
   \   0001F5   EF           MOV     A,R7
   \   0001F6   3400         ADDC    A,#0x0
   \   0001F8   F5..         MOV     ?V0 + 1,A
   \   0001FA   E4           CLR     A
   \   0001FB   F5..         MOV     ?V0 + 2,A
   \   0001FD   F5..         MOV     ?V0 + 3,A
   \   0001FF   78..         MOV     R0,#?V0 + 0
   \   000201   12....       LCALL   ?PUSH_XSTACK_I_FOUR
   \   000204   7405         MOV     A,#0x5
   \   000206   12....       LCALL   ?XSTACK_DISP0_8
   \   000209   AA82         MOV     R2,DPL
   \   00020B   AB83         MOV     R3,DPH
   \   00020D   12....       LCALL   ??gizProtocolWaitAck?relay
   \   000210   7404         MOV     A,#0x4
   \   000212   12....       LCALL   ?DEALLOC_XSTACK8
   \   000215   E9           MOV     A,R1
    847          
    848              return 0;
   \   000216   7A00         MOV     R2,#0x0
   \   000218   7B00         MOV     R3,#0x0
   \   00021A   7C00         MOV     R4,#0x0
   \   00021C   7D00         MOV     R5,#0x0
   \                     ??gizReportData_1:
   \   00021E   7420         MOV     A,#0x20
   \   000220   12....       LCALL   ?DEALLOC_XSTACK8
   \   000223   7F10         MOV     R7,#0x10
   \   000225   02....       LJMP    ?BANKED_LEAVE_XDATA
    849          }
    850          
    851          /**
    852          * @brief ‰∏äÊä•Êú∫Âà∂
    853          *
    854          * @param [in] currentData       : Êï∞ÊçÆÂú∞ÂùÄ
    855          *
    856          * @return : Êó?*/

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    857          static void gizDevReportPolicy(dataPoint_t *currentData)
   \                     gizDevReportPolicy:
    858          {
   \   000000   74F0         MOV     A,#-0x10
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 16
   \   000005                ; Auto size: 0
   \   000005   EA           MOV     A,R2
   \   000006   FE           MOV     R6,A
   \   000007   EB           MOV     A,R3
   \   000008   FF           MOV     R7,A
    859              /** ÂèòÂåñ‰∏äÊä•Êú∫Âà∂ **/
    860              if((1 == gizCheckReport(currentData, (dataPoint_t *)&gizwitsProtocol.gizLastDataPoint)))
   \   000009                ; Setup parameters for call to function gizCheckReport
   \   000009   7C..         MOV     R4,#(gizwitsProtocol + 214) & 0xff
   \   00000B   7D..         MOV     R5,#((gizwitsProtocol + 214) >> 8) & 0xff
   \   00000D   12....       LCALL   ??gizCheckReport?relay
   \   000010   E9           MOV     A,R1
   \   000011   6401         XRL     A,#0x1
   \   000013   704C         JNZ     ??gizDevReportPolicy_0
    861              {
    862                  GIZWITS_LOG("changed, report data\n");
    863                  if(0 == gizDataPoints2ReportData(currentData,gizwitsProtocol.reportData,(uint32 *)&gizwitsProtocol.reportDataLen))
   \   000015                ; Setup parameters for call to function gizDataPoints2ReportData
   \   000015   75....       MOV     ?V0 + 0,#(gizwitsProtocol + 190) & 0xff
   \   000018   75....       MOV     ?V0 + 1,#((gizwitsProtocol + 190) >> 8) & 0xff
   \   00001B   78..         MOV     R0,#?V0 + 0
   \   00001D   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000020   7C..         MOV     R4,#(gizwitsProtocol + 169) & 0xff
   \   000022   7D..         MOV     R5,#((gizwitsProtocol + 169) >> 8) & 0xff
   \   000024   EE           MOV     A,R6
   \   000025   FA           MOV     R2,A
   \   000026   EF           MOV     A,R7
   \   000027   FB           MOV     R3,A
   \   000028   12....       LCALL   ??gizDataPoints2ReportData?relay
   \   00002B   7402         MOV     A,#0x2
   \   00002D   12....       LCALL   ?DEALLOC_XSTACK8
   \   000030   E9           MOV     A,R1
   \   000031   7014         JNZ     ??gizDevReportPolicy_1
    864                  {
    865                      gizReportData(ACTION_REPORT_DEV_STATUS, gizwitsProtocol.reportData, gizwitsProtocol.reportDataLen);
   \   000033                ; Setup parameters for call to function gizReportData
   \   000033   90....       MOV     DPTR,#gizwitsProtocol + 190
   \   000036   12....       LCALL   ?PUSH_XSTACK8_X_FOUR
   \   000039   7A..         MOV     R2,#(gizwitsProtocol + 169) & 0xff
   \   00003B   7B..         MOV     R3,#((gizwitsProtocol + 169) >> 8) & 0xff
   \   00003D   7914         MOV     R1,#0x14
   \   00003F   12....       LCALL   ??gizReportData?relay
   \   000042   7404         MOV     A,#0x4
   \   000044   12....       LCALL   ?DEALLOC_XSTACK8
    866                  }
    867                  osal_memcpy((uint8 *)&gizwitsProtocol.gizLastDataPoint, (uint8 *)currentData, sizeof(dataPoint_t));
   \                     ??gizDevReportPolicy_1:
   \   000047                ; Setup parameters for call to function osal_memcpy
   \   000047   8E..         MOV     ?V0 + 0,R6
   \   000049   8F..         MOV     ?V0 + 1,R7
   \   00004B   75..00       MOV     ?V0 + 2,#0x0
   \   00004E   78..         MOV     R0,#?V0 + 0
   \   000050   12....       LCALL   ?PUSH_XSTACK_I_THREE
   \   000053   7C14         MOV     R4,#0x14
   \   000055   7D00         MOV     R5,#0x0
   \   000057   7A..         MOV     R2,#(gizwitsProtocol + 214) & 0xff
   \   000059   7B..         MOV     R3,#((gizwitsProtocol + 214) >> 8) & 0xff
   \   00005B   12....       LCALL   ??Subroutine68_0 & 0xFFFF
    868              }
   \                     ??CrossCallReturnLabel_125:
   \   00005E   12....       LCALL   ?DEALLOC_XSTACK8
    869              /** ÂÆöÊó∂‰∏äÊä•Êú∫Âà∂ **/
    870              if(0 == (gizGetTimerCount() % (600000)))
   \                     ??gizDevReportPolicy_0:
   \   000061                ; Setup parameters for call to function gizGetTimerCount
   \   000061   12....       LCALL   ??gizGetTimerCount?relay
   \   000064   8A..         MOV     ?V0 + 0,R2
   \   000066   8B..         MOV     ?V0 + 1,R3
   \   000068   8C..         MOV     ?V0 + 2,R4
   \   00006A   8D..         MOV     ?V0 + 3,R5
   \   00006C   90....       MOV     DPTR,#__Constant_927c0
   \   00006F   78..         MOV     R0,#?V0 + 4
   \   000071   12....       LCALL   ?L_MOV_X
   \   000074   78..         MOV     R0,#?V0 + 0
   \   000076   79..         MOV     R1,#?V0 + 4
   \   000078   12....       LCALL   ?UL_DIV_MOD
   \   00007B   E5..         MOV     A,?V0 + 4
   \   00007D   45..         ORL     A,?V0 + 5
   \   00007F   45..         ORL     A,?V0 + 6
   \   000081   45..         ORL     A,?V0 + 7
   \   000083   7059         JNZ     ??gizDevReportPolicy_2
    871              {
    872                  GIZWITS_LOG("Info: 600S report data\n");
    873                  osal_memset((uint8 *)&gizwitsProtocol.waitReportDatapointFlag,0xFF,DATAPOINT_FLAG_LEN);
   \   000085                ; Setup parameters for call to function osal_memset
   \   000085   7C01         MOV     R4,#0x1
   \   000087   7D00         MOV     R5,#0x0
   \   000089   79FF         MOV     R1,#-0x1
   \   00008B   7A..         MOV     R2,#(gizwitsProtocol + 168) & 0xff
   \   00008D   7B..         MOV     R3,#((gizwitsProtocol + 168) >> 8) & 0xff
   \   00008F   12....       LCALL   ??osal_memset?relay
    874                  if(0 == gizDataPoints2ReportData(currentData,gizwitsProtocol.reportData,(uint32 *)&gizwitsProtocol.reportDataLen))
   \   000092                ; Setup parameters for call to function gizDataPoints2ReportData
   \   000092   75....       MOV     ?V0 + 0,#(gizwitsProtocol + 190) & 0xff
   \   000095   75....       MOV     ?V0 + 1,#((gizwitsProtocol + 190) >> 8) & 0xff
   \   000098   78..         MOV     R0,#?V0 + 0
   \   00009A   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   00009D   7C..         MOV     R4,#(gizwitsProtocol + 169) & 0xff
   \   00009F   7D..         MOV     R5,#((gizwitsProtocol + 169) >> 8) & 0xff
   \   0000A1   EE           MOV     A,R6
   \   0000A2   FA           MOV     R2,A
   \   0000A3   EF           MOV     A,R7
   \   0000A4   FB           MOV     R3,A
   \   0000A5   12....       LCALL   ??gizDataPoints2ReportData?relay
   \   0000A8   7402         MOV     A,#0x2
   \   0000AA   12....       LCALL   ?DEALLOC_XSTACK8
   \   0000AD   E9           MOV     A,R1
   \   0000AE   7014         JNZ     ??gizDevReportPolicy_3
    875                      gizReportData(ACTION_REPORT_DEV_STATUS, gizwitsProtocol.reportData, gizwitsProtocol.reportDataLen);
   \   0000B0                ; Setup parameters for call to function gizReportData
   \   0000B0   90....       MOV     DPTR,#gizwitsProtocol + 190
   \   0000B3   12....       LCALL   ?PUSH_XSTACK8_X_FOUR
   \   0000B6   7A..         MOV     R2,#(gizwitsProtocol + 169) & 0xff
   \   0000B8   7B..         MOV     R3,#((gizwitsProtocol + 169) >> 8) & 0xff
   \   0000BA   7914         MOV     R1,#0x14
   \   0000BC   12....       LCALL   ??gizReportData?relay
   \   0000BF   7404         MOV     A,#0x4
   \   0000C1   12....       LCALL   ?DEALLOC_XSTACK8
    876                  osal_memcpy((uint8 *)&gizwitsProtocol.gizLastDataPoint, (uint8 *)currentData, sizeof(dataPoint_t));
   \                     ??gizDevReportPolicy_3:
   \   0000C4                ; Setup parameters for call to function osal_memcpy
   \   0000C4   8E..         MOV     ?V0 + 0,R6
   \   0000C6   8F..         MOV     ?V0 + 1,R7
   \   0000C8   75..00       MOV     ?V0 + 2,#0x0
   \   0000CB   78..         MOV     R0,#?V0 + 0
   \   0000CD   12....       LCALL   ?PUSH_XSTACK_I_THREE
   \   0000D0   7C14         MOV     R4,#0x14
   \   0000D2   7D00         MOV     R5,#0x0
   \   0000D4   7A..         MOV     R2,#(gizwitsProtocol + 214) & 0xff
   \   0000D6   7B..         MOV     R3,#((gizwitsProtocol + 214) >> 8) & 0xff
   \   0000D8   12....       LCALL   ??Subroutine68_0 & 0xFFFF
    877              }
   \                     ??CrossCallReturnLabel_126:
   \   0000DB   12....       LCALL   ?DEALLOC_XSTACK8
    878          }
   \                     ??gizDevReportPolicy_2:
   \   0000DE   02....       LJMP    ??Subroutine67_0 & 0xFFFF
    879          
    880          /**
    881          * @brief ‰ªéÁéØÂΩ¢ÁºìÂÜ≤Âå∫‰∏≠ÊäìÂèñ‰∏ÄÂåÖÊï∞Êç?*
    882          * @param [in]  rb                  : ËæìÂÖ•Êï∞ÊçÆÂú∞ÂùÄ
    883          * @param [out] data                : ËæìÂá∫Êï∞ÊçÆÂú∞ÂùÄ
    884          * @param [out] len                 : ËæìÂá∫Êï∞ÊçÆÈïøÂ∫¶
    885          *
    886          * @return : 0,Ê≠£Á°ÆËøîÂõû;-1ÔºåÈîôËØØËøîÂõ?-2ÔºåÊï∞ÊçÆÊ†°È™åÂ§±Ë¥?*/

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    887          static int8 gizProtocolGetOnePacket(rb_t *rb, uint8 *data, uint16 *len)
   \                     gizProtocolGetOnePacket:
    888          {
   \   000000   74EC         MOV     A,#-0x14
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 20
   \   000005                ; Auto size: 1
   \   000005   74FF         MOV     A,#-0x1
   \   000007   12....       LCALL   ?ALLOC_XSTACK8
   \   00000A   8A..         MOV     ?V0 + 2,R2
   \   00000C   8B..         MOV     ?V0 + 3,R3
   \   00000E   8C..         MOV     ?V0 + 0,R4
   \   000010   8D..         MOV     ?V0 + 1,R5
   \   000012   7415         MOV     A,#0x15
   \   000014   12....       LCALL   ?XSTACK_DISP0_8
   \   000017   E0           MOVX    A,@DPTR
   \   000018   F5..         MOV     ?V0 + 8,A
   \   00001A   A3           INC     DPTR
   \   00001B   E0           MOVX    A,@DPTR
   \   00001C   F5..         MOV     ?V0 + 9,A
    889              int32 ret = 0;
    890              uint8 sum = 0;
    891              int32 i = 0;
    892              uint8 tmpData;
    893              uint8 tmpLen = 0;
    894              uint16 tmpCount = 0;
   \   00001E   7E00         MOV     R6,#0x0
   \   000020   7F00         MOV     R7,#0x0
    895              static uint8 protocolFlag = 0;
    896              static uint16 protocolCount = 0;
    897              static uint8 lastData = 0;
    898              static uint8 debugCount = 0;
    899              uint8 *protocolBuff = data;
    900              protocolHead_t *head = NULL;
    901          
    902              if((NULL == rb) || (NULL == data) ||(NULL == len))
   \   000022   EA           MOV     A,R2
   \   000023   45..         ORL     A,?V0 + 3
   \   000025   600B         JZ      ??gizProtocolGetOnePacket_0
   \   000027   EC           MOV     A,R4
   \   000028   45..         ORL     A,?V0 + 1
   \   00002A   6006         JZ      ??gizProtocolGetOnePacket_0
   \   00002C   E5..         MOV     A,?V0 + 8
   \   00002E   45..         ORL     A,?V0 + 9
   \   000030   7005         JNZ     ??gizProtocolGetOnePacket_1
    903              {
    904                  GIZWITS_LOG("gizProtocolGetOnePacket Error , Illegal Param\n");
    905                  return -1;
   \                     ??gizProtocolGetOnePacket_0:
   \   000032   79FF         MOV     R1,#-0x1
   \   000034   02....       LJMP    ??gizProtocolGetOnePacket_2 & 0xFFFF
    906              }
    907          
    908              tmpLen = rbCanRead(rb);
   \                     ??gizProtocolGetOnePacket_1:
   \   000037                ; Setup parameters for call to function rbCanRead
   \   000037   12....       LCALL   ??rbCanRead?relay
   \   00003A   8A..         MOV     ?V0 + 4,R2
   \   00003C   EA           MOV     A,R2
    909              if(0 == tmpLen)
   \   00003D   60F3         JZ      ??gizProtocolGetOnePacket_0
    910              {
    911                  return -1;
    912              }
    913          
    914              for(i=0; i<tmpLen; i++)
   \   00003F   8E..         MOV     ?V0 + 5,R6
   \   000041   8E..         MOV     ?V0 + 6,R6
   \   000043   8E..         MOV     ?V0 + 7,R6
    915              {
    916                  ret = rbRead(rb, &tmpData, 1);
    917                  if(0 != ret)
   \                     ??gizProtocolGetOnePacket_3:
   \   000045                ; Setup parameters for call to function rbRead
   \   000045   75..01       MOV     ?V0 + 10,#0x1
   \   000048   75..00       MOV     ?V0 + 11,#0x0
   \   00004B   78..         MOV     R0,#?V0 + 10
   \   00004D   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000050   7402         MOV     A,#0x2
   \   000052   12....       LCALL   ?XSTACK_DISP0_8
   \   000055   AC82         MOV     R4,DPL
   \   000057   AD83         MOV     R5,DPH
   \   000059   AA..         MOV     R2,?V0 + 2
   \   00005B   AB..         MOV     R3,?V0 + 3
   \   00005D   12....       LCALL   ??rbRead?relay
   \   000060   7402         MOV     A,#0x2
   \   000062   12....       LCALL   ?DEALLOC_XSTACK8
   \   000065   EA           MOV     A,R2
   \   000066   F8           MOV     R0,A
   \   000067   EB           MOV     A,R3
   \   000068   F9           MOV     R1,A
   \   000069   EC           MOV     A,R4
   \   00006A   FA           MOV     R2,A
   \   00006B   ED           MOV     A,R5
   \   00006C   FB           MOV     R3,A
   \   00006D   E8           MOV     A,R0
   \   00006E   49           ORL     A,R1
   \   00006F   4A           ORL     A,R2
   \   000070   4B           ORL     A,R3
   \   000071   7003         JNZ     $+5
   \   000073   02....       LJMP    ??gizProtocolGetOnePacket_4 & 0xFFFF
    918                  {
    919                      if((0xFF == lastData) && (0xFF == tmpData))
   \   000076   90....       MOV     DPTR,#??lastData
   \   000079   E0           MOVX    A,@DPTR
   \   00007A   F4           CPL     A
   \   00007B   7038         JNZ     ??gizProtocolGetOnePacket_5
   \   00007D   85..82       MOV     DPL,?XSP + 0
   \   000080   85..83       MOV     DPH,?XSP + 1
   \   000083   E0           MOVX    A,@DPTR
   \   000084   F4           CPL     A
   \   000085   7029         JNZ     ??gizProtocolGetOnePacket_6
    920                      {
    921                          if(0 == protocolFlag)
   \   000087   90....       MOV     DPTR,#??protocolFlag
   \   00008A   E0           MOVX    A,@DPTR
   \   00008B   A2E0         MOV     C,0xE0 /* A   */.0
   \   00008D   400B         JC      ??gizProtocolGetOnePacket_7
    922                          {
    923                              protocolBuff[0] = 0xFF;
   \   00008F   12....       LCALL   ?Subroutine13 & 0xFFFF
    924                              protocolBuff[1] = 0xFF;
    925                              protocolCount = 2;
   \                     ??CrossCallReturnLabel_10:
   \   000092   F0           MOVX    @DPTR,A
    926                              protocolFlag = 1;
   \   000093   90....       MOV     DPTR,#??protocolFlag
   \   000096   04           INC     A
   \                     ??gizProtocolGetOnePacket_8:
   \   000097   F0           MOVX    @DPTR,A
   \   000098   8069         SJMP    ??gizProtocolGetOnePacket_9
    927                          }
    928                          else
    929                          {
    930                              if((protocolCount > 4) && (protocolCount != tmpCount))
   \                     ??gizProtocolGetOnePacket_7:
   \   00009A   12....       LCALL   ?Subroutine35 & 0xFFFF
   \                     ??CrossCallReturnLabel_52:
   \   00009D   4064         JC      ??gizProtocolGetOnePacket_9
   \   00009F   90....       MOV     DPTR,#??protocolCount
   \   0000A2   E0           MOVX    A,@DPTR
   \   0000A3   6E           XRL     A,R6
   \   0000A4   7003         JNZ     ??gizProtocolGetOnePacket_10
   \   0000A6   A3           INC     DPTR
   \   0000A7   E0           MOVX    A,@DPTR
   \   0000A8   6F           XRL     A,R7
   \                     ??gizProtocolGetOnePacket_10:
   \   0000A9   6058         JZ      ??gizProtocolGetOnePacket_9
    931                              {
    932                                  protocolBuff[0] = 0xFF;
   \   0000AB   12....       LCALL   ?Subroutine13 & 0xFFFF
    933                                  protocolBuff[1] = 0xFF;
    934                                  protocolCount = 2;
    935                              }
    936                          }
    937                      }
   \                     ??CrossCallReturnLabel_11:
   \   0000AE   80E7         SJMP    ??gizProtocolGetOnePacket_8
   \                     ??gizProtocolGetOnePacket_6:
   \   0000B0   E0           MOVX    A,@DPTR
   \   0000B1   6455         XRL     A,#0x55
   \   0000B3   604E         JZ      ??gizProtocolGetOnePacket_9
    938                      else if((0xFF == lastData) && (0x55 == tmpData))
    939                      {
    940                      }
    941                      else
    942                      {
    943                          if(1 == protocolFlag)
   \                     ??gizProtocolGetOnePacket_5:
   \   0000B5   90....       MOV     DPTR,#??protocolFlag
   \   0000B8   E0           MOVX    A,@DPTR
   \   0000B9   A2E0         MOV     C,0xE0 /* A   */.0
   \   0000BB   5046         JNC     ??gizProtocolGetOnePacket_9
    944                          {
    945                              protocolBuff[protocolCount] = tmpData;
   \   0000BD   85..82       MOV     DPL,?XSP + 0
   \   0000C0   85..83       MOV     DPH,?XSP + 1
   \   0000C3   E0           MOVX    A,@DPTR
   \   0000C4   C0E0         PUSH    A
   \   0000C6   12....       LCALL   ?Subroutine41 & 0xFFFF
   \                     ??CrossCallReturnLabel_65:
   \   0000C9   F582         MOV     DPL,A
   \   0000CB   E5..         MOV     A,?V0 + 1
   \   0000CD   39           ADDC    A,R1
   \   0000CE   F583         MOV     DPH,A
   \   0000D0   D0E0         POP     A
   \   0000D2   F0           MOVX    @DPTR,A
    946                              protocolCount++;
   \   0000D3   90....       MOV     DPTR,#??protocolCount
   \   0000D6   E0           MOVX    A,@DPTR
   \   0000D7   2401         ADD     A,#0x1
   \   0000D9   F0           MOVX    @DPTR,A
   \   0000DA   A3           INC     DPTR
   \   0000DB   E0           MOVX    A,@DPTR
   \   0000DC   3400         ADDC    A,#0x0
   \   0000DE   F0           MOVX    @DPTR,A
    947          
    948                              if(protocolCount > 4)
   \   0000DF   12....       LCALL   ?Subroutine35 & 0xFFFF
   \                     ??CrossCallReturnLabel_53:
   \   0000E2   401F         JC      ??gizProtocolGetOnePacket_9
    949                              {
    950                                  head = (protocolHead_t *)protocolBuff;
    951                                  tmpCount = gizProtocolExchangeBytes(head->len)+4;
   \   0000E4                ; Setup parameters for call to function gizProtocolExchangeBytes
   \   0000E4   85..82       MOV     DPL,?V0 + 0
   \   0000E7   85..83       MOV     DPH,?V0 + 1
   \   0000EA   A3           INC     DPTR
   \   0000EB   A3           INC     DPTR
   \   0000EC   12....       LCALL   ?Subroutine31 & 0xFFFF
   \                     ??CrossCallReturnLabel_43:
   \   0000EF   EA           MOV     A,R2
   \   0000F0   2404         ADD     A,#0x4
   \   0000F2   FE           MOV     R6,A
   \   0000F3   EB           MOV     A,R3
   \   0000F4   3400         ADDC    A,#0x0
   \   0000F6   FF           MOV     R7,A
    952                                  if(protocolCount == tmpCount)
   \   0000F7   90....       MOV     DPTR,#??protocolCount
   \   0000FA   E0           MOVX    A,@DPTR
   \   0000FB   6E           XRL     A,R6
   \   0000FC   7003         JNZ     ??gizProtocolGetOnePacket_11
   \   0000FE   A3           INC     DPTR
   \   0000FF   E0           MOVX    A,@DPTR
   \   000100   6F           XRL     A,R7
   \                     ??gizProtocolGetOnePacket_11:
   \   000101   6029         JZ      ??gizProtocolGetOnePacket_12
    953                                  {
    954                                      break;
    955                                  }
    956                              }
    957                          }
    958                      }
    959          
    960                      lastData = tmpData;
   \                     ??gizProtocolGetOnePacket_9:
   \   000103   85..82       MOV     DPL,?XSP + 0
   \   000106   85..83       MOV     DPH,?XSP + 1
   \   000109   E0           MOVX    A,@DPTR
   \   00010A   90....       MOV     DPTR,#??lastData
   \   00010D   F0           MOVX    @DPTR,A
    961                      debugCount++;
   \   00010E   90....       MOV     DPTR,#??debugCount
   \   000111   E0           MOVX    A,@DPTR
   \   000112   04           INC     A
   \   000113   F0           MOVX    @DPTR,A
    962                  }
    963              }
   \                     ??gizProtocolGetOnePacket_4:
   \   000114   90....       MOV     DPTR,#__Constant_ffffffff
   \   000117   78..         MOV     R0,#?V0 + 4
   \   000119   12....       LCALL   ?L_ADD_X
   \   00011C   A9..         MOV     R1,?V0 + 5
   \   00011E   AA..         MOV     R2,?V0 + 6
   \   000120   AB..         MOV     R3,?V0 + 7
   \   000122   E5..         MOV     A,?V0 + 4
   \   000124   49           ORL     A,R1
   \   000125   4A           ORL     A,R2
   \   000126   4B           ORL     A,R3
   \   000127   6003         JZ      $+5
   \   000129   02....       LJMP    ??gizProtocolGetOnePacket_3 & 0xFFFF
    964          
    965              if((protocolCount > 4) && (protocolCount == tmpCount))
   \                     ??gizProtocolGetOnePacket_12:
   \   00012C   12....       LCALL   ?Subroutine35 & 0xFFFF
   \                     ??CrossCallReturnLabel_54:
   \   00012F   5003         JNC     $+5
   \   000131   02....       LJMP    ??gizProtocolGetOnePacket_13 & 0xFFFF
   \   000134   90....       MOV     DPTR,#??protocolCount
   \   000137   E0           MOVX    A,@DPTR
   \   000138   6E           XRL     A,R6
   \   000139   7003         JNZ     ??gizProtocolGetOnePacket_14
   \   00013B   A3           INC     DPTR
   \   00013C   E0           MOVX    A,@DPTR
   \   00013D   6F           XRL     A,R7
   \                     ??gizProtocolGetOnePacket_14:
   \   00013E   7076         JNZ     ??gizProtocolGetOnePacket_13
    966              {
    967                  sum = gizProtocolSum(protocolBuff, protocolCount);
    968          
    969                  if(protocolBuff[protocolCount-1] == sum)
   \   000140   12....       LCALL   ?Subroutine41 & 0xFFFF
   \                     ??CrossCallReturnLabel_66:
   \   000143   F8           MOV     R0,A
   \   000144   E5..         MOV     A,?V0 + 1
   \   000146   39           ADDC    A,R1
   \   000147   F9           MOV     R1,A
   \   000148   E8           MOV     A,R0
   \   000149   24FF         ADD     A,#-0x1
   \   00014B   F582         MOV     DPL,A
   \   00014D   E9           MOV     A,R1
   \   00014E   34FF         ADDC    A,#-0x1
   \   000150   F583         MOV     DPH,A
   \   000152   E0           MOVX    A,@DPTR
   \   000153   F5..         MOV     ?V0 + 2,A
   \   000155                ; Setup parameters for call to function gizProtocolSum
   \   000155   90....       MOV     DPTR,#??protocolCount
   \   000158   E0           MOVX    A,@DPTR
   \   000159   F5..         MOV     ?V0 + 4,A
   \   00015B   A3           INC     DPTR
   \   00015C   E0           MOVX    A,@DPTR
   \   00015D   F5..         MOV     ?V0 + 5,A
   \   00015F   E4           CLR     A
   \   000160   F5..         MOV     ?V0 + 6,A
   \   000162   F5..         MOV     ?V0 + 7,A
   \   000164   78..         MOV     R0,#?V0 + 4
   \   000166   12....       LCALL   ?PUSH_XSTACK_I_FOUR
   \   000169   AA..         MOV     R2,?V0 + 0
   \   00016B   AB..         MOV     R3,?V0 + 1
   \   00016D   12....       LCALL   ??Subroutine72_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_162:
   \   000170   12....       LCALL   ?DEALLOC_XSTACK8
   \   000173   E9           MOV     A,R1
   \   000174   65..         XRL     A,?V0 + 2
   \   000176   703A         JNZ     ??gizProtocolGetOnePacket_15
    970                  {
    971                      osal_memcpy(data, protocolBuff, tmpCount);
   \   000178                ; Setup parameters for call to function osal_memcpy
   \   000178   85....       MOV     ?V0 + 4,?V0 + 0
   \   00017B   85....       MOV     ?V0 + 5,?V0 + 1
   \   00017E   78..         MOV     R0,#?V0 + 4
   \   000180   12....       LCALL   ?PUSH_XSTACK_I_THREE
   \   000183   EE           MOV     A,R6
   \   000184   FC           MOV     R4,A
   \   000185   EF           MOV     A,R7
   \   000186   FD           MOV     R5,A
   \   000187   AA..         MOV     R2,?V0 + 0
   \   000189   AB..         MOV     R3,?V0 + 1
   \   00018B   12....       LCALL   ??Subroutine68_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_127:
   \   00018E   12....       LCALL   ?DEALLOC_XSTACK8
    972                      *len = tmpCount;
   \   000191   85..82       MOV     DPL,?V0 + 8
   \   000194   85..83       MOV     DPH,?V0 + 9
   \   000197   EE           MOV     A,R6
   \   000198   F0           MOVX    @DPTR,A
   \   000199   A3           INC     DPTR
   \   00019A   EF           MOV     A,R7
   \   00019B   F0           MOVX    @DPTR,A
    973                      protocolFlag = 0;
   \   00019C   90....       MOV     DPTR,#??protocolFlag
   \   00019F   E4           CLR     A
   \   0001A0   F0           MOVX    @DPTR,A
    974          
    975                      protocolCount = 0;
   \   0001A1   90....       MOV     DPTR,#??protocolCount
   \   0001A4   F0           MOVX    @DPTR,A
   \   0001A5   A3           INC     DPTR
   \   0001A6   F0           MOVX    @DPTR,A
    976                      debugCount = 0;
   \   0001A7   90....       MOV     DPTR,#??debugCount
   \   0001AA   F0           MOVX    @DPTR,A
    977                      lastData = 0;
   \   0001AB   90....       MOV     DPTR,#??lastData
   \   0001AE   F0           MOVX    @DPTR,A
    978          
    979                      return 0;
   \   0001AF   F9           MOV     R1,A
   \   0001B0   8006         SJMP    ??gizProtocolGetOnePacket_2
    980                  }
    981                  else
    982                  {
    983                      return -2;
   \                     ??gizProtocolGetOnePacket_15:
   \   0001B2   79FE         MOV     R1,#-0x2
   \   0001B4   8002         SJMP    ??gizProtocolGetOnePacket_2
    984                  }
    985              }
    986          
    987              return 1;
   \                     ??gizProtocolGetOnePacket_13:
   \   0001B6   7901         MOV     R1,#0x1
   \                     ??gizProtocolGetOnePacket_2:
   \   0001B8   7401         MOV     A,#0x1
   \   0001BA   12....       LCALL   ?DEALLOC_XSTACK8
   \   0001BD   02....       LJMP    ?Subroutine2 & 0xFFFF
    988          }

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine41:
   \   000000   90....       MOV     DPTR,#??protocolCount
   \   000003   12....       LCALL   ??Subroutine77_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_203:
   \   000006   E5..         MOV     A,?V0 + 0
   \   000008   28           ADD     A,R0
   \   000009   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine35:
   \   000000   90....       MOV     DPTR,#??protocolCount
   \   000003   C3           CLR     C
   \   000004   E0           MOVX    A,@DPTR
   \   000005   9405         SUBB    A,#0x5
   \   000007   A3           INC     DPTR
   \   000008   E0           MOVX    A,@DPTR
   \   000009   9400         SUBB    A,#0x0
   \   00000B   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine13:
   \   000000   85..82       MOV     DPL,?V0 + 0
   \   000003   85..83       MOV     DPH,?V0 + 1
   \   000006   74FF         MOV     A,#-0x1
   \   000008   F0           MOVX    @DPTR,A
   \   000009   A3           INC     DPTR
   \   00000A   F0           MOVX    @DPTR,A
   \   00000B   90....       MOV     DPTR,#??protocolCount
   \   00000E   7402         MOV     A,#0x2
   \   000010   F0           MOVX    @DPTR,A
   \   000011   A3           INC     DPTR
   \   000012   E4           CLR     A
   \   000013   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine31:
   \   000000   12....       LCALL   ??Subroutine78_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_189:
   \   000003   12....       LCALL   ??gizProtocolExchangeBytes?relay
   \   000006   22           RET

   \                                 In  segment XDATA_Z, align 1, keep-with-next
   \                     ??protocolFlag:
   \   000000                DS 1
   \   000001                REQUIRE __INIT_XDATA_Z

   \                                 In  segment XDATA_Z, align 1, keep-with-next
   \                     ??protocolCount:
   \   000000                DS 2
   \   000002                REQUIRE __INIT_XDATA_Z

   \                                 In  segment XDATA_Z, align 1, keep-with-next
   \                     ??lastData:
   \   000000                DS 1
   \   000001                REQUIRE __INIT_XDATA_Z

   \                                 In  segment XDATA_Z, align 1, keep-with-next
   \                     ??debugCount:
   \   000000                DS 1
   \   000001                REQUIRE __INIT_XDATA_Z
    989          
    990          
    991          
    992          /**
    993          * @brief ÂçèËÆÆÊï∞ÊçÆÈáçÂèë
    994          
    995          * Ê†°È™åË∂ÖÊó∂‰∏îÊª°Ë∂≥ÈáçÂèëÊ¨°Êï∞ÈôêÂà∂ÁöÑÂçèËÆÆÊï∞ÊçÆËøõË°åÈáçÂèë
    996          
    997          * @param none    
    998          *
    999          * @return none
   1000          */
   1001          static void gizProtocolResendData(void)
   1002          {
   1003              int32 ret = 0;
   1004          
   1005              if(0 == gizwitsProtocol.waitAck.flag)
   1006              {
   1007                  return;
   1008              }
   1009          
   1010              GIZWITS_LOG("Warning: timeout, resend data \n");
   1011              
   1012              ret = uartWrite(gizwitsProtocol.waitAck.buf, gizwitsProtocol.waitAck.dataLen);
   1013              if(ret != gizwitsProtocol.waitAck.dataLen)
   1014              {
   1015                  GIZWITS_LOG("ERROR: resend data error\n");
   1016              }
   1017          
   1018              gizwitsProtocol.waitAck.sendTime = gizGetTimerCount();
   1019          }
   1020          
   1021          /**
   1022          * @brief Ê∏ÖÈô§ACKÂçèËÆÆÊä•Êñá
   1023          *
   1024          * @param [in] head : ÂçèËÆÆÂ§¥Âú∞ÂùÄ
   1025          *
   1026          * @return 0Ôº?ÊâßË°åÊàêÂäüÔº?Èù?0Ôº?Â§±Ë¥•
   1027          */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   1028          static int8 gizProtocolWaitAckCheck(protocolHead_t *head)
   \                     gizProtocolWaitAckCheck:
   1029          {
   \   000000   C082         PUSH    DPL
   \   000002   C083         PUSH    DPH
   \   000004                ; Saved register size: 2
   \   000004                ; Auto size: 0
   1030              protocolHead_t *waitAckHead = (protocolHead_t *)gizwitsProtocol.waitAck.buf;
   1031          
   1032              if(NULL == head)
   \   000004   EA           MOV     A,R2
   \   000005   4B           ORL     A,R3
   \   000006   7004         JNZ     ??gizProtocolWaitAckCheck_0
   1033              {
   1034                  GIZWITS_LOG("ERROR: data is empty \n");
   1035                  return -1;
   \   000008   79FF         MOV     R1,#-0x1
   \   00000A   8029         SJMP    ??gizProtocolWaitAckCheck_1
   1036              }
   1037          
   1038              if(waitAckHead->cmd+1 == head->cmd)
   \                     ??gizProtocolWaitAckCheck_0:
   \   00000C   90....       MOV     DPTR,#gizwitsProtocol + 81
   \   00000F   E0           MOVX    A,@DPTR
   \   000010   2401         ADD     A,#0x1
   \   000012   F8           MOV     R0,A
   \   000013   E4           CLR     A
   \   000014   3400         ADDC    A,#0x0
   \   000016   F9           MOV     R1,A
   \   000017   8A82         MOV     DPL,R2
   \   000019   8B83         MOV     DPH,R3
   \   00001B   A3           INC     DPTR
   \   00001C   A3           INC     DPTR
   \   00001D   A3           INC     DPTR
   \   00001E   A3           INC     DPTR
   \   00001F   E0           MOVX    A,@DPTR
   \   000020   68           XRL     A,R0
   \   000021   7001         JNZ     ??gizProtocolWaitAckCheck_2
   \   000023   E9           MOV     A,R1
   \                     ??gizProtocolWaitAckCheck_2:
   \   000024   700D         JNZ     ??gizProtocolWaitAckCheck_3
   1039              {
   1040                  osal_memset((uint8 *)&gizwitsProtocol.waitAck, 0, sizeof(protocolWaitAck_t));
   \   000026                ; Setup parameters for call to function osal_memset
   \   000026   7C27         MOV     R4,#0x27
   \   000028   7D00         MOV     R5,#0x0
   \   00002A   7900         MOV     R1,#0x0
   \   00002C   7A..         MOV     R2,#(gizwitsProtocol + 75) & 0xff
   \   00002E   7B..         MOV     R3,#((gizwitsProtocol + 75) >> 8) & 0xff
   \   000030   12....       LCALL   ??osal_memset?relay
   1041              }
   1042          
   1043              return 0;
   \                     ??gizProtocolWaitAckCheck_3:
   \   000033   7900         MOV     R1,#0x0
   \                     ??gizProtocolWaitAckCheck_1:
   \   000035   02....       LJMP    ?Subroutine3 & 0xFFFF
   1044          }
   1045          
   1046          /**
   1047          * @brief ÂèëÈÄÅÈÄöÁî®ÂçèËÆÆÊä•ÊñáÊï∞ÊçÆ
   1048          * 
   1049          * @param [in] head              : ÂçèËÆÆÂ§¥ÊåáÈí?*
   1050          * @return : ÊúâÊïàÊï∞ÊçÆÈïøÂ∫¶,Ê≠£Á°ÆËøîÂõû;-1ÔºåÈîôËØØËøîÂõ?*/

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   1051          static int32 gizProtocolCommonAck(protocolHead_t *head)
   \                     gizProtocolCommonAck:
   1052          {
   \   000000   74F5         MOV     A,#-0xb
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 11
   \   000005                ; Auto size: 9
   \   000005   74F7         MOV     A,#-0x9
   \   000007   12....       LCALL   ?ALLOC_XSTACK8
   1053              int32 ret = 0;
   1054              protocolCommon_t ack;
   1055          
   1056              if(NULL == head)
   \   00000A   EA           MOV     A,R2
   \   00000B   4B           ORL     A,R3
   \   00000C   700A         JNZ     ??gizProtocolCommonAck_0
   1057              {
   1058                  GIZWITS_LOG("ERROR: gizProtocolCommonAck data is empty \n");
   1059                  return -1;
   \   00000E   7AFF         MOV     R2,#-0x1
   \   000010   7BFF         MOV     R3,#-0x1
   \   000012   7CFF         MOV     R4,#-0x1
   \   000014   7DFF         MOV     R5,#-0x1
   \   000016   8055         SJMP    ??gizProtocolCommonAck_1
   1060              }
   1061              osal_memcpy((uint8 *)&ack, (uint8 *)head, sizeof(protocolHead_t));
   \                     ??gizProtocolCommonAck_0:
   \   000018                ; Setup parameters for call to function osal_memcpy
   \   000018   8A..         MOV     ?V0 + 0,R2
   \   00001A   8B..         MOV     ?V0 + 1,R3
   \   00001C   75..00       MOV     ?V0 + 2,#0x0
   \   00001F   78..         MOV     R0,#?V0 + 0
   \   000021   12....       LCALL   ?PUSH_XSTACK_I_THREE
   \   000024   7C08         MOV     R4,#0x8
   \   000026   7D00         MOV     R5,#0x0
   \   000028   7403         MOV     A,#0x3
   \   00002A   12....       LCALL   ?XSTACK_DISP0_8
   \   00002D   12....       LCALL   ?Subroutine44 & 0xFFFF
   \                     ??CrossCallReturnLabel_111:
   \   000030   12....       LCALL   ?DEALLOC_XSTACK8
   1062              ack.head.cmd = ack.head.cmd+1;
   \   000033   7404         MOV     A,#0x4
   \   000035   12....       LCALL   ?XSTACK_DISP0_8
   \   000038   E0           MOVX    A,@DPTR
   \   000039   04           INC     A
   \   00003A   F0           MOVX    @DPTR,A
   1063              ack.head.len = gizProtocolExchangeBytes(sizeof(protocolCommon_t)-4);
   \   00003B                ; Setup parameters for call to function gizProtocolExchangeBytes
   \   00003B   12....       LCALL   ?Subroutine66 & 0xFFFF
   \                     ??CrossCallReturnLabel_133:
   \   00003E   12....       LCALL   ?XSTACK_DISP0_8
   \   000041   12....       LCALL   ?Subroutine11 & 0xFFFF
   1064              ack.sum = gizProtocolSum((uint8 *)&ack, sizeof(protocolCommon_t));
   \                     ??CrossCallReturnLabel_140:
   \   000044                ; Setup parameters for call to function gizProtocolSum
   \   000044   90....       MOV     DPTR,#__Constant_9
   \   000047   12....       LCALL   ?PUSH_XSTACK8_X_FOUR
   \   00004A   7404         MOV     A,#0x4
   \   00004C   12....       LCALL   ?XSTACK_DISP0_8
   \   00004F   12....       LCALL   ?Subroutine50 & 0xFFFF
   \                     ??CrossCallReturnLabel_156:
   \   000052   12....       LCALL   ?DEALLOC_XSTACK8
   \   000055   7408         MOV     A,#0x8
   \   000057   12....       LCALL   ?XSTACK_DISP0_8
   \   00005A   E9           MOV     A,R1
   \   00005B   F0           MOVX    @DPTR,A
   1065          
   1066              ret = uartWrite((uint8 *)&ack, sizeof(protocolCommon_t));
   1067              if(ret < 0)
   1068              {
   1069                  //ÊâìÂç∞Êó•Âøó
   1070                  GIZWITS_LOG("ERROR: uart write error %d \n", ret);
   1071              }
   1072          
   1073              return ret;
   \   00005C                ; Setup parameters for call to function uartWrite
   \   00005C   90....       MOV     DPTR,#__Constant_9
   \   00005F   12....       LCALL   ?PUSH_XSTACK8_X_FOUR
   \   000062   7404         MOV     A,#0x4
   \   000064   12....       LCALL   ?XSTACK_DISP0_8
   \   000067   12....       LCALL   ?Subroutine51 & 0xFFFF
   \                     ??CrossCallReturnLabel_148:
   \   00006A   12....       LCALL   ?DEALLOC_XSTACK8
   \                     ??gizProtocolCommonAck_1:
   \   00006D   7409         MOV     A,#0x9
   \   00006F                REQUIRE ?Subroutine6
   \   00006F                ; // Fall through to label ?Subroutine6
   1074          }

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine6:
   \   000000   12....       LCALL   ?DEALLOC_XSTACK8
   \   000003   7F03         MOV     R7,#0x3
   \   000005   02....       LJMP    ?BANKED_LEAVE_XDATA

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine66:
   \   000000   7A05         MOV     R2,#0x5
   \   000002                REQUIRE ??Subroutine69_0
   \   000002                ; // Fall through to label ??Subroutine69_0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine69_0:
   \   000000   7B00         MOV     R3,#0x0
   \   000002   12....       LCALL   ??gizProtocolExchangeBytes?relay
   \   000005   7402         MOV     A,#0x2
   \   000007   22           RET
   1075          
   1076          /**
   1077          * @brief ACKÈÄªËæëÂ§ÑÁêÜÂáΩÊï∞
   1078          
   1079          * ÂèëÈÄÅÂêéÁöÑÂçèËÆÆÊï∞ÊçÆËøõË°åË∂ÖÊó∂Âà§Êñ≠ÔºåË∂ÖÊó∂200msËøõË°åÈáçÂèëÔºåÈáçÂèë‰∏äÈôê‰∏∫‰∏âÊ¨°
   1080          
   1081          * @param none 
   1082          *
   1083          * @return none
   1084          */
   1085          static void gizProtocolAckHandle(void)
   1086          {
   1087              if(1 == gizwitsProtocol.waitAck.flag)
   1088              {
   1089                  if(SEND_MAX_NUM > gizwitsProtocol.waitAck.num)
   1090                  {
   1091                      // Ë∂ÖÊó∂Êú™Êî∂Âà∞ACKÈáçÂèë
   1092                      if(SEND_MAX_TIME < (gizGetTimerCount() - gizwitsProtocol.waitAck.sendTime))
   1093                      {
   1094                          GIZWITS_LOG("Warning:gizProtocolResendData %d %d %d\n", gizGetTimerCount(), gizwitsProtocol.waitAck.sendTime, gizwitsProtocol.waitAck.num);
   1095                          gizProtocolResendData();
   1096                          gizwitsProtocol.waitAck.num++;
   1097                      }
   1098                  }
   1099                  else
   1100                  {
   1101                      osal_memset((uint8 *)&gizwitsProtocol.waitAck, 0, sizeof(protocolWaitAck_t));
   1102                  }
   1103              }
   1104          }
   1105          
   1106          /**
   1107          * @brief ÂçèËÆÆ4.1 WiFiÊ®°ÁªÑËØ∑Ê±ÇËÆæÂ§á‰ø°ÊÅØ
   1108          *
   1109          * @param head : ÂæÖÂèëÈÄÅÁöÑÂçèËÆÆÊä•ÊñáÊï∞ÊçÆ
   1110          *
   1111          * @return ËøîÂõûÊúâÊïàÊï∞ÊçÆÈïøÂ∫¶; -1ÔºåÈîôËØØËøîÂõ?*/

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   1112          static int32 gizProtocolGetDeviceInfo(protocolHead_t * head)
   \                     gizProtocolGetDeviceInfo:
   1113          {
   \   000000   74F5         MOV     A,#-0xb
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 11
   \   000005                ; Auto size: 115
   \   000005   748D         MOV     A,#-0x73
   \   000007   12....       LCALL   ?ALLOC_XSTACK8
   \   00000A   EA           MOV     A,R2
   \   00000B   FE           MOV     R6,A
   \   00000C   EB           MOV     A,R3
   \   00000D   FF           MOV     R7,A
   1114              int32 ret = 0;
   1115              protocolDeviceInfo_t deviceInfo;
   1116          
   1117              if(NULL == head)
   \   00000E   EE           MOV     A,R6
   \   00000F   4F           ORL     A,R7
   \   000010   700B         JNZ     ??gizProtocolGetDeviceInfo_0
   1118              {
   1119                  GIZWITS_LOG("gizProtocolGetDeviceInfo Error , Illegal Param\n");
   1120                  return -1;
   \   000012   7AFF         MOV     R2,#-0x1
   \   000014   7BFF         MOV     R3,#-0x1
   \   000016   7CFF         MOV     R4,#-0x1
   \   000018   7DFF         MOV     R5,#-0x1
   \   00001A   02....       LJMP    ??gizProtocolGetDeviceInfo_1 & 0xFFFF
   1121              }
   1122          
   1123              gizProtocolHeadInit((protocolHead_t *)&deviceInfo);
   \                     ??gizProtocolGetDeviceInfo_0:
   \   00001D                ; Setup parameters for call to function gizProtocolHeadInit
   \   00001D   12....       LCALL   ?Subroutine53 & 0xFFFF
   1124              deviceInfo.head.cmd = ACK_GET_DEVICE_INFO;
   \                     ??CrossCallReturnLabel_83:
   \   000020   12....       LCALL   ?XSTACK_DISP0_8
   \   000023   7402         MOV     A,#0x2
   \   000025   12....       LCALL   ?Subroutine14 & 0xFFFF
   1125              deviceInfo.head.sn = head->sn;
   \                     ??CrossCallReturnLabel_12:
   \   000028   C0E0         PUSH    A
   \   00002A   7405         MOV     A,#0x5
   \   00002C   12....       LCALL   ?XSTACK_DISP0_8
   \   00002F   D0E0         POP     A
   \   000031   F0           MOVX    @DPTR,A
   1126              osal_memcpy((uint8 *)deviceInfo.protocolVer, protocol_VERSION, 8);
   \   000032                ; Setup parameters for call to function osal_memcpy
   \   000032   75....       MOV     ?V0 + 0,#`?<Constant "00000004">` & 0xff
   \   000035   75....       MOV     ?V0 + 1,#(`?<Constant "00000004">` >> 8) & 0xff
   \   000038   75..00       MOV     ?V0 + 2,#0x0
   \   00003B   78..         MOV     R0,#?V0 + 0
   \   00003D   12....       LCALL   ?PUSH_XSTACK_I_THREE
   \   000040   7C08         MOV     R4,#0x8
   \   000042   7D00         MOV     R5,#0x0
   \   000044   740B         MOV     A,#0xb
   \   000046   12....       LCALL   ?XSTACK_DISP0_8
   \   000049   12....       LCALL   ?Subroutine44 & 0xFFFF
   \                     ??CrossCallReturnLabel_112:
   \   00004C   12....       LCALL   ?DEALLOC_XSTACK8
   1127              osal_memcpy((uint8 *)deviceInfo.p0Ver, P0_VERSION, 8);
   \   00004F                ; Setup parameters for call to function osal_memcpy
   \   00004F   75....       MOV     ?V0 + 0,#`?<Constant "00000002">` & 0xff
   \   000052   75....       MOV     ?V0 + 1,#(`?<Constant "00000002">` >> 8) & 0xff
   \   000055   78..         MOV     R0,#?V0 + 0
   \   000057   12....       LCALL   ?PUSH_XSTACK_I_THREE
   \   00005A   7C08         MOV     R4,#0x8
   \   00005C   7D00         MOV     R5,#0x0
   \   00005E   7413         MOV     A,#0x13
   \   000060   12....       LCALL   ?XSTACK_DISP0_8
   \   000063   12....       LCALL   ?Subroutine44 & 0xFFFF
   \                     ??CrossCallReturnLabel_113:
   \   000066   12....       LCALL   ?DEALLOC_XSTACK8
   1128              osal_memcpy((uint8 *)deviceInfo.softVer, SOFTWARE_VERSION, 8);
   \   000069                ; Setup parameters for call to function osal_memcpy
   \   000069   75....       MOV     ?V0 + 0,#`?<Constant "03010101">` & 0xff
   \   00006C   75....       MOV     ?V0 + 1,#(`?<Constant "03010101">` >> 8) & 0xff
   \   00006F   78..         MOV     R0,#?V0 + 0
   \   000071   12....       LCALL   ?PUSH_XSTACK_I_THREE
   \   000074   7C08         MOV     R4,#0x8
   \   000076   7D00         MOV     R5,#0x0
   \   000078   7423         MOV     A,#0x23
   \   00007A   12....       LCALL   ?XSTACK_DISP0_8
   \   00007D   12....       LCALL   ?Subroutine44 & 0xFFFF
   \                     ??CrossCallReturnLabel_114:
   \   000080   12....       LCALL   ?DEALLOC_XSTACK8
   1129              osal_memcpy((uint8 *)deviceInfo.hardVer, HARDWARE_VERSION, 8);
   \   000083                ; Setup parameters for call to function osal_memcpy
   \   000083   75....       MOV     ?V0 + 0,#`?<Constant "03010100">` & 0xff
   \   000086   75....       MOV     ?V0 + 1,#(`?<Constant "03010100">` >> 8) & 0xff
   \   000089   78..         MOV     R0,#?V0 + 0
   \   00008B   12....       LCALL   ?PUSH_XSTACK_I_THREE
   \   00008E   7C08         MOV     R4,#0x8
   \   000090   7D00         MOV     R5,#0x0
   \   000092   741B         MOV     A,#0x1b
   \   000094   12....       LCALL   ?XSTACK_DISP0_8
   \   000097   12....       LCALL   ?Subroutine44 & 0xFFFF
   \                     ??CrossCallReturnLabel_115:
   \   00009A   12....       LCALL   ?DEALLOC_XSTACK8
   1130              osal_memcpy((uint8 *)deviceInfo.productKey, PRODUCT_KEY, 32);//strlen(PRODUCT_KEY));
   \   00009D                ; Setup parameters for call to function osal_memcpy
   \   00009D   75....       MOV     ?V0 + 0,#`?<Constant "9a2f863df7f54635b4840...">` & 0xff
   \   0000A0   75....       MOV     ?V0 + 1,#(`?<Constant "9a2f863df7f54635b4840...">` >> 8) & 0xff
   \   0000A3   78..         MOV     R0,#?V0 + 0
   \   0000A5   12....       LCALL   ?PUSH_XSTACK_I_THREE
   \   0000A8   7C20         MOV     R4,#0x20
   \   0000AA   7D00         MOV     R5,#0x0
   \   0000AC   742B         MOV     A,#0x2b
   \   0000AE   12....       LCALL   ?XSTACK_DISP0_8
   \   0000B1   12....       LCALL   ?Subroutine44 & 0xFFFF
   \                     ??CrossCallReturnLabel_116:
   \   0000B4   12....       LCALL   ?DEALLOC_XSTACK8
   1131              osal_memcpy((uint8 *)deviceInfo.productSecret, PRODUCT_SECRET, 32);//strlen(PRODUCT_SECRET));
   \   0000B7                ; Setup parameters for call to function osal_memcpy
   \   0000B7   75....       MOV     ?V0 + 0,#`?<Constant "f06b9b5a07b74a12b2f42...">` & 0xff
   \   0000BA   75....       MOV     ?V0 + 1,#(`?<Constant "f06b9b5a07b74a12b2f42...">` >> 8) & 0xff
   \   0000BD   78..         MOV     R0,#?V0 + 0
   \   0000BF   12....       LCALL   ?PUSH_XSTACK_I_THREE
   \   0000C2   7C20         MOV     R4,#0x20
   \   0000C4   7D00         MOV     R5,#0x0
   \   0000C6   7455         MOV     A,#0x55
   \   0000C8   12....       LCALL   ?XSTACK_DISP0_8
   \   0000CB   12....       LCALL   ?Subroutine44 & 0xFFFF
   \                     ??CrossCallReturnLabel_117:
   \   0000CE   12....       LCALL   ?DEALLOC_XSTACK8
   1132              osal_memset((uint8 *)deviceInfo.devAttr, 0, 8);
   \   0000D1                ; Setup parameters for call to function osal_memset
   \   0000D1   7C08         MOV     R4,#0x8
   \   0000D3   7D00         MOV     R5,#0x0
   \   0000D5   7900         MOV     R1,#0x0
   \   0000D7   744A         MOV     A,#0x4a
   \   0000D9   12....       LCALL   ?XSTACK_DISP0_8
   \   0000DC   AA82         MOV     R2,DPL
   \   0000DE   AB83         MOV     R3,DPH
   \   0000E0   12....       LCALL   ??osal_memset?relay
   1133              deviceInfo.devAttr[7] |= DEV_IS_GATEWAY<<0;
   1134              deviceInfo.devAttr[7] |= (0x01<<1);
   \   0000E3   7451         MOV     A,#0x51
   \   0000E5   12....       LCALL   ?XSTACK_DISP0_8
   \   0000E8   E0           MOVX    A,@DPTR
   \   0000E9   D2E1         SETB    0xE0 /* A   */.1
   \   0000EB   F0           MOVX    @DPTR,A
   1135              deviceInfo.ninableTime = gizProtocolExchangeBytes(NINABLETIME);
   \   0000EC                ; Setup parameters for call to function gizProtocolExchangeBytes
   \   0000EC   7A00         MOV     R2,#0x0
   \   0000EE   7B00         MOV     R3,#0x0
   \   0000F0   12....       LCALL   ??gizProtocolExchangeBytes?relay
   \   0000F3   7448         MOV     A,#0x48
   \   0000F5   12....       LCALL   ?XSTACK_DISP0_8
   \   0000F8   12....       LCALL   ?Subroutine11 & 0xFFFF
   1136              deviceInfo.head.len = gizProtocolExchangeBytes(sizeof(protocolDeviceInfo_t)-4);
   \                     ??CrossCallReturnLabel_141:
   \   0000FB                ; Setup parameters for call to function gizProtocolExchangeBytes
   \   0000FB   7A6F         MOV     R2,#0x6f
   \   0000FD   12....       LCALL   ??Subroutine69_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_135:
   \   000100   12....       LCALL   ?XSTACK_DISP0_8
   \   000103   12....       LCALL   ?Subroutine11 & 0xFFFF
   1137              deviceInfo.sum = gizProtocolSum((uint8 *)&deviceInfo, sizeof(protocolDeviceInfo_t));
   \                     ??CrossCallReturnLabel_142:
   \   000106                ; Setup parameters for call to function gizProtocolSum
   \   000106   90....       MOV     DPTR,#__Constant_73
   \   000109   12....       LCALL   ?PUSH_XSTACK8_X_FOUR
   \   00010C   7404         MOV     A,#0x4
   \   00010E   12....       LCALL   ?XSTACK_DISP0_8
   \   000111   12....       LCALL   ?Subroutine50 & 0xFFFF
   \                     ??CrossCallReturnLabel_157:
   \   000114   12....       LCALL   ?DEALLOC_XSTACK8
   \   000117   7472         MOV     A,#0x72
   \   000119   12....       LCALL   ?XSTACK_DISP0_8
   \   00011C   E9           MOV     A,R1
   \   00011D   F0           MOVX    @DPTR,A
   1138          
   1139              ret = uartWrite((uint8 *)&deviceInfo, sizeof(protocolDeviceInfo_t));
   1140              if(ret < 0)
   1141              {
   1142                  //ÊâìÂç∞Êó•Âøó
   1143                  GIZWITS_LOG("ERROR: uart write error %d \n", ret);
   1144              }
   1145              
   1146              return ret;
   \   00011E                ; Setup parameters for call to function uartWrite
   \   00011E   90....       MOV     DPTR,#__Constant_73
   \   000121   12....       LCALL   ?PUSH_XSTACK8_X_FOUR
   \   000124   7404         MOV     A,#0x4
   \   000126   12....       LCALL   ?XSTACK_DISP0_8
   \   000129   12....       LCALL   ?Subroutine51 & 0xFFFF
   \                     ??CrossCallReturnLabel_149:
   \   00012C   12....       LCALL   ?DEALLOC_XSTACK8
   \                     ??gizProtocolGetDeviceInfo_1:
   \   00012F   7473         MOV     A,#0x73
   \   000131   02....       LJMP    ?Subroutine6 & 0xFFFF
   1147          }

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine14:
   \   000000   F0           MOVX    @DPTR,A
   \   000001   8E82         MOV     DPL,R6
   \   000003   8F83         MOV     DPH,R7
   \   000005   A3           INC     DPTR
   \   000006   A3           INC     DPTR
   \   000007   A3           INC     DPTR
   \   000008   A3           INC     DPTR
   \   000009   A3           INC     DPTR
   \   00000A   E0           MOVX    A,@DPTR
   \   00000B   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine53:
   \   000000   85..82       MOV     DPL,?XSP + 0
   \   000003   85..83       MOV     DPH,?XSP + 1
   \   000006   AA82         MOV     R2,DPL
   \   000008   AB83         MOV     R3,DPH
   \   00000A   12....       LCALL   ??gizProtocolHeadInit?relay
   \   00000D   7404         MOV     A,#0x4
   \   00000F   22           RET
   1148          
   1149          /**
   1150          * @brief ÂçèËÆÆ4.7 ÈùûÊ≥ïÊ∂àÊÅØÈÄöÁü• ÁöÑÂ§ÑÁê?
   1151          * @param[in] head  : ÂçèËÆÆÂ§¥ÊåáÈí?* @param[in] errno : ÈùûÊ≥ïÊ∂àÊÅØÈÄöÁü•Á±ªÂûã
   1152          * @return 0Ôº?ÊâßË°åÊàêÂäüÔº?Èù?0Ôº?Â§±Ë¥•
   1153          */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   1154          static int32 gizProtocolErrorCmd(protocolHead_t *head,errorPacketsType_t errno)
   \                     gizProtocolErrorCmd:
   1155          {
   \   000000   74F7         MOV     A,#-0x9
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 9
   \   000005                ; Auto size: 10
   \   000005   74F6         MOV     A,#-0xa
   \   000007   12....       LCALL   ?ALLOC_XSTACK8
   \   00000A   EA           MOV     A,R2
   \   00000B   FE           MOV     R6,A
   \   00000C   EB           MOV     A,R3
   \   00000D   FF           MOV     R7,A
   \   00000E   89..         MOV     ?V0 + 0,R1
   1156              int32 ret = 0;
   1157              protocolErrorType_t errorType;
   1158          
   1159              if(NULL == head)
   \   000010   EE           MOV     A,R6
   \   000011   4F           ORL     A,R7
   \   000012   700A         JNZ     ??gizProtocolErrorCmd_0
   1160              {
   1161                  GIZWITS_LOG("gizProtocolErrorCmd Error , Illegal Param\n");
   1162                  return -1;
   \   000014   7AFF         MOV     R2,#-0x1
   \   000016   7BFF         MOV     R3,#-0x1
   \   000018   7CFF         MOV     R4,#-0x1
   \   00001A   7DFF         MOV     R5,#-0x1
   \   00001C   804E         SJMP    ??gizProtocolErrorCmd_1
   1163              }
   1164              gizProtocolHeadInit((protocolHead_t *)&errorType);
   \                     ??gizProtocolErrorCmd_0:
   \   00001E                ; Setup parameters for call to function gizProtocolHeadInit
   \   00001E   12....       LCALL   ?Subroutine53 & 0xFFFF
   1165              errorType.head.cmd = ACK_ERROR_PACKAGE;
   \                     ??CrossCallReturnLabel_84:
   \   000021   12....       LCALL   ?XSTACK_DISP0_8
   \   000024   7412         MOV     A,#0x12
   \   000026   12....       LCALL   ?Subroutine14 & 0xFFFF
   1166              errorType.head.sn = head->sn;
   \                     ??CrossCallReturnLabel_13:
   \   000029   C0E0         PUSH    A
   \   00002B   7405         MOV     A,#0x5
   \   00002D   12....       LCALL   ?XSTACK_DISP0_8
   \   000030   D0E0         POP     A
   \   000032   12....       LCALL   ?Subroutine17 & 0xFFFF
   1167              
   1168              errorType.head.len = gizProtocolExchangeBytes(sizeof(protocolErrorType_t)-4);
   \                     ??CrossCallReturnLabel_18:
   \   000035   12....       LCALL   ?XSTACK_DISP0_8
   \   000038   12....       LCALL   ?Subroutine11 & 0xFFFF
   1169              errorType.error = errno;
   \                     ??CrossCallReturnLabel_143:
   \   00003B   7408         MOV     A,#0x8
   \   00003D   12....       LCALL   ?XSTACK_DISP0_8
   \   000040   E5..         MOV     A,?V0 + 0
   \   000042   F0           MOVX    @DPTR,A
   1170              errorType.sum = gizProtocolSum((uint8 *)&errorType, sizeof(protocolErrorType_t));
   \   000043                ; Setup parameters for call to function gizProtocolSum
   \   000043   90....       MOV     DPTR,#__Constant_a
   \   000046   12....       LCALL   ?PUSH_XSTACK8_X_FOUR
   \   000049   7404         MOV     A,#0x4
   \   00004B   12....       LCALL   ?XSTACK_DISP0_8
   \   00004E   12....       LCALL   ?Subroutine50 & 0xFFFF
   \                     ??CrossCallReturnLabel_158:
   \   000051   12....       LCALL   ?DEALLOC_XSTACK8
   \   000054   7409         MOV     A,#0x9
   \   000056   12....       LCALL   ?XSTACK_DISP0_8
   \   000059   E9           MOV     A,R1
   \   00005A   F0           MOVX    @DPTR,A
   1171              
   1172              ret = uartWrite((uint8 *)&errorType, sizeof(protocolErrorType_t));
   1173              if(ret < 0)
   1174              {
   1175                  //ÊâìÂç∞Êó•Âøó
   1176                  GIZWITS_LOG("ERROR: uart write error %d \n", ret);
   1177              }
   1178          
   1179              return ret;
   \   00005B                ; Setup parameters for call to function uartWrite
   \   00005B   90....       MOV     DPTR,#__Constant_a
   \   00005E   12....       LCALL   ?PUSH_XSTACK8_X_FOUR
   \   000061   7404         MOV     A,#0x4
   \   000063   12....       LCALL   ?XSTACK_DISP0_8
   \   000066   12....       LCALL   ?Subroutine51 & 0xFFFF
   \                     ??CrossCallReturnLabel_150:
   \   000069   12....       LCALL   ?DEALLOC_XSTACK8
   \                     ??gizProtocolErrorCmd_1:
   \   00006C   740A         MOV     A,#0xa
   \   00006E   12....       LCALL   ?DEALLOC_XSTACK8
   \   000071   02....       LJMP    ?Subroutine4 & 0xFFFF
   1180          }

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine17:
   \   000000   F0           MOVX    @DPTR,A
   \   000001                ; Setup parameters for call to function gizProtocolExchangeBytes
   \   000001                ; Setup parameters for call to function gizProtocolExchangeBytes
   \   000001   7A06         MOV     R2,#0x6
   \   000003   12....       LCALL   ??Subroutine69_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_136:
   \   000006   22           RET
   1181          
   1182          /**
   1183          * @brief ÂØπÂ∫îÂçèËÆÆ 4.13 Êé•Êî∂ËøîÂõûÁöÑÁΩëÁªúÊó∂Èó?‰∏?*
   1184          * @param [in] head : ÂçèËÆÆÂ§¥Âú∞ÂùÄ
   1185          *
   1186          * @return 0Ôº?ÊâßË°åÊàêÂäüÔº?Èù?0Ôº?Â§±Ë¥•
   1187          */
   1188          static int8 gizProtocolNTP(protocolHead_t *head)
   1189          {
   1190              int32 ret = 0;
                           ^
Warning[Pe177]: variable "ret" was declared but never referenced
   1191              
   1192              protocolUTT_t *UTTInfo = (protocolUTT_t *)head;
   1193              
   1194              if(NULL == head)
   1195              {
   1196                  GIZWITS_LOG("ERROR: NTP is empty \n");
   1197                  return -1;
   1198              }
   1199              
   1200              osal_memcpy((uint8 *)&gizwitsProtocol.TimeNTP,(uint8 *)UTTInfo->time, (7 + 4));
   1201              gizwitsProtocol.TimeNTP.year = gizProtocolExchangeBytes(gizwitsProtocol.TimeNTP.year);
   1202              gizwitsProtocol.TimeNTP.ntp = gizExchangeWord(gizwitsProtocol.TimeNTP.ntp);
   1203          
   1204              gizwitsProtocol.NTPEvent.event[gizwitsProtocol.NTPEvent.num] = WIFI_NTP;
   1205              gizwitsProtocol.NTPEvent.num++;
   1206              
   1207              gizwitsProtocol.issuedFlag = GET_NTP_TYPE;
   1208              
   1209              
   1210              return 0;
   1211          }
   1212          
   1213          /**
   1214          * @brief ÂçèËÆÆ4.4 ËÆæÂ§áMCUÈáçÁΩÆWiFiÊ®°ÁªÑ ÁöÑÁõ∏ÂÖ≥Êìç‰Ω?
   1215          * @param none
   1216          * @return none
   1217          */
   1218          static void gizProtocolReboot(void)
   1219          {
   1220              uint32 timeDelay = gizGetTimerCount();
   1221              
   1222              /*Wait 600ms*/
   1223              while((gizGetTimerCount() - timeDelay) <= 600);
   1224              mcuRestart();
   1225          }
   1226          
   1227          /**
   1228          * @brief ÂçèËÆÆ 4.5 WiFiÊ®°ÁªÑÂêëËÆæÂ§áMCUÈÄöÁü•WiFiÊ®°ÁªÑÂ∑•‰ΩúÁä∂ÊÄÅÁöÑÂèòÂåñ
   1229          
   1230          * @param[in] status WiFiÊ®°ÁªÑÂ∑•‰ΩúÁä∂ÊÄ?* @return none
   1231          */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   1232          static int8 gizProtocolModuleStatus(protocolWifiStatus_t *status)
   \                     gizProtocolModuleStatus:
   1233          {
   \   000000   74F4         MOV     A,#-0xc
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 12
   \   000005                ; Auto size: 0
   \   000005   EA           MOV     A,R2
   \   000006   FE           MOV     R6,A
   \   000007   EB           MOV     A,R3
   \   000008   FF           MOV     R7,A
   1234              static wifiStatus_t lastStatus;
   1235          
   1236              if(NULL == status)
   \   000009   EE           MOV     A,R6
   \   00000A   4F           ORL     A,R7
   \   00000B   7005         JNZ     ??gizProtocolModuleStatus_0
   1237              {
   1238                  GIZWITS_LOG("gizProtocolModuleStatus Error , Illegal Param\n");
   1239                  return -1;
   \   00000D   79FF         MOV     R1,#-0x1
   \   00000F   02....       LJMP    ??gizProtocolModuleStatus_1 & 0xFFFF
   1240              }
   1241          
   1242              status->ststus.value = gizProtocolExchangeBytes(status->ststus.value);
   \                     ??gizProtocolModuleStatus_0:
   \   000012   12....       LCALL   ?Subroutine54 & 0xFFFF
   \                     ??CrossCallReturnLabel_87:
   \   000015                ; Setup parameters for call to function gizProtocolExchangeBytes
   \   000015   85..82       MOV     DPL,?V0 + 0
   \   000018   F583         MOV     DPH,A
   \   00001A   12....       LCALL   ?Subroutine31 & 0xFFFF
   \                     ??CrossCallReturnLabel_44:
   \   00001D   8A..         MOV     ?V0 + 2,R2
   \   00001F   A8..         MOV     R0,?V0 + 2
   \   000021   85..82       MOV     DPL,?V0 + 0
   \   000024   85..83       MOV     DPH,?V0 + 1
   \   000027   E8           MOV     A,R0
   \   000028   12....       LCALL   ??Subroutine70_0 & 0xFFFF
   1243              if(0 == status->ststus.types.onboarding){// «∑Òø™∆Ù≈‰÷√ƒ£ Ω =0√ª”–
   \                     ??CrossCallReturnLabel_137:
   \   00002B   E8           MOV     A,R0
   \   00002C   5404         ANL     A,#0x4
   \   00002E   703C         JNZ     ??gizProtocolModuleStatus_2
   1244                if(0 == status->ststus.types.con_route){//”Î¬∑”…∆˜¡¨Ω”◊¥Ã¨ =0 √ª”–
   \   000030   8E82         MOV     DPL,R6
   \   000032   8F83         MOV     DPH,R7
   \   000034   A3           INC     DPTR
   \   000035   A3           INC     DPTR
   \   000036   A3           INC     DPTR
   \   000037   A3           INC     DPTR
   \   000038   A3           INC     DPTR
   \   000039   A3           INC     DPTR
   \   00003A   A3           INC     DPTR
   \   00003B   A3           INC     DPTR
   \   00003C   E0           MOVX    A,@DPTR
   \   00003D   5410         ANL     A,#0x10
   \   00003F   700A         JNZ     ??gizProtocolModuleStatus_3
   1245                  HalLedBlink( HAL_LED_1, 8, 10, 2000 );//≤ª¥¶”⁄≈‰÷√Ã¨«“√ª”–¡¨…œ¬∑”…∆˜ ±2s…¡À∏ 8¥Œ
   \   000041                ; Setup parameters for call to function HalLedBlink
   \   000041   7CD0         MOV     R4,#-0x30
   \   000043   7D07         MOV     R5,#0x7
   \   000045   7B0A         MOV     R3,#0xa
   \   000047   7A08         MOV     R2,#0x8
   \   000049   8029         SJMP    ??gizProtocolModuleStatus_4
   1246                }
   1247                else{// = 1¡¨Ω”¬∑”…∆˜
   1248                  if(1 == status->ststus.types.con_m2m){//¡¨Ω”…œ‘∆
   \                     ??gizProtocolModuleStatus_3:
   \   00004B   8E82         MOV     DPL,R6
   \   00004D   8F83         MOV     DPH,R7
   \   00004F   A3           INC     DPTR
   \   000050   A3           INC     DPTR
   \   000051   A3           INC     DPTR
   \   000052   A3           INC     DPTR
   \   000053   A3           INC     DPTR
   \   000054   A3           INC     DPTR
   \   000055   A3           INC     DPTR
   \   000056   A3           INC     DPTR
   \   000057   E0           MOVX    A,@DPTR
   \   000058   5420         ANL     A,#0x20
   \   00005A   7CB8         MOV     R4,#-0x48
   \   00005C   7D0B         MOV     R5,#0xb
   \   00005E   6006         JZ      ??gizProtocolModuleStatus_5
   1249                    HalLedBlink( HAL_LED_1, 5, 150, 3000 );//≤ª¥¶”⁄≈‰÷√Ã¨&&¡¨…œ¬∑”…∆˜&&¡¨…œª˙÷«‘∆ ±≥§¡¡
   \   000060                ; Setup parameters for call to function HalLedBlink
   \   000060   7B96         MOV     R3,#-0x6a
   \   000062   7A05         MOV     R2,#0x5
   \   000064   800E         SJMP    ??gizProtocolModuleStatus_4
   1250                  }
   1251                  else{
   1252                    HalLedBlink( HAL_LED_1, 10, 70, 3000 );//≤ª¥¶”⁄≈‰÷√Ã¨&&¡¨…œ¬∑”…∆˜&&√ª”–¡¨…œª˙÷«‘∆ ±3s…¡À∏ 10¥Œ
   \                     ??gizProtocolModuleStatus_5:
   \   000066                ; Setup parameters for call to function HalLedBlink
   \   000066   7B46         MOV     R3,#0x46
   \   000068   7A0A         MOV     R2,#0xa
   \   00006A   8008         SJMP    ??gizProtocolModuleStatus_4
   1253                  }
   1254                }
   1255              }
   1256              else{// =1 ø™∆Ù≈‰÷√ƒ£ Ω
   1257                HalLedBlink( HAL_LED_1, 0xff, 50, 1000 );//¥¶”⁄≈‰÷√Ã¨ ±1s…¡À∏ 255¥Œ
   \                     ??gizProtocolModuleStatus_2:
   \   00006C                ; Setup parameters for call to function HalLedBlink
   \   00006C   7CE8         MOV     R4,#-0x18
   \   00006E   7D03         MOV     R5,#0x3
   \   000070   7B32         MOV     R3,#0x32
   \   000072   7AFF         MOV     R2,#-0x1
   \                     ??gizProtocolModuleStatus_4:
   \   000074   7901         MOV     R1,#0x1
   \   000076   12....       LCALL   ??HalLedBlink?relay
   1258              }
   1259          
   1260              //OnBoarding mode status
   1261              if(lastStatus.types.onboarding != status->ststus.types.onboarding)
   \   000079   8E82         MOV     DPL,R6
   \   00007B   8F83         MOV     DPH,R7
   \   00007D   A3           INC     DPTR
   \   00007E   A3           INC     DPTR
   \   00007F   A3           INC     DPTR
   \   000080   A3           INC     DPTR
   \   000081   A3           INC     DPTR
   \   000082   A3           INC     DPTR
   \   000083   A3           INC     DPTR
   \   000084   A3           INC     DPTR
   \   000085   E0           MOVX    A,@DPTR
   \   000086   13           RRC     A
   \   000087   13           RRC     A
   \   000088   543F         ANL     A,#0x3f
   \   00008A   A2E0         MOV     C,0xE0 /* A   */.0
   \   00008C   92F0         MOV     B.0,C
   \   00008E   90....       MOV     DPTR,#??lastStatus
   \   000091   E0           MOVX    A,@DPTR
   \   000092   13           RRC     A
   \   000093   13           RRC     A
   \   000094   543F         ANL     A,#0x3f
   \   000096   A2E0         MOV     C,0xE0 /* A   */.0
   \   000098   20F001       JB      B.0,??gizProtocolModuleStatus_6
   \   00009B   B3           CPL     C
   \                     ??gizProtocolModuleStatus_6:
   \   00009C   405E         JC      ??CrossCallReturnLabel_180
   1262              {
   1263                  if(1 == status->ststus.types.onboarding)
   \   00009E   8E82         MOV     DPL,R6
   \   0000A0   8F83         MOV     DPH,R7
   \   0000A2   A3           INC     DPTR
   \   0000A3   A3           INC     DPTR
   \   0000A4   A3           INC     DPTR
   \   0000A5   A3           INC     DPTR
   \   0000A6   A3           INC     DPTR
   \   0000A7   A3           INC     DPTR
   \   0000A8   A3           INC     DPTR
   \   0000A9   A3           INC     DPTR
   \   0000AA   E0           MOVX    A,@DPTR
   \   0000AB   5404         ANL     A,#0x4
   \   0000AD   8E82         MOV     DPL,R6
   \   0000AF   8F83         MOV     DPH,R7
   \   0000B1   A3           INC     DPTR
   \   0000B2   A3           INC     DPTR
   \   0000B3   A3           INC     DPTR
   \   0000B4   A3           INC     DPTR
   \   0000B5   A3           INC     DPTR
   \   0000B6   A3           INC     DPTR
   \   0000B7   A3           INC     DPTR
   \   0000B8   A3           INC     DPTR
   \   0000B9   6020         JZ      ??gizProtocolModuleStatus_7
   1264                  {
   1265                      if(1 == status->ststus.types.softap)
   \   0000BB   E0           MOVX    A,@DPTR
   \   0000BC   A2E0         MOV     C,0xE0 /* A   */.0
   \   0000BE   5003         JNC     ??CrossCallReturnLabel_178
   1266                      {
   1267                          gizwitsProtocol.wifiStatusEvent.event[gizwitsProtocol.wifiStatusEvent.num] = WIFI_SOFTAP;
   \   0000C0   12....       LCALL   ?Subroutine10 & 0xFFFF
   1268                          gizwitsProtocol.wifiStatusEvent.num++;
   1269                          GIZWITS_LOG("OnBoarding: SoftAP or Web mode\n");
   1270                      }
   1271          
   1272                      if(1 == status->ststus.types.station)
   \                     ??CrossCallReturnLabel_178:
   \   0000C3   8E82         MOV     DPL,R6
   \   0000C5   8F83         MOV     DPH,R7
   \   0000C7   A3           INC     DPTR
   \   0000C8   A3           INC     DPTR
   \   0000C9   A3           INC     DPTR
   \   0000CA   A3           INC     DPTR
   \   0000CB   A3           INC     DPTR
   \   0000CC   A3           INC     DPTR
   \   0000CD   A3           INC     DPTR
   \   0000CE   A3           INC     DPTR
   \   0000CF   E0           MOVX    A,@DPTR
   \   0000D0   5402         ANL     A,#0x2
   \   0000D2   6028         JZ      ??CrossCallReturnLabel_180
   1273                      {
   1274                          gizwitsProtocol.wifiStatusEvent.event[gizwitsProtocol.wifiStatusEvent.num] = WIFI_AIRLINK;
   \   0000D4   12....       LCALL   ?Subroutine21 & 0xFFFF
   1275                          gizwitsProtocol.wifiStatusEvent.num++;
   1276                          GIZWITS_LOG("OnBoarding: AirLink mode\n");
   1277                      }
   1278                  }
   \                     ??CrossCallReturnLabel_173:
   \   0000D7   7401         MOV     A,#0x1
   \   0000D9   801E         SJMP    ??gizProtocolModuleStatus_8
   1279                  else
   1280                  {
   1281                      if(1 == status->ststus.types.softap)
   \                     ??gizProtocolModuleStatus_7:
   \   0000DB   E0           MOVX    A,@DPTR
   \   0000DC   A2E0         MOV     C,0xE0 /* A   */.0
   \   0000DE   5003         JNC     ??CrossCallReturnLabel_179
   1282                      {
   1283                          gizwitsProtocol.wifiStatusEvent.event[gizwitsProtocol.wifiStatusEvent.num] = WIFI_SOFTAP;
   \   0000E0   12....       LCALL   ?Subroutine10 & 0xFFFF
   1284                          gizwitsProtocol.wifiStatusEvent.num++;
   1285                          GIZWITS_LOG("OnBoarding: SoftAP or Web mode\n");
   1286                      }
   1287          
   1288                      if(1 == status->ststus.types.station)
   \                     ??CrossCallReturnLabel_179:
   \   0000E3   8E82         MOV     DPL,R6
   \   0000E5   8F83         MOV     DPH,R7
   \   0000E7   A3           INC     DPTR
   \   0000E8   A3           INC     DPTR
   \   0000E9   A3           INC     DPTR
   \   0000EA   A3           INC     DPTR
   \   0000EB   A3           INC     DPTR
   \   0000EC   A3           INC     DPTR
   \   0000ED   A3           INC     DPTR
   \   0000EE   A3           INC     DPTR
   \   0000EF   E0           MOVX    A,@DPTR
   \   0000F0   5402         ANL     A,#0x2
   \   0000F2   6008         JZ      ??CrossCallReturnLabel_180
   1289                      {
   1290                          gizwitsProtocol.wifiStatusEvent.event[gizwitsProtocol.wifiStatusEvent.num] = WIFI_STATION;
   \   0000F4   12....       LCALL   ?Subroutine21 & 0xFFFF
   1291                          gizwitsProtocol.wifiStatusEvent.num++;
   1292                          GIZWITS_LOG("OnBoarding: Station mode\n");
   1293                      }
   1294                  }
   1295              }
   \                     ??CrossCallReturnLabel_174:
   \   0000F7   7402         MOV     A,#0x2
   \                     ??gizProtocolModuleStatus_8:
   \   0000F9   12....       LCALL   ??Subroutine74_0 & 0xFFFF
   1296          
   1297              //binding mode status
   1298              if(lastStatus.types.binding != status->ststus.types.binding)
   \                     ??CrossCallReturnLabel_180:
   \   0000FC   8E82         MOV     DPL,R6
   \   0000FE   8F83         MOV     DPH,R7
   \   000100   A3           INC     DPTR
   \   000101   A3           INC     DPTR
   \   000102   A3           INC     DPTR
   \   000103   A3           INC     DPTR
   \   000104   A3           INC     DPTR
   \   000105   A3           INC     DPTR
   \   000106   A3           INC     DPTR
   \   000107   A3           INC     DPTR
   \   000108   12....       LCALL   ?Subroutine43 & 0xFFFF
   \                     ??CrossCallReturnLabel_69:
   \   00010B   92F0         MOV     B.0,C
   \   00010D   90....       MOV     DPTR,#??lastStatus
   \   000110   12....       LCALL   ?Subroutine43 & 0xFFFF
   \                     ??CrossCallReturnLabel_70:
   \   000113   20F001       JB      B.0,??gizProtocolModuleStatus_9
   \   000116   B3           CPL     C
   \                     ??gizProtocolModuleStatus_9:
   \   000117   4021         JC      ??CrossCallReturnLabel_3
   1299              {
   1300                  lastStatus.types.binding = status->ststus.types.binding;
   \   000119   E0           MOVX    A,@DPTR
   \   00011A   54F7         ANL     A,#0xf7
   \   00011C   12....       LCALL   ?Subroutine30 & 0xFFFF
   \                     ??CrossCallReturnLabel_40:
   \   00011F   5408         ANL     A,#0x8
   \   000121   12....       LCALL   ?Subroutine8 & 0xFFFF
   1301                  if(1 == status->ststus.types.binding)
   \                     ??CrossCallReturnLabel_0:
   \   000124   5408         ANL     A,#0x8
   \   000126   90....       MOV     DPTR,#gizwitsProtocol + 132
   \   000129   6007         JZ      ??gizProtocolModuleStatus_10
   1302                  {
   1303                      gizwitsProtocol.wifiStatusEvent.event[gizwitsProtocol.wifiStatusEvent.num] = WIFI_OPEN_BINDING;
   \   00012B   12....       LCALL   ??Subroutine73_0 & 0xFFFF
   1304                      gizwitsProtocol.wifiStatusEvent.num++;
   1305                      GIZWITS_LOG("WiFi status: in binding mode\n");
   1306                  }
   \                     ??CrossCallReturnLabel_163:
   \   00012E   7403         MOV     A,#0x3
   \   000130   8005         SJMP    ??gizProtocolModuleStatus_11
   1307                  else
   1308                  {
   1309                      gizwitsProtocol.wifiStatusEvent.event[gizwitsProtocol.wifiStatusEvent.num] = WIFI_CLOSE_BINDING;
   \                     ??gizProtocolModuleStatus_10:
   \   000132   12....       LCALL   ??Subroutine73_0 & 0xFFFF
   1310                      gizwitsProtocol.wifiStatusEvent.num++;
   1311                      GIZWITS_LOG("WiFi status: out binding mode\n");
   1312                  }
   1313              }
   \                     ??CrossCallReturnLabel_164:
   \   000135   7404         MOV     A,#0x4
   \                     ??gizProtocolModuleStatus_11:
   \   000137   12....       LCALL   ?Subroutine9 & 0xFFFF
   1314          
   1315              //router status
   1316              if(lastStatus.types.con_route != status->ststus.types.con_route)
   \                     ??CrossCallReturnLabel_3:
   \   00013A   8E82         MOV     DPL,R6
   \   00013C   8F83         MOV     DPH,R7
   \   00013E   A3           INC     DPTR
   \   00013F   A3           INC     DPTR
   \   000140   A3           INC     DPTR
   \   000141   A3           INC     DPTR
   \   000142   A3           INC     DPTR
   \   000143   A3           INC     DPTR
   \   000144   A3           INC     DPTR
   \   000145   A3           INC     DPTR
   \   000146   E0           MOVX    A,@DPTR
   \   000147   C4           SWAP    A
   \   000148   540F         ANL     A,#0xf
   \   00014A   A2E0         MOV     C,0xE0 /* A   */.0
   \   00014C   92F0         MOV     B.0,C
   \   00014E   90....       MOV     DPTR,#??lastStatus
   \   000151   E0           MOVX    A,@DPTR
   \   000152   C4           SWAP    A
   \   000153   540F         ANL     A,#0xf
   \   000155   A2E0         MOV     C,0xE0 /* A   */.0
   \   000157   20F001       JB      B.0,??gizProtocolModuleStatus_12
   \   00015A   B3           CPL     C
   \                     ??gizProtocolModuleStatus_12:
   \   00015B   4021         JC      ??CrossCallReturnLabel_181
   1317              {
   1318                  lastStatus.types.con_route = status->ststus.types.con_route;
   \   00015D   E0           MOVX    A,@DPTR
   \   00015E   54EF         ANL     A,#0xef
   \   000160   12....       LCALL   ?Subroutine30 & 0xFFFF
   \                     ??CrossCallReturnLabel_41:
   \   000163   5410         ANL     A,#0x10
   \   000165   12....       LCALL   ?Subroutine8 & 0xFFFF
   1319                  if(1 == status->ststus.types.con_route)
   \                     ??CrossCallReturnLabel_1:
   \   000168   5410         ANL     A,#0x10
   \   00016A   90....       MOV     DPTR,#gizwitsProtocol + 132
   \   00016D   6007         JZ      ??gizProtocolModuleStatus_13
   1320                  {
   1321                      gizwitsProtocol.wifiStatusEvent.event[gizwitsProtocol.wifiStatusEvent.num] = WIFI_CON_ROUTER;
   \   00016F   12....       LCALL   ??Subroutine73_0 & 0xFFFF
   1322                      gizwitsProtocol.wifiStatusEvent.num++;
   1323                      GIZWITS_LOG("WiFi status: connected router\n");
   1324                  }
   \                     ??CrossCallReturnLabel_165:
   \   000172   7405         MOV     A,#0x5
   \   000174   8005         SJMP    ??gizProtocolModuleStatus_14
   1325                  else
   1326                  {
   1327                      gizwitsProtocol.wifiStatusEvent.event[gizwitsProtocol.wifiStatusEvent.num] = WIFI_DISCON_ROUTER;
   \                     ??gizProtocolModuleStatus_13:
   \   000176   12....       LCALL   ??Subroutine73_0 & 0xFFFF
   1328                      gizwitsProtocol.wifiStatusEvent.num++;
   1329                      GIZWITS_LOG("WiFi status: disconnected router\n");
   1330                  }
   1331              }
   \                     ??CrossCallReturnLabel_166:
   \   000179   7406         MOV     A,#0x6
   \                     ??gizProtocolModuleStatus_14:
   \   00017B   12....       LCALL   ??Subroutine74_0 & 0xFFFF
   1332          
   1333              //M2M server status
   1334              if(lastStatus.types.con_m2m != status->ststus.types.con_m2m)
   \                     ??CrossCallReturnLabel_181:
   \   00017E   8E82         MOV     DPL,R6
   \   000180   8F83         MOV     DPH,R7
   \   000182   A3           INC     DPTR
   \   000183   A3           INC     DPTR
   \   000184   A3           INC     DPTR
   \   000185   A3           INC     DPTR
   \   000186   A3           INC     DPTR
   \   000187   A3           INC     DPTR
   \   000188   A3           INC     DPTR
   \   000189   A3           INC     DPTR
   \   00018A   E0           MOVX    A,@DPTR
   \   00018B   C4           SWAP    A
   \   00018C   13           RRC     A
   \   00018D   5407         ANL     A,#0x7
   \   00018F   A2E0         MOV     C,0xE0 /* A   */.0
   \   000191   92F0         MOV     B.0,C
   \   000193   90....       MOV     DPTR,#??lastStatus
   \   000196   E0           MOVX    A,@DPTR
   \   000197   C4           SWAP    A
   \   000198   13           RRC     A
   \   000199   5407         ANL     A,#0x7
   \   00019B   A2E0         MOV     C,0xE0 /* A   */.0
   \   00019D   20F001       JB      B.0,??gizProtocolModuleStatus_15
   \   0001A0   B3           CPL     C
   \                     ??gizProtocolModuleStatus_15:
   \   0001A1   4021         JC      ??CrossCallReturnLabel_4
   1335              {
   1336                  lastStatus.types.con_m2m = status->ststus.types.con_m2m;
   \   0001A3   E0           MOVX    A,@DPTR
   \   0001A4   54DF         ANL     A,#0xdf
   \   0001A6   12....       LCALL   ?Subroutine30 & 0xFFFF
   \                     ??CrossCallReturnLabel_42:
   \   0001A9   5420         ANL     A,#0x20
   \   0001AB   12....       LCALL   ?Subroutine8 & 0xFFFF
   1337                  if(1 == status->ststus.types.con_m2m)
   \                     ??CrossCallReturnLabel_2:
   \   0001AE   5420         ANL     A,#0x20
   \   0001B0   90....       MOV     DPTR,#gizwitsProtocol + 132
   \   0001B3   6007         JZ      ??gizProtocolModuleStatus_16
   1338                  {
   1339                      gizwitsProtocol.wifiStatusEvent.event[gizwitsProtocol.wifiStatusEvent.num] = WIFI_CON_M2M;
   \   0001B5   12....       LCALL   ??Subroutine73_0 & 0xFFFF
   1340                      gizwitsProtocol.wifiStatusEvent.num++;
   1341                      GIZWITS_LOG("WiFi status: connected m2m\n");
   1342                  }
   \                     ??CrossCallReturnLabel_167:
   \   0001B8   7407         MOV     A,#0x7
   \   0001BA   8005         SJMP    ??gizProtocolModuleStatus_17
   1343                  else
   1344                  {
   1345                      gizwitsProtocol.wifiStatusEvent.event[gizwitsProtocol.wifiStatusEvent.num] = WIFI_DISCON_M2M;
   \                     ??gizProtocolModuleStatus_16:
   \   0001BC   12....       LCALL   ??Subroutine73_0 & 0xFFFF
   1346                      gizwitsProtocol.wifiStatusEvent.num++;
   1347                      GIZWITS_LOG("WiFi status: disconnected m2m\n");
   1348                  }
   1349              }
   \                     ??CrossCallReturnLabel_168:
   \   0001BF   7408         MOV     A,#0x8
   \                     ??gizProtocolModuleStatus_17:
   \   0001C1   12....       LCALL   ?Subroutine9 & 0xFFFF
   1350          
   1351              //APP status
   1352              if(lastStatus.types.app != status->ststus.types.app)
   \                     ??CrossCallReturnLabel_4:
   \   0001C4   8E82         MOV     DPL,R6
   \   0001C6   8F83         MOV     DPH,R7
   \   0001C8   A3           INC     DPTR
   \   0001C9   A3           INC     DPTR
   \   0001CA   A3           INC     DPTR
   \   0001CB   A3           INC     DPTR
   \   0001CC   A3           INC     DPTR
   \   0001CD   A3           INC     DPTR
   \   0001CE   A3           INC     DPTR
   \   0001CF   A3           INC     DPTR
   \   0001D0   12....       LCALL   ?Subroutine33 & 0xFFFF
   \                     ??CrossCallReturnLabel_48:
   \   0001D3   12....       LCALL   ?US_SHR
   \   0001D6   E5..         MOV     A,?V0 + 0
   \   0001D8   A2E0         MOV     C,0xE0 /* A   */.0
   \   0001DA   92F0         MOV     B.0,C
   \   0001DC   90....       MOV     DPTR,#??lastStatus
   \   0001DF   12....       LCALL   ?Subroutine33 & 0xFFFF
   \                     ??CrossCallReturnLabel_49:
   \   0001E2   12....       LCALL   ?US_SHR
   \   0001E5   E5..         MOV     A,?V0 + 0
   \   0001E7   A2E0         MOV     C,0xE0 /* A   */.0
   \   0001E9   20F001       JB      B.0,??gizProtocolModuleStatus_18
   \   0001EC   B3           CPL     C
   \                     ??gizProtocolModuleStatus_18:
   \   0001ED   4030         JC      ??CrossCallReturnLabel_5
   1353              {
   1354                  lastStatus.types.app = status->ststus.types.app;
   \   0001EF   12....       LCALL   ?Subroutine54 & 0xFFFF
   \                     ??CrossCallReturnLabel_88:
   \   0001F2   90....       MOV     DPTR,#??lastStatus
   \   0001F5   E0           MOVX    A,@DPTR
   \   0001F6   FA           MOV     R2,A
   \   0001F7   A3           INC     DPTR
   \   0001F8   E0           MOVX    A,@DPTR
   \   0001F9   54F7         ANL     A,#0xf7
   \   0001FB   FB           MOV     R3,A
   \   0001FC   85..82       MOV     DPL,?V0 + 0
   \   0001FF   85..83       MOV     DPH,?V0 + 1
   \   000202   A3           INC     DPTR
   \   000203   E0           MOVX    A,@DPTR
   \   000204   5408         ANL     A,#0x8
   \   000206   12....       LCALL   ?Subroutine12 & 0xFFFF
   1355                  if(1 == status->ststus.types.app)
   \                     ??CrossCallReturnLabel_8:
   \   000209   5408         ANL     A,#0x8
   \   00020B   90....       MOV     DPTR,#gizwitsProtocol + 132
   \   00020E   6007         JZ      ??gizProtocolModuleStatus_19
   1356                  {
   1357                      gizwitsProtocol.wifiStatusEvent.event[gizwitsProtocol.wifiStatusEvent.num] = WIFI_CON_APP;
   \   000210   12....       LCALL   ??Subroutine73_0 & 0xFFFF
   1358                      gizwitsProtocol.wifiStatusEvent.num++;
   1359                      GIZWITS_LOG("WiFi status: app connect\n");
   1360                  }
   \                     ??CrossCallReturnLabel_169:
   \   000213   740B         MOV     A,#0xb
   \   000215   8005         SJMP    ??gizProtocolModuleStatus_20
   1361                  else
   1362                  {
   1363                      gizwitsProtocol.wifiStatusEvent.event[gizwitsProtocol.wifiStatusEvent.num] = WIFI_DISCON_APP;
   \                     ??gizProtocolModuleStatus_19:
   \   000217   12....       LCALL   ??Subroutine73_0 & 0xFFFF
   1364                      gizwitsProtocol.wifiStatusEvent.num++;
   1365                      GIZWITS_LOG("WiFi status: no app connect\n");
   1366                  }
   1367              }
   \                     ??CrossCallReturnLabel_170:
   \   00021A   740C         MOV     A,#0xc
   \                     ??gizProtocolModuleStatus_20:
   \   00021C   12....       LCALL   ?Subroutine9 & 0xFFFF
   1368          
   1369              //test mode status
   1370              if(lastStatus.types.test != status->ststus.types.test)
   \                     ??CrossCallReturnLabel_5:
   \   00021F   8E82         MOV     DPL,R6
   \   000221   8F83         MOV     DPH,R7
   \   000223   A3           INC     DPTR
   \   000224   A3           INC     DPTR
   \   000225   A3           INC     DPTR
   \   000226   A3           INC     DPTR
   \   000227   A3           INC     DPTR
   \   000228   A3           INC     DPTR
   \   000229   A3           INC     DPTR
   \   00022A   A3           INC     DPTR
   \   00022B   12....       LCALL   ?Subroutine34 & 0xFFFF
   \                     ??CrossCallReturnLabel_50:
   \   00022E   12....       LCALL   ?US_SHR
   \   000231   E5..         MOV     A,?V0 + 0
   \   000233   A2E0         MOV     C,0xE0 /* A   */.0
   \   000235   92F0         MOV     B.0,C
   \   000237   90....       MOV     DPTR,#??lastStatus
   \   00023A   12....       LCALL   ?Subroutine34 & 0xFFFF
   \                     ??CrossCallReturnLabel_51:
   \   00023D   12....       LCALL   ?US_SHR
   \   000240   E5..         MOV     A,?V0 + 0
   \   000242   A2E0         MOV     C,0xE0 /* A   */.0
   \   000244   20F001       JB      B.0,??gizProtocolModuleStatus_21
   \   000247   B3           CPL     C
   \                     ??gizProtocolModuleStatus_21:
   \   000248   4037         JC      ??CrossCallReturnLabel_6
   1371              {
   1372                  lastStatus.types.test = status->ststus.types.test;
   \   00024A   EE           MOV     A,R6
   \   00024B   2408         ADD     A,#0x8
   \   00024D   F8           MOV     R0,A
   \   00024E   EF           MOV     A,R7
   \   00024F   3400         ADDC    A,#0x0
   \   000251   F9           MOV     R1,A
   \   000252   88..         MOV     ?V0 + 0,R0
   \   000254   89..         MOV     ?V0 + 1,R1
   \   000256   90....       MOV     DPTR,#??lastStatus
   \   000259   E0           MOVX    A,@DPTR
   \   00025A   FA           MOV     R2,A
   \   00025B   A3           INC     DPTR
   \   00025C   E0           MOVX    A,@DPTR
   \   00025D   54EF         ANL     A,#0xef
   \   00025F   FB           MOV     R3,A
   \   000260   8882         MOV     DPL,R0
   \   000262   8983         MOV     DPH,R1
   \   000264   A3           INC     DPTR
   \   000265   E0           MOVX    A,@DPTR
   \   000266   5410         ANL     A,#0x10
   \   000268   12....       LCALL   ?Subroutine12 & 0xFFFF
   1373                  if(1 == status->ststus.types.test)
   \                     ??CrossCallReturnLabel_9:
   \   00026B   5410         ANL     A,#0x10
   \   00026D   90....       MOV     DPTR,#gizwitsProtocol + 132
   \   000270   6007         JZ      ??gizProtocolModuleStatus_22
   1374                  {
   1375                      gizwitsProtocol.wifiStatusEvent.event[gizwitsProtocol.wifiStatusEvent.num] = WIFI_OPEN_TESTMODE;
   \   000272   12....       LCALL   ??Subroutine73_0 & 0xFFFF
   1376                      gizwitsProtocol.wifiStatusEvent.num++;
   1377                      GIZWITS_LOG("WiFi status: in test mode\n");
   1378                  }
   \                     ??CrossCallReturnLabel_171:
   \   000275   7409         MOV     A,#0x9
   \   000277   8005         SJMP    ??gizProtocolModuleStatus_23
   1379                  else
   1380                  {
   1381                      gizwitsProtocol.wifiStatusEvent.event[gizwitsProtocol.wifiStatusEvent.num] = WIFI_CLOSE_TESTMODE;
   \                     ??gizProtocolModuleStatus_22:
   \   000279   12....       LCALL   ??Subroutine73_0 & 0xFFFF
   1382                      gizwitsProtocol.wifiStatusEvent.num++;
   1383                      GIZWITS_LOG("WiFi status: out test mode\n");
   1384                  }
   1385              }
   \                     ??CrossCallReturnLabel_172:
   \   00027C   740A         MOV     A,#0xa
   \                     ??gizProtocolModuleStatus_23:
   \   00027E   12....       LCALL   ?Subroutine9 & 0xFFFF
   1386          
   1387              gizwitsProtocol.wifiStatusEvent.event[gizwitsProtocol.wifiStatusEvent.num] = WIFI_RSSI;
   \                     ??CrossCallReturnLabel_6:
   \   000281   12....       LCALL   ?Subroutine21 & 0xFFFF
   \                     ??CrossCallReturnLabel_175:
   \   000284   740D         MOV     A,#0xd
   \   000286   12....       LCALL   ?Subroutine9 & 0xFFFF
   1388              gizwitsProtocol.wifiStatusEvent.num++;
   1389              gizwitsProtocol.wifiStatusData.rssi = status->ststus.types.rssi;
   \                     ??CrossCallReturnLabel_7:
   \   000289   8E82         MOV     DPL,R6
   \   00028B   8F83         MOV     DPH,R7
   \   00028D   A3           INC     DPTR
   \   00028E   A3           INC     DPTR
   \   00028F   A3           INC     DPTR
   \   000290   A3           INC     DPTR
   \   000291   A3           INC     DPTR
   \   000292   A3           INC     DPTR
   \   000293   A3           INC     DPTR
   \   000294   A3           INC     DPTR
   \   000295   A3           INC     DPTR
   \   000296   E0           MOVX    A,@DPTR
   \   000297   5407         ANL     A,#0x7
   \   000299   90....       MOV     DPTR,#gizwitsProtocol + 234
   \   00029C   F0           MOVX    @DPTR,A
   1390              GIZWITS_LOG("RSSI is %d \n", gizwitsProtocol.wifiStatusData.rssi);
   1391          
   1392              gizwitsProtocol.issuedFlag = WIFI_STATUS_TYPE;
   \   00029D   90....       MOV     DPTR,#gizwitsProtocol
   \   0002A0   7402         MOV     A,#0x2
   \   0002A2   F0           MOVX    @DPTR,A
   1393          
   1394              return 0;
   \   0002A3   7900         MOV     R1,#0x0
   \                     ??gizProtocolModuleStatus_1:
   \   0002A5   02....       LJMP    ??Subroutine75_0 & 0xFFFF
   1395          }

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine54:
   \   000000   EE           MOV     A,R6
   \   000001   2408         ADD     A,#0x8
   \   000003   F5..         MOV     ?V0 + 0,A
   \   000005   EF           MOV     A,R7
   \   000006   3400         ADDC    A,#0x0
   \   000008   F5..         MOV     ?V0 + 1,A
   \   00000A   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine43:
   \   000000   E0           MOVX    A,@DPTR
   \   000001   13           RRC     A
   \   000002   13           RRC     A
   \   000003   13           RRC     A
   \   000004   541F         ANL     A,#0x1f
   \   000006   A2E0         MOV     C,0xE0 /* A   */.0
   \   000008   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine34:
   \   000000   12....       LCALL   ?Subroutine58 & 0xFFFF
   \                     ??CrossCallReturnLabel_97:
   \   000003   740C         MOV     A,#0xc
   \   000005   78..         MOV     R0,#?V0 + 0
   \   000007   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine33:
   \   000000   12....       LCALL   ?Subroutine58 & 0xFFFF
   \                     ??CrossCallReturnLabel_96:
   \   000003   740B         MOV     A,#0xb
   \   000005   78..         MOV     R0,#?V0 + 0
   \   000007   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine30:
   \   000000   FA           MOV     R2,A
   \   000001   A3           INC     DPTR
   \   000002   E0           MOVX    A,@DPTR
   \   000003   FB           MOV     R3,A
   \   000004   85..82       MOV     DPL,?V0 + 0
   \   000007   85..83       MOV     DPH,?V0 + 1
   \   00000A   E0           MOVX    A,@DPTR
   \   00000B   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine21:
   \   000000   90....       MOV     DPTR,#gizwitsProtocol + 132
   \   000003                REQUIRE ??Subroutine73_0
   \   000003                ; // Fall through to label ??Subroutine73_0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine73_0:
   \   000000   12....       LCALL   ?Subroutine61 & 0xFFFF
   \                     ??CrossCallReturnLabel_177:
   \   000003   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine61:
   \   000000   E0           MOVX    A,@DPTR
   \   000001   F8           MOV     R0,A
   \   000002   74..         MOV     A,#(gizwitsProtocol + 133) & 0xff
   \   000004   28           ADD     A,R0
   \   000005   F582         MOV     DPL,A
   \   000007   74..         MOV     A,#((gizwitsProtocol + 133) >> 8) & 0xff
   \   000009   3400         ADDC    A,#0x0
   \   00000B   F583         MOV     DPH,A
   \   00000D   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine12:
   \   000000   F9           MOV     R1,A
   \   000001   EA           MOV     A,R2
   \   000002   F8           MOV     R0,A
   \   000003   EB           MOV     A,R3
   \   000004   49           ORL     A,R1
   \   000005   12....       LCALL   ?Subroutine56 & 0xFFFF
   \                     ??CrossCallReturnLabel_89:
   \   000008   A3           INC     DPTR
   \   000009   E0           MOVX    A,@DPTR
   \   00000A   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine10:
   \   000000   90....       MOV     DPTR,#gizwitsProtocol + 132
   \   000003   12....       LCALL   ?Subroutine61 & 0xFFFF
   \                     ??CrossCallReturnLabel_176:
   \   000006   E4           CLR     A
   \   000007                REQUIRE ??Subroutine74_0
   \   000007                ; // Fall through to label ??Subroutine74_0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine74_0:
   \   000000   F0           MOVX    @DPTR,A
   \   000001   90....       MOV     DPTR,#gizwitsProtocol + 132
   \   000004   E0           MOVX    A,@DPTR
   \   000005   2401         ADD     A,#0x1
   \   000007   F0           MOVX    @DPTR,A
   \   000008   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine9:
   \   000000   F0           MOVX    @DPTR,A
   \   000001   90....       MOV     DPTR,#gizwitsProtocol + 132
   \   000004   E0           MOVX    A,@DPTR
   \   000005   04           INC     A
   \   000006   F0           MOVX    @DPTR,A
   \   000007   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine8:
   \   000000   F8           MOV     R0,A
   \   000001   EA           MOV     A,R2
   \   000002   48           ORL     A,R0
   \   000003   F8           MOV     R0,A
   \   000004   EB           MOV     A,R3
   \   000005   12....       LCALL   ?Subroutine56 & 0xFFFF
   \                     ??CrossCallReturnLabel_90:
   \   000008   E0           MOVX    A,@DPTR
   \   000009   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine56:
   \   000000   F9           MOV     R1,A
   \   000001   90....       MOV     DPTR,#??lastStatus
   \   000004   E8           MOV     A,R0
   \   000005   F0           MOVX    @DPTR,A
   \   000006   A3           INC     DPTR
   \   000007   E9           MOV     A,R1
   \   000008   F0           MOVX    @DPTR,A
   \   000009   85..82       MOV     DPL,?V0 + 0
   \   00000C   85..83       MOV     DPH,?V0 + 1
   \   00000F   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine75_0:
   \   000000   7F04         MOV     R7,#0x4
   \   000002   02....       LJMP    ?BANKED_LEAVE_XDATA

   \                                 In  segment XDATA_Z, align 1, keep-with-next
   \                     ??lastStatus:
   \   000000                DS 2
   \   000002                REQUIRE __INIT_XDATA_Z
   1396          
   1397          
   1398          /**@name Gizwits Áî®Êà∑APIÊé•Âè£
   1399          * @{
   1400          */
   1401          
   1402          /**
   1403          * @brief gizwitsÂçèËÆÆÂàùÂßãÂåñÊé•Âè?
   1404          * Áî®Êà∑Ë∞ÉÁî®ËØ•Êé•Âè£ÂèØ‰ª•ÂÆåÊàêGizwitsÂçèËÆÆÁõ∏ÂÖ≥ÂàùÂßãÂåñÔºàÂåÖÊã¨ÂçèËÆÆÁõ∏ÂÖ≥ÂÆöÊó∂Âô®„ÄÅ‰∏≤Âè£ÁöÑÂàùÂßãÔº?
   1405          * Áî®Êà∑ÂèØÂú®Âú®Ê≠§Êé•Âè£ÂÜÖÂÆåÊàêÊï∞ÊçÆÁÇπÁöÑÂàùÂßãÂåñÁä∂ÊÄÅËÆæÁΩ?
   1406          * @param none
   1407          * @return none
   1408          */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   1409          void gizwitsInit(void)
   \                     gizwitsInit:
   1410          {    
   \   000000   C082         PUSH    DPL
   \   000002   C083         PUSH    DPH
   \   000004                ; Saved register size: 2
   \   000004                ; Auto size: 0
   1411              pRb.rbCapacity = RB_MAX_LEN;
   \   000004   90....       MOV     DPTR,#pRb
   \   000007   743E         MOV     A,#0x3e
   \   000009   F0           MOVX    @DPTR,A
   \   00000A   A3           INC     DPTR
   \   00000B   E4           CLR     A
   \   00000C   F0           MOVX    @DPTR,A
   1412              pRb.rbBuff = rbBuf;
   \   00000D   90....       MOV     DPTR,#pRb + 6
   \   000010   74..         MOV     A,#rbBuf & 0xff
   \   000012   F0           MOVX    @DPTR,A
   \   000013   A3           INC     DPTR
   \   000014   74..         MOV     A,#(rbBuf >> 8) & 0xff
   \   000016   F0           MOVX    @DPTR,A
   1413              rbCreate(&pRb);
   \   000017   90....       MOV     DPTR,#pRb + 2
   \   00001A   74..         MOV     A,#rbBuf & 0xff
   \   00001C   F0           MOVX    @DPTR,A
   \   00001D   A3           INC     DPTR
   \   00001E   74..         MOV     A,#(rbBuf >> 8) & 0xff
   \   000020   F0           MOVX    @DPTR,A
   \   000021   A3           INC     DPTR
   \   000022   74..         MOV     A,#rbBuf & 0xff
   \   000024   F0           MOVX    @DPTR,A
   \   000025   A3           INC     DPTR
   \   000026   74..         MOV     A,#(rbBuf >> 8) & 0xff
   \   000028   F0           MOVX    @DPTR,A
   1414              
   1415              osal_memset((uint8 *)&gizwitsProtocol, 0, sizeof(gizwitsProtocol_t));
   \   000029                ; Setup parameters for call to function osal_memset
   \   000029   7CF6         MOV     R4,#-0xa
   \   00002B   7D00         MOV     R5,#0x0
   \   00002D   7900         MOV     R1,#0x0
   \   00002F   7A..         MOV     R2,#gizwitsProtocol & 0xff
   \   000031   7B..         MOV     R3,#(gizwitsProtocol >> 8) & 0xff
   \   000033   12....       LCALL   ??osal_memset?relay
   1416          }
   \   000036   02....       LJMP    ?Subroutine3 & 0xFFFF
   1417          
   1418          /**
   1419          * @brief WiFiÈÖçÁΩÆÊé•Âè£
   1420          
   1421          * Áî®Êà∑ÂèØ‰ª•Ë∞ÉÁî®ËØ•Êé•Âè£‰ΩøWiFiÊ®°ÁªÑËøõÂÖ•Áõ∏Â∫îÁöÑÈÖçÁΩÆÊ®°ÂºèÊàñËÄÖÂ§ç‰ΩçÊ®°Áª?
   1422          * @param[in] mode ÈÖçÁΩÆÊ®°ÂºèÈÄâÊã©Ôº?x0Ôº?Ê®°ÁªÑÂ§ç‰Ωç ;0x01Ôº?SoftApÊ®°Âºè ;0x02Ôº?AirLinkÊ®°Âºè ;0x03Ôº?‰∫ßÊµãÊ®°ÂºèÊ®°Âºè; 0x04:ÂÖÅËÆ∏Áî®Êà∑ÁªëÂÆöËÆæÂ§á
   1423          
   1424          * @return ÈîôËØØÂëΩ‰ª§Á†?*/

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   1425          uint32 gizwitsSetMode(uint8 mode)
   \                     gizwitsSetMode:
   1426          {
   \   000000   74F4         MOV     A,#-0xc
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 12
   \   000005                ; Auto size: 10
   \   000005   74F6         MOV     A,#-0xa
   \   000007   12....       LCALL   ?ALLOC_XSTACK8
   \   00000A   E9           MOV     A,R1
   \   00000B   FE           MOV     R6,A
   1427              uint32 ret = 0;
   \   00000C   90....       MOV     DPTR,#__Constant_0
   \   00000F   78..         MOV     R0,#?V0 + 0
   \   000011   12....       LCALL   ?L_MOV_X
   1428              protocolCfgMode_t cfgMode;
   1429              protocolCommon_t setDefault;
                                      ^
Warning[Pe177]: variable "setDefault" was declared but never referenced

  static void rbDelete(rb_t* rb)
              ^
"E:\work\smartlight\ZigLight001\Projects\zstack\Samples\ZigLightApp\Source\gizwits_protocol.c",48  Warning[Pe177]: 
          function "rbDelete" was declared but never referenced

  static uint32 gizY2X(uint32 ratio, int32 addition, int32 preValue)
                ^
"E:\work\smartlight\ZigLight001\Projects\zstack\Samples\ZigLightApp\Source\gizwits_protocol.c",325  Warning[Pe177]: 
          function "gizY2X" was declared but never referenced

  static int32 gizX2Y(uint32 ratio, int32 addition, uint32 preValue)
               ^
"E:\work\smartlight\ZigLight001\Projects\zstack\Samples\ZigLightApp\Source\gizwits_protocol.c",341  Warning[Pe177]: 
          function "gizX2Y" was declared but never referenced

  static uint32 gizY2XFloat(float ratio, float addition, float preValue)
                ^
"E:\work\smartlight\ZigLight001\Projects\zstack\Samples\ZigLightApp\Source\gizwits_protocol.c",358  Warning[Pe177]: 
          function "gizY2XFloat" was declared but never referenced

  static float gizX2YFloat(float ratio, float addition, uint32 preValue)
               ^
"E:\work\smartlight\ZigLight001\Projects\zstack\Samples\ZigLightApp\Source\gizwits_protocol.c",375  Warning[Pe177]: 
          function "gizX2YFloat" was declared but never referenced

  static int32 ICACHE_FLASH_ATTR gizCompressValue(uint32 bitOffset,uint32 bitLen,uint8 *bufAddr,uint32 srcData)
                                 ^
"E:\work\smartlight\ZigLight001\Projects\zstack\Samples\ZigLightApp\Source\gizwits_protocol.c",489  Warning[Pe177]: 
          function "gizCompressValue" was declared but never referenced

  static int32 ICACHE_FLASH_ATTR gizDecompressionValue(uint32 bitOffset,uint32 bitLen,uint8 *arrayAddr,uint32 arrayLen)
                                 ^
"E:\work\smartlight\ZigLight001\Projects\zstack\Samples\ZigLightApp\Source\gizwits_protocol.c",525  Warning[Pe177]: 
          function "gizDecompressionValue" was declared but never referenced
   1430          
   1431              switch(mode)
   \   000014   7402         MOV     A,#0x2
   \   000016   6E           XRL     A,R6
   \   000017   7079         JNZ     ??gizwitsSetMode_0
   1432              {
   1433          //        case WIFI_RESET_MODE:
   1434          //            gizProtocolHeadInit((protocolHead_t *)&setDefault);
   1435          //            setDefault.head.cmd = CMD_SET_DEFAULT;
   1436          //            setDefault.head.sn = gizwitsProtocol.sn++;
   1437          //            setDefault.head.len = gizProtocolExchangeBytes(sizeof(protocolCommon_t)-4);
   1438          //            setDefault.sum = gizProtocolSum((uint8 *)&setDefault, sizeof(protocolCommon_t));
   1439          //            ret = uartWrite((uint8 *)&setDefault, sizeof(protocolCommon_t));
   1440          //            if(ret < 0)
   1441          //            {
   1442          //                GIZWITS_LOG("ERROR: uart write error %d \n", ret);
   1443          //            }
   1444          //
   1445          //            gizProtocolWaitAck((uint8 *)&setDefault, sizeof(protocolCommon_t));   
   1446          //            break;
   1447          //        case WIFI_SOFTAP_MODE:
   1448          //            gizProtocolHeadInit((protocolHead_t *)&cfgMode);
   1449          //            cfgMode.head.cmd = CMD_WIFI_CONFIG;
   1450          //            cfgMode.head.sn = gizwitsProtocol.sn++;
   1451          //            cfgMode.cfgMode = mode;
   1452          //            cfgMode.head.len = gizProtocolExchangeBytes(sizeof(protocolCfgMode_t)-4);
   1453          //            cfgMode.sum = gizProtocolSum((uint8 *)&cfgMode, sizeof(protocolCfgMode_t));
   1454          //            ret = uartWrite((uint8 *)&cfgMode, sizeof(protocolCfgMode_t));
   1455          //            if(ret < 0)
   1456          //            {
   1457          //                GIZWITS_LOG("ERROR: uart write error %d \n", ret);
   1458          //            }
   1459          //            gizProtocolWaitAck((uint8 *)&cfgMode, sizeof(protocolCfgMode_t)); 
   1460          //            break;
   1461                  case WIFI_AIRLINK_MODE:
   1462                      gizProtocolHeadInit((protocolHead_t *)&cfgMode);
   \   000019                ; Setup parameters for call to function gizProtocolHeadInit
   \   000019   12....       LCALL   ?Subroutine53 & 0xFFFF
   1463                      cfgMode.head.cmd = CMD_WIFI_CONFIG;
   \                     ??CrossCallReturnLabel_85:
   \   00001C   12....       LCALL   ?XSTACK_DISP0_8
   \   00001F   7409         MOV     A,#0x9
   \   000021   12....       LCALL   ?Subroutine18 & 0xFFFF
   1464                      cfgMode.head.sn = gizwitsProtocol.sn++;
   \                     ??CrossCallReturnLabel_20:
   \   000024   12....       LCALL   ?L_MOV_X
   \   000027   7405         MOV     A,#0x5
   \   000029   12....       LCALL   ?XSTACK_DISP0_8
   \   00002C   12....       LCALL   ?Subroutine19 & 0xFFFF
   \                     ??CrossCallReturnLabel_23:
   \   00002F   12....       LCALL   ?L_MOV_X
   \   000032   90....       MOV     DPTR,#gizwitsProtocol + 67
   \   000035   78..         MOV     R0,#?V0 + 0
   \   000037   12....       LCALL   ?L_ADD_TO_X
   1465                      cfgMode.cfgMode = mode;
   \   00003A   7408         MOV     A,#0x8
   \   00003C   12....       LCALL   ?XSTACK_DISP0_8
   \   00003F   7402         MOV     A,#0x2
   \   000041   12....       LCALL   ?Subroutine17 & 0xFFFF
   1466                      cfgMode.head.len = gizProtocolExchangeBytes(sizeof(protocolCfgMode_t)-4);
   \                     ??CrossCallReturnLabel_19:
   \   000044   12....       LCALL   ?XSTACK_DISP0_8
   \   000047   12....       LCALL   ?Subroutine11 & 0xFFFF
   1467                      cfgMode.sum = gizProtocolSum((uint8 *)&cfgMode, sizeof(protocolCfgMode_t));
   \                     ??CrossCallReturnLabel_144:
   \   00004A                ; Setup parameters for call to function gizProtocolSum
   \   00004A   90....       MOV     DPTR,#__Constant_a
   \   00004D   12....       LCALL   ?PUSH_XSTACK8_X_FOUR
   \   000050   7404         MOV     A,#0x4
   \   000052   12....       LCALL   ?XSTACK_DISP0_8
   \   000055   12....       LCALL   ?Subroutine50 & 0xFFFF
   \                     ??CrossCallReturnLabel_159:
   \   000058   12....       LCALL   ?DEALLOC_XSTACK8
   \   00005B   7409         MOV     A,#0x9
   \   00005D   12....       LCALL   ?XSTACK_DISP0_8
   \   000060   E9           MOV     A,R1
   \   000061   F0           MOVX    @DPTR,A
   1468                      ret = uartWrite((uint8 *)&cfgMode, sizeof(protocolCfgMode_t));
   \   000062                ; Setup parameters for call to function uartWrite
   \   000062   90....       MOV     DPTR,#__Constant_a
   \   000065   12....       LCALL   ?PUSH_XSTACK8_X_FOUR
   \   000068   7404         MOV     A,#0x4
   \   00006A   12....       LCALL   ?XSTACK_DISP0_8
   \   00006D   12....       LCALL   ?Subroutine51 & 0xFFFF
   \                     ??CrossCallReturnLabel_151:
   \   000070   12....       LCALL   ?DEALLOC_XSTACK8
   \   000073   8A..         MOV     ?V0 + 0,R2
   \   000075   8B..         MOV     ?V0 + 1,R3
   \   000077   8C..         MOV     ?V0 + 2,R4
   \   000079   8D..         MOV     ?V0 + 3,R5
   1469                      if(ret == 0)
   1470                      {
   1471                          GIZWITS_LOG("ERROR: uart write error %d \n", ret);
   1472                      }
   1473                      gizProtocolWaitAck((uint8 *)&cfgMode, sizeof(protocolCfgMode_t)); 
   \   00007B                ; Setup parameters for call to function gizProtocolWaitAck
   \   00007B   90....       MOV     DPTR,#__Constant_a
   \   00007E   12....       LCALL   ?PUSH_XSTACK8_X_FOUR
   \   000081   7404         MOV     A,#0x4
   \   000083   12....       LCALL   ?XSTACK_DISP0_8
   \   000086   AA82         MOV     R2,DPL
   \   000088   AB83         MOV     R3,DPH
   \   00008A   12....       LCALL   ??gizProtocolWaitAck?relay
   \   00008D   7404         MOV     A,#0x4
   \   00008F   12....       LCALL   ?DEALLOC_XSTACK8
   1474                      break;
   1475          //        case WIFI_PRODUCTION_TEST:
   1476          //            gizProtocolHeadInit((protocolHead_t *)&setDefault);
   1477          //            setDefault.head.cmd = CMD_PRODUCTION_TEST;
   1478          //            setDefault.head.sn = gizwitsProtocol.sn++;
   1479          //            setDefault.head.len = gizProtocolExchangeBytes(sizeof(protocolCommon_t)-4);
   1480          //            setDefault.sum = gizProtocolSum((uint8 *)&setDefault, sizeof(protocolCommon_t));
   1481          //            ret = uartWrite((uint8 *)&setDefault, sizeof(protocolCommon_t));
   1482          //            if(ret < 0)
   1483          //            {
   1484          //                GIZWITS_LOG("ERROR: uart write error %d \n", ret);
   1485          //            }
   1486          //
   1487          //            gizProtocolWaitAck((uint8 *)&setDefault, sizeof(protocolCommon_t));
   1488          //            break;
   1489          //        case WIFI_NINABLE_MODE:
   1490          //            gizProtocolHeadInit((protocolHead_t *)&setDefault);
   1491          //            setDefault.head.cmd = CMD_NINABLE_MODE;
   1492          //            setDefault.head.sn = gizwitsProtocol.sn++;
   1493          //            setDefault.head.len = gizProtocolExchangeBytes(sizeof(protocolCommon_t)-4);
   1494          //            setDefault.sum = gizProtocolSum((uint8 *)&setDefault, sizeof(protocolCommon_t));
   1495          //            ret = uartWrite((uint8 *)&setDefault, sizeof(protocolCommon_t));
   1496          //            if(ret < 0)
   1497          //            {
   1498          //                GIZWITS_LOG("ERROR: uart write error %d \n", ret);
   1499          //            }
   1500          //
   1501          //            gizProtocolWaitAck((uint8 *)&setDefault, sizeof(protocolCommon_t)); 
   1502          //            break;
   1503                  default:
   1504                      GIZWITS_LOG("ERROR: CfgMode error!\n");
   1505                      break;
   1506              }
   1507          
   1508              return ret;
   \                     ??gizwitsSetMode_0:
   \   000092   AA..         MOV     R2,?V0 + 0
   \   000094   AB..         MOV     R3,?V0 + 1
   \   000096   AC..         MOV     R4,?V0 + 2
   \   000098   AD..         MOV     R5,?V0 + 3
   \   00009A   740A         MOV     A,#0xa
   \   00009C                REQUIRE ?Subroutine7
   \   00009C                ; // Fall through to label ?Subroutine7
   1509          }

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine7:
   \   000000   12....       LCALL   ?DEALLOC_XSTACK8
   \   000003                REQUIRE ??Subroutine75_0
   \   000003                ; // Fall through to label ??Subroutine75_0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine19:
   \   000000   E5..         MOV     A,?V0 + 0
   \   000002   F0           MOVX    @DPTR,A
   \   000003   90....       MOV     DPTR,#__Constant_1
   \   000006   78..         MOV     R0,#?V0 + 0
   \   000008   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine18:
   \   000000   F0           MOVX    @DPTR,A
   \   000001   90....       MOV     DPTR,#gizwitsProtocol + 67
   \   000004   78..         MOV     R0,#?V0 + 0
   \   000006   22           RET
   1510          
   1511          /**
   1512          * @brief Ëé∑ÂèñÁΩëÁªúÊó∂Èó¥ÁöÑÊé•Âè?
   1513          * ÂØπÂ∫îÂçèËÆÆ 4.13 MCUËØ∑Ê±ÇËé∑ÂèñÁΩëÁªúÊó∂Èó¥ ‰∏≠ÁöÑ ËÆæÂ§áMCUÂèëÈÄ?
   1514          * @param[in] none
   1515          * @return none
   1516          */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   1517          void gizwitsGetNTP(void)
   \                     gizwitsGetNTP:
   1518          {
   \   000000   74F4         MOV     A,#-0xc
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 12
   \   000005                ; Auto size: 9
   \   000005   74F7         MOV     A,#-0x9
   \   000007   12....       LCALL   ?ALLOC_XSTACK8
   1519              int32 ret = 0;
   1520              protocolCommon_t getNTP;
   1521          
   1522              gizProtocolHeadInit((protocolHead_t *)&getNTP);
   \   00000A                ; Setup parameters for call to function gizProtocolHeadInit
   \   00000A   12....       LCALL   ?Subroutine53 & 0xFFFF
   1523              getNTP.head.cmd = CMD_GET_NTP;
   \                     ??CrossCallReturnLabel_86:
   \   00000D   12....       LCALL   ?XSTACK_DISP0_8
   \   000010   7417         MOV     A,#0x17
   \   000012   12....       LCALL   ?Subroutine18 & 0xFFFF
   1524              getNTP.head.sn = gizwitsProtocol.sn++;
   \                     ??CrossCallReturnLabel_21:
   \   000015   12....       LCALL   ?L_MOV_X
   \   000018   7405         MOV     A,#0x5
   \   00001A   12....       LCALL   ?XSTACK_DISP0_8
   \   00001D   12....       LCALL   ?Subroutine19 & 0xFFFF
   \                     ??CrossCallReturnLabel_24:
   \   000020   12....       LCALL   ?L_MOV_X
   \   000023   90....       MOV     DPTR,#gizwitsProtocol + 67
   \   000026   78..         MOV     R0,#?V0 + 0
   \   000028   12....       LCALL   ?L_ADD_TO_X
   1525              getNTP.head.len = gizProtocolExchangeBytes(sizeof(protocolCommon_t)-4);
   \   00002B                ; Setup parameters for call to function gizProtocolExchangeBytes
   \   00002B   12....       LCALL   ?Subroutine66 & 0xFFFF
   \                     ??CrossCallReturnLabel_134:
   \   00002E   12....       LCALL   ?XSTACK_DISP0_8
   \   000031   12....       LCALL   ?Subroutine11 & 0xFFFF
   1526              getNTP.sum = gizProtocolSum((uint8 *)&getNTP, sizeof(protocolCommon_t));
   \                     ??CrossCallReturnLabel_145:
   \   000034                ; Setup parameters for call to function gizProtocolSum
   \   000034   90....       MOV     DPTR,#__Constant_9
   \   000037   12....       LCALL   ?PUSH_XSTACK8_X_FOUR
   \   00003A   7404         MOV     A,#0x4
   \   00003C   12....       LCALL   ?XSTACK_DISP0_8
   \   00003F   12....       LCALL   ?Subroutine50 & 0xFFFF
   \                     ??CrossCallReturnLabel_160:
   \   000042   12....       LCALL   ?DEALLOC_XSTACK8
   \   000045   7408         MOV     A,#0x8
   \   000047   12....       LCALL   ?XSTACK_DISP0_8
   \   00004A   E9           MOV     A,R1
   \   00004B   F0           MOVX    @DPTR,A
   1527              ret = uartWrite((uint8 *)&getNTP, sizeof(protocolCommon_t));
   \   00004C                ; Setup parameters for call to function uartWrite
   \   00004C   90....       MOV     DPTR,#__Constant_9
   \   00004F   12....       LCALL   ?PUSH_XSTACK8_X_FOUR
   \   000052   7404         MOV     A,#0x4
   \   000054   12....       LCALL   ?XSTACK_DISP0_8
   \   000057   12....       LCALL   ?Subroutine51 & 0xFFFF
   \                     ??CrossCallReturnLabel_152:
   \   00005A   12....       LCALL   ?DEALLOC_XSTACK8
   1528              if(ret < 0)
   1529              {
   1530                  GIZWITS_LOG("ERROR[NTP]: uart write error %d \n", ret);
   1531              }
   1532          
   1533              gizProtocolWaitAck((uint8 *)&getNTP, sizeof(protocolCommon_t));
   \   00005D                ; Setup parameters for call to function gizProtocolWaitAck
   \   00005D   90....       MOV     DPTR,#__Constant_9
   \   000060   12....       LCALL   ?PUSH_XSTACK8_X_FOUR
   \   000063   7404         MOV     A,#0x4
   \   000065   12....       LCALL   ?XSTACK_DISP0_8
   \   000068   AA82         MOV     R2,DPL
   \   00006A   AB83         MOV     R3,DPH
   \   00006C   12....       LCALL   ??gizProtocolWaitAck?relay
   \   00006F   7404         MOV     A,#0x4
   \   000071   12....       LCALL   ?DEALLOC_XSTACK8
   1534          }
   \   000074   7409         MOV     A,#0x9
   \   000076   02....       LJMP    ?Subroutine7 & 0xFFFF
   1535          
   1536          /**
   1537          * @brief ÂçèËÆÆÂ§ÑÁêÜÂáΩÊï∞
   1538          
   1539          * ËØ•ÂáΩÊï∞‰∏≠ÂÆåÊàê‰∫ÜÁõ∏Â∫îÂçèËÆÆÊï∞ÊçÆÁöÑÂ§ÑÁêÜÂèäÊï∞ÊçÆ‰∏ªÂä®‰∏äÊä•ÁöÑÁõ∏ÂÖ≥Êìç‰Ωú
   1540          
   1541          * @param [in] currentData ÂæÖ‰∏äÊä•ÁöÑÂçèËÆÆÊï∞ÊçÆÊåáÈíà
   1542          * @return none
   1543          */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   1544          int32 gizwitsHandle(dataPoint_t *currentData)
   \                     gizwitsHandle:
   1545          {
   \   000000   74E8         MOV     A,#-0x18
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 24
   \   000005                ; Auto size: 84
   \   000005   74AC         MOV     A,#-0x54
   \   000007   12....       LCALL   ?ALLOC_XSTACK8
   \   00000A   8A..         MOV     ?V0 + 2,R2
   \   00000C   8B..         MOV     ?V0 + 3,R3
   1546            uint8 asc_16[16]={'0','1','2','3','4','5','6','7','8','9','A','B','C','D','E','F'};
   \   00000E   7406         MOV     A,#0x6
   \   000010   12....       LCALL   ?XSTACK_DISP0_8
   \   000013   AC82         MOV     R4,DPL
   \   000015   AD83         MOV     R5,DPH
   \   000017   7583..       MOV     DPH,#(`?<Constant {48, 49, 50, 51, 52, 53, 54, 55, 56` >> 8) & 0xff
   \   00001A   7582..       MOV     DPL,#`?<Constant {48, 49, 50, 51, 52, 53, 54, 55, 56` & 0xff
   \   00001D   7410         MOV     A,#0x10
   \   00001F   12....       LCALL   ?MOVE_LONG8_XDATA_XDATA
   1547            int8 ret = 0;
   1548            uint16 i = 0;
   1549            uint8 ackData[RB_MAX_LEN];
   1550            uint16 protocolLen = 0;
   \   000022   85..82       MOV     DPL,?XSP + 0
   \   000025   85..83       MOV     DPH,?XSP + 1
   \   000028   F0           MOVX    @DPTR,A
   \   000029   A3           INC     DPTR
   \   00002A   F0           MOVX    @DPTR,A
   1551            uint32 ackLen = 0;
   \   00002B   90....       MOV     DPTR,#__Constant_0
   \   00002E   12....       LCALL   ?XLOAD_R2345
   \   000031   7402         MOV     A,#0x2
   \   000033   12....       LCALL   ?XSTACK_DISP0_8
   \   000036   12....       LCALL   ?XSTORE_R2345
   1552            protocolHead_t *recvHead = NULL;
   1553            static Node * nodeptr=NULL;
   1554            Node * deletnodeptr;
   1555            static Node * updatenodeptr=NULL;
   1556              if(NULL == currentData)
   \   000039   E5..         MOV     A,?V0 + 2
   \   00003B   45..         ORL     A,?V0 + 3
   \   00003D   700B         JNZ     ??gizwitsHandle_0
   1557              {
   1558                  GIZWITS_LOG("GizwitsHandle Error , Illegal Param\n");
   1559                  return -1;
   \   00003F   7AFF         MOV     R2,#-0x1
   \                     ??gizwitsHandle_1:
   \   000041   7BFF         MOV     R3,#-0x1
   \   000043   7CFF         MOV     R4,#-0x1
   \   000045   7DFF         MOV     R5,#-0x1
   \   000047   02....       LJMP    ??gizwitsHandle_2 & 0xFFFF
   1560              }
   1561          
   1562              /*ÈáçÂèëÊú∫Âà∂*/
   1563              gizProtocolAckHandle();
   \                     ??gizwitsHandle_0:
   \   00004A   90....       MOV     DPTR,#gizwitsProtocol + 76
   \   00004D   E0           MOVX    A,@DPTR
   \   00004E   6401         XRL     A,#0x1
   \   000050   7055         JNZ     ??gizwitsHandle_3
   \   000052   90....       MOV     DPTR,#gizwitsProtocol + 75
   \   000055   E0           MOVX    A,@DPTR
   \   000056   C3           CLR     C
   \   000057   9402         SUBB    A,#0x2
   \   000059   503F         JNC     ??gizwitsHandle_4
   \   00005B                ; Setup parameters for call to function gizGetTimerCount
   \   00005B   12....       LCALL   ?Subroutine48 & 0xFFFF
   \                     ??CrossCallReturnLabel_77:
   \   00005E   90....       MOV     DPTR,#gizwitsProtocol + 110
   \   000061   78..         MOV     R0,#?V0 + 4
   \   000063   12....       LCALL   ?L_SUB_X
   \   000066   90....       MOV     DPTR,#__Constant_7d1
   \   000069   78..         MOV     R0,#?V0 + 4
   \   00006B   12....       LCALL   ?UL_GE_X
   \   00006E   5037         JNC     ??gizwitsHandle_3
   \   000070   90....       MOV     DPTR,#gizwitsProtocol + 76
   \   000073   E0           MOVX    A,@DPTR
   \   000074   601C         JZ      ??gizwitsHandle_5
   \   000076                ; Setup parameters for call to function uartWrite
   \   000076   90....       MOV     DPTR,#gizwitsProtocol + 108
   \   000079   12....       LCALL   ?Subroutine26 & 0xFFFF
   \                     ??CrossCallReturnLabel_32:
   \   00007C   12....       LCALL   ?PUSH_XSTACK_I_FOUR
   \   00007F   7A..         MOV     R2,#(gizwitsProtocol + 77) & 0xff
   \   000081   7B..         MOV     R3,#((gizwitsProtocol + 77) >> 8) & 0xff
   \   000083   12....       LCALL   ??Subroutine71_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_154:
   \   000086   12....       LCALL   ?DEALLOC_XSTACK8
   \   000089                ; Setup parameters for call to function gizGetTimerCount
   \   000089   12....       LCALL   ??gizGetTimerCount?relay
   \   00008C   90....       MOV     DPTR,#gizwitsProtocol + 110
   \   00008F   12....       LCALL   ?XSTORE_R2345
   \                     ??gizwitsHandle_5:
   \   000092   90....       MOV     DPTR,#gizwitsProtocol + 75
   \   000095   E0           MOVX    A,@DPTR
   \   000096   04           INC     A
   \   000097   F0           MOVX    @DPTR,A
   \   000098   800D         SJMP    ??gizwitsHandle_3
   \                     ??gizwitsHandle_4:
   \   00009A                ; Setup parameters for call to function osal_memset
   \   00009A   7C27         MOV     R4,#0x27
   \   00009C   7D00         MOV     R5,#0x0
   \   00009E   7900         MOV     R1,#0x0
   \   0000A0   7A..         MOV     R2,#(gizwitsProtocol + 75) & 0xff
   \   0000A2   7B..         MOV     R3,#((gizwitsProtocol + 75) >> 8) & 0xff
   \   0000A4   12....       LCALL   ??osal_memset?relay
   1564              ret = gizProtocolGetOnePacket(&pRb, gizwitsProtocol.protocolBuf, &protocolLen);
   \                     ??gizwitsHandle_3:
   \   0000A7                ; Setup parameters for call to function gizProtocolGetOnePacket
   \   0000A7   85..82       MOV     DPL,?XSP + 0
   \   0000AA   85..83       MOV     DPH,?XSP + 1
   \   0000AD   8582..       MOV     ?V0 + 0,DPL
   \   0000B0   8583..       MOV     ?V0 + 1,DPH
   \   0000B3   78..         MOV     R0,#?V0 + 0
   \   0000B5   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0000B8   7C..         MOV     R4,#(gizwitsProtocol + 1) & 0xff
   \   0000BA   7D..         MOV     R5,#((gizwitsProtocol + 1) >> 8) & 0xff
   \   0000BC   7A..         MOV     R2,#pRb & 0xff
   \   0000BE   7B..         MOV     R3,#(pRb >> 8) & 0xff
   \   0000C0   12....       LCALL   ??gizProtocolGetOnePacket?relay
   \   0000C3   7402         MOV     A,#0x2
   \   0000C5   12....       LCALL   ?DEALLOC_XSTACK8
   \   0000C8   E9           MOV     A,R1
   \   0000C9   F8           MOV     R0,A
   1565          
   1566              if(0 == ret)
   \   0000CA   6003         JZ      $+5
   \   0000CC   02....       LJMP    ??gizwitsHandle_6 & 0xFFFF
   1567              {
   1568                  GIZWITS_LOG("Get One Packet!\n");
   1569                  
   1570          #ifdef PROTOCOL_DEBUG
   1571                  GIZWITS_LOG("WiFi2MCU[%4d:%4d]: ", gizGetTimerCount(), protocolLen);
   1572                  for(i=0; i<protocolLen;i++)
   1573                  {
   1574                      GIZWITS_LOG("%02x ", gizwitsProtocol.protocolBuf[i]);
   1575                  }
   1576                  GIZWITS_LOG("\n");
   1577          #endif
   1578          
   1579                  recvHead = (protocolHead_t *)gizwitsProtocol.protocolBuf;
   1580                  switch (recvHead->cmd)
   \   0000CF   90....       MOV     DPTR,#gizwitsProtocol + 5
   \   0000D2   E0           MOVX    A,@DPTR
   \   0000D3   14           DEC     A
   \   0000D4   604B         JZ      ??gizwitsHandle_7
   \   0000D6   24FE         ADD     A,#-0x2
   \   0000D8   7003         JNZ     $+5
   \   0000DA   02....       LJMP    ??gizwitsHandle_8 & 0xFFFF
   \   0000DD   24FD         ADD     A,#-0x3
   \   0000DF   7003         JNZ     $+5
   \   0000E1   02....       LJMP    ??gizwitsHandle_9 & 0xFFFF
   \   0000E4   14           DEC     A
   \   0000E5   7003         JNZ     $+5
   \   0000E7   02....       LJMP    ??gizwitsHandle_10 & 0xFFFF
   \   0000EA   24FD         ADD     A,#-0x3
   \   0000EC   7003         JNZ     $+5
   \   0000EE   02....       LJMP    ??gizwitsHandle_9 & 0xFFFF
   \   0000F1   24FE         ADD     A,#-0x2
   \   0000F3   7003         JNZ     $+5
   \   0000F5   02....       LJMP    ??gizwitsHandle_9 & 0xFFFF
   \   0000F8   14           DEC     A
   \   0000F9   7003         JNZ     $+5
   \   0000FB   02....       LJMP    ??gizwitsHandle_11 & 0xFFFF
   \   0000FE   24FE         ADD     A,#-0x2
   \   000100   7003         JNZ     $+5
   \   000102   02....       LJMP    ??gizwitsHandle_12 & 0xFFFF
   \   000105   24FE         ADD     A,#-0x2
   \   000107   601F         JZ      ??gizwitsHandle_13
   \   000109   24FD         ADD     A,#-0x3
   \   00010B   7003         JNZ     $+5
   \   00010D   02....       LJMP    ??gizwitsHandle_9 & 0xFFFF
   \   000110   24FE         ADD     A,#-0x2
   \   000112   7003         JNZ     $+5
   \   000114   02....       LJMP    ??gizwitsHandle_9 & 0xFFFF
   \   000117   24FE         ADD     A,#-0x2
   \   000119   7003         JNZ     $+5
   \   00011B   02....       LJMP    ??gizwitsHandle_14 & 0xFFFF
   \   00011E   02....       LJMP    ??gizwitsHandle_15 & 0xFFFF
   1581                  {
   1582                      case CMD_GET_DEVICE_INTO:
   1583                          gizProtocolGetDeviceInfo(recvHead);
   \                     ??gizwitsHandle_7:
   \   000121                ; Setup parameters for call to function gizProtocolGetDeviceInfo
   \   000121   7A..         MOV     R2,#(gizwitsProtocol + 1) & 0xff
   \   000123   7B..         MOV     R3,#((gizwitsProtocol + 1) >> 8) & 0xff
   \   000125   12....       LCALL   ??gizProtocolGetDeviceInfo?relay
   1584                          break;
   1585                      case CMD_ISSUED_P0:
   1586                          if(0 == gizProtocolIssuedProcess(gizwitsProtocol.protocolBuf, protocolLen, ackData, &ackLen))
   1587                          {
   1588                              gizProtocolIssuedDataAck(recvHead, ackData, ackLen);
   1589                          }
   1590                          break;
   1591                      case CMD_HEARTBEAT:
   1592                          gizProtocolCommonAck(recvHead);
   1593                          break;
   1594                      case CMD_WIFISTATUS:
   1595                          gizProtocolCommonAck(recvHead);
   1596                          gizProtocolModuleStatus((protocolWifiStatus_t *)recvHead);
   1597                          break;
   1598                      case ACK_REPORT_P0:
   1599                      case ACK_WIFI_CONFIG:
   1600                      case ACK_SET_DEFAULT:
   1601                      case ACK_NINABLE_MODE:
   1602                          gizProtocolWaitAckCheck(recvHead);
   1603                          break;
   1604                      case CMD_MCU_REBOOT:
   1605                          gizProtocolCommonAck(recvHead);
   1606                          GIZWITS_LOG("report:MCU reboot!\n");
   1607                          
   1608                          gizProtocolReboot();
   1609                          break;
   1610                      case CMD_ERROR_PACKAGE:
   1611                          break;
   1612                      case ACK_PRODUCTION_TEST:
   1613                          gizProtocolWaitAckCheck(recvHead);
   1614                          GIZWITS_LOG("Ack PRODUCTION_MODE success \n");
   1615                          break;           
   1616                      case ACK_GET_NTP:
   1617                          gizProtocolWaitAckCheck(recvHead);
   1618                          gizProtocolNTP(recvHead);
   1619                          GIZWITS_LOG("Ack GET_UTT success \n");
   1620                          break;   
   1621                      default:
   1622                          gizProtocolErrorCmd(recvHead,ERROR_CMD);
   1623                          GIZWITS_LOG("ERROR: cmd code error!\n");
   1624                          break;
   1625                  }
   1626              }
   1627              else if(-2 == ret)
   1628              {
   1629                  //Ê†°È™åÂ§±Ë¥•ÔºåÊä•ÂëäÂºÇÂ∏?        recvHead = (protocolHead_t *)gizwitsProtocol.protocolBuf;
   1630                  gizProtocolErrorCmd(recvHead,ERROR_ACK_SUM);
   1631                  GIZWITS_LOG("ERROR: check sum error!\n");
   1632                  return -2;
   1633              }
   1634              
   1635              switch(gizwitsProtocol.issuedFlag)
   \                     ??gizwitsHandle_13:
   \   000128   90....       MOV     DPTR,#gizwitsProtocol
   \   00012B   E0           MOVX    A,@DPTR
   \   00012C   14           DEC     A
   \   00012D   6015         JZ      ??gizwitsHandle_16
   \   00012F   14           DEC     A
   \   000130   7003         JNZ     $+5
   \   000132   02....       LJMP    ??gizwitsHandle_17 & 0xFFFF
   \   000135   14           DEC     A
   \   000136   7003         JNZ     $+5
   \   000138   02....       LJMP    ??gizwitsHandle_18 & 0xFFFF
   \   00013B   14           DEC     A
   \   00013C   7003         JNZ     $+5
   \   00013E   02....       LJMP    ??gizwitsHandle_19 & 0xFFFF
   \   000141   02....       LJMP    ??gizwitsHandle_20 & 0xFFFF
   1636              {
   1637                  case ACTION_CONTROL_TYPE:
   1638                      gizwitsProtocol.issuedFlag = STATELESS_TYPE;
   \                     ??gizwitsHandle_16:
   \   000144   E4           CLR     A
   \   000145   F0           MOVX    @DPTR,A
   1639                      gizwitsEventProcess(&gizwitsProtocol.issuedProcessEvent, (uint8 *)&gizwitsProtocol.gizCurrentDataPoint, sizeof(dataPoint_t));
   \   000146                ; Setup parameters for call to function gizwitsEventProcess
   \   000146   90....       MOV     DPTR,#__Constant_14
   \   000149   12....       LCALL   ?PUSH_XSTACK8_X_FOUR
   \   00014C   7C..         MOV     R4,#(gizwitsProtocol + 194) & 0xff
   \   00014E   7D..         MOV     R5,#((gizwitsProtocol + 194) >> 8) & 0xff
   \   000150   12....       LCALL   ?Subroutine55 & 0xFFFF
   \                     ??CrossCallReturnLabel_182:
   \   000153   12....       LCALL   ?DEALLOC_XSTACK8
   1640                      osal_memset((uint8 *)&gizwitsProtocol.issuedProcessEvent,0x0,sizeof(gizwitsProtocol.issuedProcessEvent));  
   \   000156                ; Setup parameters for call to function osal_memset
   \   000156   7C12         MOV     R4,#0x12
   \   000158   7D00         MOV     R5,#0x0
   \   00015A   7900         MOV     R1,#0x0
   \   00015C   7A..         MOV     R2,#(gizwitsProtocol + 114) & 0xff
   \   00015E   7B..         MOV     R3,#((gizwitsProtocol + 114) >> 8) & 0xff
   \                     ??gizwitsHandle_21:
   \   000160   12....       LCALL   ??osal_memset?relay
   1641                      break;
   \   000163   02....       LJMP    ??gizwitsHandle_22 & 0xFFFF
   \                     ??gizwitsHandle_8:
   \   000166                ; Setup parameters for call to function gizProtocolIssuedProcess
   \   000166   7402         MOV     A,#0x2
   \   000168   12....       LCALL   ?XSTACK_DISP0_8
   \   00016B   8582..       MOV     ?V0 + 0,DPL
   \   00016E   8583..       MOV     ?V0 + 1,DPH
   \   000171   78..         MOV     R0,#?V0 + 0
   \   000173   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000176   7402         MOV     A,#0x2
   \   000178   12....       LCALL   ?XSTACK_DISP0_8
   \   00017B   12....       LCALL   ?Subroutine26 & 0xFFFF
   \                     ??CrossCallReturnLabel_33:
   \   00017E   12....       LCALL   ?PUSH_XSTACK_I_FOUR
   \   000181   741C         MOV     A,#0x1c
   \   000183   12....       LCALL   ?XSTACK_DISP0_8
   \   000186   AC82         MOV     R4,DPL
   \   000188   AD83         MOV     R5,DPH
   \   00018A   7A..         MOV     R2,#(gizwitsProtocol + 1) & 0xff
   \   00018C   7B..         MOV     R3,#((gizwitsProtocol + 1) >> 8) & 0xff
   \   00018E   12....       LCALL   ??gizProtocolIssuedProcess?relay
   \   000191   7406         MOV     A,#0x6
   \   000193   12....       LCALL   ?DEALLOC_XSTACK8
   \   000196   E9           MOV     A,R1
   \   000197   708F         JNZ     ??gizwitsHandle_13
   \   000199                ; Setup parameters for call to function gizProtocolIssuedDataAck
   \   000199   7402         MOV     A,#0x2
   \   00019B   12....       LCALL   ?XSTACK_DISP0_8
   \   00019E   12....       LCALL   ?PUSH_XSTACK8_X_FOUR
   \   0001A1   741A         MOV     A,#0x1a
   \   0001A3   12....       LCALL   ?XSTACK_DISP0_8
   \   0001A6   AC82         MOV     R4,DPL
   \   0001A8   AD83         MOV     R5,DPH
   \   0001AA   7A..         MOV     R2,#(gizwitsProtocol + 1) & 0xff
   \   0001AC   7B..         MOV     R3,#((gizwitsProtocol + 1) >> 8) & 0xff
   \   0001AE   12....       LCALL   ??gizProtocolIssuedDataAck?relay
   \   0001B1   7404         MOV     A,#0x4
   \   0001B3   12....       LCALL   ?DEALLOC_XSTACK8
   \   0001B6   02....       LJMP    ??gizwitsHandle_13 & 0xFFFF
   \                     ??gizwitsHandle_10:
   \   0001B9                ; Setup parameters for call to function gizProtocolCommonAck
   \   0001B9   7A..         MOV     R2,#(gizwitsProtocol + 1) & 0xff
   \   0001BB   7B..         MOV     R3,#((gizwitsProtocol + 1) >> 8) & 0xff
   \   0001BD   12....       LCALL   ??gizProtocolCommonAck?relay
   \   0001C0   02....       LJMP    ??gizwitsHandle_13 & 0xFFFF
   \                     ??gizwitsHandle_11:
   \   0001C3                ; Setup parameters for call to function gizProtocolCommonAck
   \   0001C3   7A..         MOV     R2,#(gizwitsProtocol + 1) & 0xff
   \   0001C5   7B..         MOV     R3,#((gizwitsProtocol + 1) >> 8) & 0xff
   \   0001C7   12....       LCALL   ??gizProtocolCommonAck?relay
   \   0001CA                ; Setup parameters for call to function gizProtocolModuleStatus
   \   0001CA   7A..         MOV     R2,#(gizwitsProtocol + 1) & 0xff
   \   0001CC   7B..         MOV     R3,#((gizwitsProtocol + 1) >> 8) & 0xff
   \   0001CE   12....       LCALL   ??gizProtocolModuleStatus?relay
   \   0001D1   02....       LJMP    ??gizwitsHandle_13 & 0xFFFF
   \                     ??gizwitsHandle_9:
   \   0001D4                ; Setup parameters for call to function gizProtocolWaitAckCheck
   \   0001D4   7A..         MOV     R2,#(gizwitsProtocol + 1) & 0xff
   \   0001D6   7B..         MOV     R3,#((gizwitsProtocol + 1) >> 8) & 0xff
   \   0001D8   12....       LCALL   ??gizProtocolWaitAckCheck?relay
   \   0001DB   02....       LJMP    ??gizwitsHandle_13 & 0xFFFF
   \                     ??gizwitsHandle_12:
   \   0001DE                ; Setup parameters for call to function gizProtocolCommonAck
   \   0001DE   7A..         MOV     R2,#(gizwitsProtocol + 1) & 0xff
   \   0001E0   7B..         MOV     R3,#((gizwitsProtocol + 1) >> 8) & 0xff
   \   0001E2   12....       LCALL   ??gizProtocolCommonAck?relay
   \   0001E5                ; Setup parameters for call to function gizGetTimerCount
   \   0001E5   12....       LCALL   ?Subroutine48 & 0xFFFF
   \                     ??CrossCallReturnLabel_78:
   \   0001E8                ; Setup parameters for call to function gizGetTimerCount
   \   0001E8   12....       LCALL   ??gizGetTimerCount?relay
   \   0001EB   8A..         MOV     ?V0 + 8,R2
   \   0001ED   8B..         MOV     ?V0 + 9,R3
   \   0001EF   8C..         MOV     ?V0 + 10,R4
   \   0001F1   8D..         MOV     ?V0 + 11,R5
   \   0001F3   78..         MOV     R0,#?V0 + 8
   \   0001F5   79..         MOV     R1,#?V0 + 4
   \   0001F7   12....       LCALL   ?L_SUB
   \   0001FA   90....       MOV     DPTR,#__Constant_259
   \   0001FD   78..         MOV     R0,#?V0 + 8
   \   0001FF   12....       LCALL   ?UL_GE_X
   \   000202   50E4         JNC     ??CrossCallReturnLabel_78
   \   000204                ; Setup parameters for call to function mcuRestart
   \   000204   12....       LCALL   ??mcuRestart?relay
   \   000207   02....       LJMP    ??gizwitsHandle_13 & 0xFFFF
   \                     ??gizwitsHandle_14:
   \   00020A                ; Setup parameters for call to function gizProtocolWaitAckCheck
   \   00020A   7A..         MOV     R2,#(gizwitsProtocol + 1) & 0xff
   \   00020C   7B..         MOV     R3,#((gizwitsProtocol + 1) >> 8) & 0xff
   \   00020E   12....       LCALL   ??gizProtocolWaitAckCheck?relay
   \   000211                ; Setup parameters for call to function osal_memcpy
   \   000211   75....       MOV     ?V0 + 4,#(gizwitsProtocol + 9) & 0xff
   \   000214   75....       MOV     ?V0 + 5,#((gizwitsProtocol + 9) >> 8) & 0xff
   \   000217   75..00       MOV     ?V0 + 6,#0x0
   \   00021A   78..         MOV     R0,#?V0 + 4
   \   00021C   12....       LCALL   ?PUSH_XSTACK_I_THREE
   \   00021F   7C0B         MOV     R4,#0xb
   \   000221   7D00         MOV     R5,#0x0
   \   000223   7A..         MOV     R2,#(gizwitsProtocol + 235) & 0xff
   \   000225   7B..         MOV     R3,#((gizwitsProtocol + 235) >> 8) & 0xff
   \   000227   12....       LCALL   ??Subroutine68_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_132:
   \   00022A   12....       LCALL   ?DEALLOC_XSTACK8
   \   00022D                ; Setup parameters for call to function gizProtocolExchangeBytes
   \   00022D   90....       MOV     DPTR,#gizwitsProtocol + 235
   \   000230   12....       LCALL   ?Subroutine31 & 0xFFFF
   \                     ??CrossCallReturnLabel_45:
   \   000233   90....       MOV     DPTR,#gizwitsProtocol + 235
   \   000236   12....       LCALL   ?Subroutine11 & 0xFFFF
   \                     ??CrossCallReturnLabel_146:
   \   000239   90....       MOV     DPTR,#gizwitsProtocol + 242
   \   00023C   78..         MOV     R0,#?V0 + 12
   \   00023E   12....       LCALL   ?L_MOV_X
   \   000241   85....       MOV     ?V0 + 8,?V0 + 12
   \   000244   85....       MOV     ?V0 + 9,?V0 + 13
   \   000247   85....       MOV     ?V0 + 10,?V0 + 14
   \   00024A   85....       MOV     ?V0 + 11,?V0 + 15
   \   00024D   7418         MOV     A,#0x18
   \   00024F   78..         MOV     R0,#?V0 + 8
   \   000251   12....       LCALL   ?L_SHL
   \   000254   85....       MOV     ?V0 + 4,?V0 + 12
   \   000257   85....       MOV     ?V0 + 5,?V0 + 13
   \   00025A   85....       MOV     ?V0 + 6,?V0 + 14
   \   00025D   85....       MOV     ?V0 + 7,?V0 + 15
   \   000260   90....       MOV     DPTR,#__Constant_ff00
   \   000263   78..         MOV     R0,#?V0 + 4
   \   000265   12....       LCALL   ?L_AND_X
   \   000268   7408         MOV     A,#0x8
   \   00026A   78..         MOV     R0,#?V0 + 4
   \   00026C   12....       LCALL   ?L_SHL
   \   00026F   78..         MOV     R0,#?V0 + 8
   \   000271   79..         MOV     R1,#?V0 + 4
   \   000273   12....       LCALL   ?L_IOR
   \   000276   85....       MOV     ?V0 + 4,?V0 + 12
   \   000279   85....       MOV     ?V0 + 5,?V0 + 13
   \   00027C   85....       MOV     ?V0 + 6,?V0 + 14
   \   00027F   85....       MOV     ?V0 + 7,?V0 + 15
   \   000282   7408         MOV     A,#0x8
   \   000284   78..         MOV     R0,#?V0 + 4
   \   000286   12....       LCALL   ?UL_SHR
   \   000289   90....       MOV     DPTR,#__Constant_ff00
   \   00028C   78..         MOV     R0,#?V0 + 4
   \   00028E   12....       LCALL   ?L_AND_X
   \   000291   78..         MOV     R0,#?V0 + 8
   \   000293   79..         MOV     R1,#?V0 + 4
   \   000295   12....       LCALL   ?L_IOR
   \   000298   7418         MOV     A,#0x18
   \   00029A   78..         MOV     R0,#?V0 + 12
   \   00029C   12....       LCALL   ?UL_SHR
   \   00029F   78..         MOV     R0,#?V0 + 8
   \   0002A1   79..         MOV     R1,#?V0 + 12
   \   0002A3   12....       LCALL   ?L_IOR
   \   0002A6   90....       MOV     DPTR,#gizwitsProtocol + 242
   \   0002A9   78..         MOV     R0,#?V0 + 8
   \   0002AB   12....       LCALL   ?L_MOV_TO_X
   \   0002AE   90....       MOV     DPTR,#gizwitsProtocol + 150
   \   0002B1   E0           MOVX    A,@DPTR
   \   0002B2   F8           MOV     R0,A
   \   0002B3   74..         MOV     A,#(gizwitsProtocol + 151) & 0xff
   \   0002B5   28           ADD     A,R0
   \   0002B6   F582         MOV     DPL,A
   \   0002B8   74..         MOV     A,#((gizwitsProtocol + 151) >> 8) & 0xff
   \   0002BA   3400         ADDC    A,#0x0
   \   0002BC   F583         MOV     DPH,A
   \   0002BE   740E         MOV     A,#0xe
   \   0002C0   F0           MOVX    @DPTR,A
   \   0002C1   90....       MOV     DPTR,#gizwitsProtocol + 150
   \   0002C4   E0           MOVX    A,@DPTR
   \   0002C5   04           INC     A
   \   0002C6   F0           MOVX    @DPTR,A
   \   0002C7   90....       MOV     DPTR,#gizwitsProtocol
   \   0002CA   7404         MOV     A,#0x4
   \   0002CC   F0           MOVX    @DPTR,A
   1642                  case WIFI_STATUS_TYPE:
   1643                      gizwitsProtocol.issuedFlag = STATELESS_TYPE;
   1644                      gizwitsEventProcess(&gizwitsProtocol.wifiStatusEvent, (uint8 *)&gizwitsProtocol.wifiStatusData, sizeof(moduleStatusInfo_t));
   1645                      osal_memset((uint8 *)&gizwitsProtocol.wifiStatusEvent,0x0,sizeof(gizwitsProtocol.wifiStatusEvent));
   1646                      break;
   1647                  case ACTION_W2D_TRANSPARENT_TYPE:
   1648                      gizwitsProtocol.issuedFlag = STATELESS_TYPE;
   1649                      gizwitsEventProcess(&gizwitsProtocol.issuedProcessEvent, (uint8 *)gizwitsProtocol.transparentBuff, gizwitsProtocol.transparentLen);
   1650                      break;
   1651                  case GET_NTP_TYPE:
   1652                      gizwitsProtocol.issuedFlag = STATELESS_TYPE;
   \                     ??gizwitsHandle_19:
   \   0002CD   E4           CLR     A
   \   0002CE   F0           MOVX    @DPTR,A
   1653                      gizwitsEventProcess(&gizwitsProtocol.NTPEvent, (uint8 *)&gizwitsProtocol.TimeNTP, sizeof(protocolTime_t));
   \   0002CF                ; Setup parameters for call to function gizwitsEventProcess
   \   0002CF   90....       MOV     DPTR,#__Constant_b
   \   0002D2   12....       LCALL   ?PUSH_XSTACK8_X_FOUR
   \   0002D5   7C..         MOV     R4,#(gizwitsProtocol + 235) & 0xff
   \   0002D7   7D..         MOV     R5,#((gizwitsProtocol + 235) >> 8) & 0xff
   \   0002D9   7A..         MOV     R2,#(gizwitsProtocol + 150) & 0xff
   \   0002DB   7B..         MOV     R3,#((gizwitsProtocol + 150) >> 8) & 0xff
   \   0002DD   12....       LCALL   ??Subroutine76_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_184:
   \   0002E0   12....       LCALL   ?DEALLOC_XSTACK8
   1654                      osal_memset((uint8 *)&gizwitsProtocol.NTPEvent,0x0,sizeof(gizwitsProtocol.NTPEvent));
   \   0002E3                ; Setup parameters for call to function osal_memset
   \   0002E3   7C12         MOV     R4,#0x12
   \   0002E5   7D00         MOV     R5,#0x0
   \   0002E7   7900         MOV     R1,#0x0
   \   0002E9   7A..         MOV     R2,#(gizwitsProtocol + 150) & 0xff
   \   0002EB   7B..         MOV     R3,#((gizwitsProtocol + 150) >> 8) & 0xff
   \   0002ED   02....       LJMP    ??gizwitsHandle_21 & 0xFFFF
   \                     ??gizwitsHandle_15:
   \   0002F0                ; Setup parameters for call to function gizProtocolErrorCmd
   \   0002F0   7902         MOV     R1,#0x2
   \   0002F2   7A..         MOV     R2,#(gizwitsProtocol + 1) & 0xff
   \   0002F4   7B..         MOV     R3,#((gizwitsProtocol + 1) >> 8) & 0xff
   \   0002F6   12....       LCALL   ??gizProtocolErrorCmd?relay
   \   0002F9   02....       LJMP    ??gizwitsHandle_13 & 0xFFFF
   \                     ??gizwitsHandle_6:
   \   0002FC   74FE         MOV     A,#-0x2
   \   0002FE   68           XRL     A,R0
   \   0002FF   6003         JZ      $+5
   \   000301   02....       LJMP    ??gizwitsHandle_13 & 0xFFFF
   \   000304                ; Setup parameters for call to function gizProtocolErrorCmd
   \   000304   7901         MOV     R1,#0x1
   \   000306   7A00         MOV     R2,#0x0
   \   000308   7B00         MOV     R3,#0x0
   \   00030A   12....       LCALL   ??gizProtocolErrorCmd?relay
   \   00030D   7AFE         MOV     R2,#-0x2
   \   00030F   02....       LJMP    ??gizwitsHandle_1 & 0xFFFF
   \                     ??gizwitsHandle_17:
   \   000312   E4           CLR     A
   \   000313   F0           MOVX    @DPTR,A
   \   000314                ; Setup parameters for call to function gizwitsEventProcess
   \   000314   90....       MOV     DPTR,#__Constant_1
   \   000317   12....       LCALL   ?PUSH_XSTACK8_X_FOUR
   \   00031A   7C..         MOV     R4,#(gizwitsProtocol + 234) & 0xff
   \   00031C   7D..         MOV     R5,#((gizwitsProtocol + 234) >> 8) & 0xff
   \   00031E   7A..         MOV     R2,#(gizwitsProtocol + 132) & 0xff
   \   000320   7B..         MOV     R3,#((gizwitsProtocol + 132) >> 8) & 0xff
   \   000322   12....       LCALL   ??Subroutine76_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_185:
   \   000325   12....       LCALL   ?DEALLOC_XSTACK8
   \   000328                ; Setup parameters for call to function osal_memset
   \   000328   7C12         MOV     R4,#0x12
   \   00032A   7D00         MOV     R5,#0x0
   \   00032C   7900         MOV     R1,#0x0
   \   00032E   7A..         MOV     R2,#(gizwitsProtocol + 132) & 0xff
   \   000330   7B..         MOV     R3,#((gizwitsProtocol + 132) >> 8) & 0xff
   \   000332   02....       LJMP    ??gizwitsHandle_21 & 0xFFFF
   \                     ??gizwitsHandle_18:
   \   000335   E4           CLR     A
   \   000336   F0           MOVX    @DPTR,A
   \   000337                ; Setup parameters for call to function gizwitsEventProcess
   \   000337   90....       MOV     DPTR,#gizwitsProtocol + 63
   \   00033A   12....       LCALL   ?PUSH_XSTACK8_X_FOUR
   \   00033D   7C..         MOV     R4,#(gizwitsProtocol + 32) & 0xff
   \   00033F   7D..         MOV     R5,#((gizwitsProtocol + 32) >> 8) & 0xff
   \   000341   12....       LCALL   ?Subroutine55 & 0xFFFF
   \                     ??CrossCallReturnLabel_183:
   \   000344   12....       LCALL   ?DEALLOC_XSTACK8
   \   000347   02....       LJMP    ??gizwitsHandle_22 & 0xFFFF
   1655                      break;  
   1656                  default:
   1657                    if(MacToAppFlag ==1){
   \                     ??gizwitsHandle_20:
   \   00034A   90....       MOV     DPTR,#MacToAppFlag
   \   00034D   E0           MOVX    A,@DPTR
   \   00034E   6401         XRL     A,#0x1
   \   000350   707C         JNZ     ??gizwitsHandle_23
   1658                      if(nodeptr == NULL){
   \   000352   12....       LCALL   ?Subroutine22 & 0xFFFF
   \                     ??CrossCallReturnLabel_199:
   \   000355   7010         JNZ     ??gizwitsHandle_24
   1659                        nodeptr = nodelist;
   \   000357   90....       MOV     DPTR,#nodelist
   \   00035A   12....       LCALL   ?Subroutine20 & 0xFFFF
   1660                        for(i=0;i<20;i++)
   1661                          currentDataPoint.valuepayload[i]=0;
   \                     ??CrossCallReturnLabel_212:
   \   00035D   E4           CLR     A
   \   00035E   90....       MOV     DPTR,#currentDataPoint
   \   000361   7814         MOV     R0,#0x14
   \                     ??gizwitsHandle_25:
   \   000363   F0           MOVX    @DPTR,A
   \   000364   A3           INC     DPTR
   \   000365   D8FC         DJNZ    R0,??gizwitsHandle_25
   1662                      }
   1663                      for(i=0;nodeptr&&i<=1;nodeptr=nodeptr->next,i++)
   \                     ??gizwitsHandle_24:
   \   000367   7E00         MOV     R6,#0x0
   \   000369   7F00         MOV     R7,#0x0
   \   00036B   8036         SJMP    ??CrossCallReturnLabel_104
   \                     ??gizwitsHandle_26:
   \   00036D   C3           CLR     C
   \   00036E   EE           MOV     A,R6
   \   00036F   9402         SUBB    A,#0x2
   \   000371   EF           MOV     A,R7
   \   000372   9400         SUBB    A,#0x0
   \   000374   5037         JNC     ??gizwitsHandle_27
   1664                      {
   1665                        osal_memcpy((uint8 *)&currentDataPoint.valuepayload[3+8*i],(uint8 *)&nodeptr->extaddr, 8);
   \   000376                ; Setup parameters for call to function osal_memcpy
   \   000376   90....       MOV     DPTR,#??nodeptr
   \   000379   12....       LCALL   ?Subroutine24 & 0xFFFF
   1666                      }
   \                     ??CrossCallReturnLabel_28:
   \   00037C   12....       LCALL   ?PUSH_XSTACK_I_THREE
   \   00037F   7C08         MOV     R4,#0x8
   \   000381   7D00         MOV     R5,#0x0
   \   000383   8E..         MOV     ?V0 + 0,R6
   \   000385   8F..         MOV     ?V0 + 1,R7
   \   000387   7403         MOV     A,#0x3
   \   000389   78..         MOV     R0,#?V0 + 0
   \   00038B   12....       LCALL   ?S_SHL
   \   00038E   12....       LCALL   ?Subroutine49 & 0xFFFF
   \                     ??CrossCallReturnLabel_79:
   \   000391   12....       LCALL   ??Subroutine68_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_128:
   \   000394   12....       LCALL   ?DEALLOC_XSTACK8
   \   000397   90....       MOV     DPTR,#??nodeptr
   \   00039A   12....       LCALL   ?Subroutine32 & 0xFFFF
   \                     ??CrossCallReturnLabel_46:
   \   00039D   12....       LCALL   ?Subroutine20 & 0xFFFF
   \                     ??CrossCallReturnLabel_213:
   \   0003A0   12....       LCALL   ?Subroutine65 & 0xFFFF
   \                     ??CrossCallReturnLabel_104:
   \   0003A3   12....       LCALL   ?Subroutine22 & 0xFFFF
   \                     ??CrossCallReturnLabel_200:
   \   0003A6   70C5         JNZ     ??gizwitsHandle_26
   1667          
   1668                      if(nodeptr == NULL){
   1669                        MacToAppFlag = 0;
   \   0003A8   90....       MOV     DPTR,#MacToAppFlag
   \   0003AB   E4           CLR     A
   \   0003AC   F0           MOVX    @DPTR,A
   1670                      }
   1671                      currentDataPoint.valuepayload[0]=0x10;
   \                     ??gizwitsHandle_27:
   \   0003AD   90....       MOV     DPTR,#currentDataPoint
   \   0003B0   7410         MOV     A,#0x10
   \   0003B2   F0           MOVX    @DPTR,A
   1672                      currentDataPoint.valuepayload[1]=i;
   \   0003B3   EE           MOV     A,R6
   \   0003B4   A3           INC     DPTR
   \   0003B5   F0           MOVX    @DPTR,A
   1673                      if(i==1)
   \   0003B6   7401         MOV     A,#0x1
   \   0003B8   6E           XRL     A,R6
   \   0003B9   7001         JNZ     ??gizwitsHandle_28
   \   0003BB   EF           MOV     A,R7
   \                     ??gizwitsHandle_28:
   \   0003BC   6003         JZ      $+5
   \   0003BE   02....       LJMP    ??gizwitsHandle_22 & 0xFFFF
   1674                        for(i=11;i<20;i++)
   1675                          currentDataPoint.valuepayload[i]=0;
   \   0003C1   E4           CLR     A
   \   0003C2   90....       MOV     DPTR,#currentDataPoint + 11
   \   0003C5   7809         MOV     R0,#0x9
   \                     ??gizwitsHandle_29:
   \   0003C7   F0           MOVX    @DPTR,A
   \   0003C8   A3           INC     DPTR
   \   0003C9   D8FC         DJNZ    R0,??gizwitsHandle_29
   \   0003CB   02....       LJMP    ??gizwitsHandle_22 & 0xFFFF
   1676                    }
   1677                    else if(deletnodelist){
   \                     ??gizwitsHandle_23:
   \   0003CE   90....       MOV     DPTR,#deletnodelist
   \   0003D1   12....       LCALL   ??Subroutine79_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_196:
   \   0003D4   7003         JNZ     $+5
   \   0003D6   02....       LJMP    ??gizwitsHandle_30 & 0xFFFF
   1678                      AutoUpateMac = 1;
   \   0003D9   90....       MOV     DPTR,#AutoUpateMac
   \   0003DC   7401         MOV     A,#0x1
   \   0003DE   F0           MOVX    @DPTR,A
   1679                      deletnodeptr = deletnodelist->next;
   \   0003DF   12....       LCALL   ?Subroutine23 & 0xFFFF
   1680                      for(i=0;i<20;i++)
   1681                        currentDataPoint.valuepayload[i]=0;
   \                     ??CrossCallReturnLabel_26:
   \   0003E2   E4           CLR     A
   \   0003E3   90....       MOV     DPTR,#currentDataPoint
   \   0003E6   7814         MOV     R0,#0x14
   \                     ??gizwitsHandle_31:
   \   0003E8   F0           MOVX    @DPTR,A
   \   0003E9   A3           INC     DPTR
   \   0003EA   D8FC         DJNZ    R0,??gizwitsHandle_31
   1682                      osal_memcpy((uint8 *)&currentDataPoint.valuepayload[3],(uint8 *)&deletnodelist->extaddr, 8);
   \   0003EC                ; Setup parameters for call to function osal_memcpy
   \   0003EC   12....       LCALL   ?Subroutine36 & 0xFFFF
   \                     ??CrossCallReturnLabel_55:
   \   0003EF   75..00       MOV     ?V0 + 6,#0x0
   \   0003F2   78..         MOV     R0,#?V0 + 4
   \   0003F4   12....       LCALL   ?PUSH_XSTACK_I_THREE
   \   0003F7   7C08         MOV     R4,#0x8
   \   0003F9   7D00         MOV     R5,#0x0
   \   0003FB   7A..         MOV     R2,#(currentDataPoint + 3) & 0xff
   \   0003FD   7B..         MOV     R3,#((currentDataPoint + 3) >> 8) & 0xff
   \   0003FF   12....       LCALL   ??Subroutine68_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_129:
   \   000402   12....       LCALL   ?DEALLOC_XSTACK8
   1683                      HalUARTWrite(0,"\nD:",3);
   \   000405                ; Setup parameters for call to function HalUARTWrite
   \   000405   7C03         MOV     R4,#0x3
   \   000407   7D00         MOV     R5,#0x0
   \   000409   7A..         MOV     R2,#`?<Constant "\\nD:">` & 0xff
   \   00040B   7B..         MOV     R3,#(`?<Constant "\\nD:">` >> 8) & 0xff
   \   00040D   7900         MOV     R1,#0x0
   \   00040F   12....       LCALL   ??HalUARTWrite?relay
   1684                      for(i=0;i<8;i++)
   \   000412   7E00         MOV     R6,#0x0
   \   000414   7F00         MOV     R7,#0x0
   1685                      {
   1686                        HalUARTWrite(0,&asc_16[((Node*)deletnodelist)->extaddr[i]%256/16],1);  
   \                     ??gizwitsHandle_32:
   \   000416                ; Setup parameters for call to function HalUARTWrite
   \   000416   12....       LCALL   ?Subroutine25 & 0xFFFF
   1687                        HalUARTWrite(0,&asc_16[((Node*)deletnodelist)->extaddr[i]%16],1); 
   1688                      }
   \                     ??CrossCallReturnLabel_30:
   \   000419   12....       LCALL   ?XSTACK_DISP0_8
   \   00041C   12....       LCALL   ?Subroutine29 & 0xFFFF
   \                     ??CrossCallReturnLabel_38:
   \   00041F   12....       LCALL   ?XSTACK_DISP0_8
   \   000422   12....       LCALL   ?Subroutine45 & 0xFFFF
   \                     ??CrossCallReturnLabel_71:
   \   000425   40EF         JC      ??gizwitsHandle_32
   1689                      HalUARTWrite(0,"\r\n",2);
   \   000427                ; Setup parameters for call to function HalUARTWrite
   \   000427   12....       LCALL   ?Subroutine27 & 0xFFFF
   1690                      osal_mem_free(((Node*)deletnodelist));
   1691                      deletnodelist = deletnodeptr;
   \                     ??CrossCallReturnLabel_34:
   \   00042A   F0           MOVX    @DPTR,A
   1692                      if(deletnodelist){
   \   00042B   90....       MOV     DPTR,#deletnodelist
   \   00042E   12....       LCALL   ??Subroutine79_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_197:
   \   000431   604A         JZ      ??gizwitsHandle_33
   1693                        deletnodeptr = deletnodelist->next;
   \   000433   12....       LCALL   ?Subroutine23 & 0xFFFF
   1694                        osal_memcpy((uint8 *)&currentDataPoint.valuepayload[3+8],(uint8 *)&deletnodelist->extaddr, 8);
   \                     ??CrossCallReturnLabel_27:
   \   000436                ; Setup parameters for call to function osal_memcpy
   \   000436   12....       LCALL   ?Subroutine36 & 0xFFFF
   \                     ??CrossCallReturnLabel_56:
   \   000439   78..         MOV     R0,#?V0 + 4
   \   00043B   12....       LCALL   ?PUSH_XSTACK_I_THREE
   \   00043E   7C08         MOV     R4,#0x8
   \   000440   7D00         MOV     R5,#0x0
   \   000442   7A..         MOV     R2,#(currentDataPoint + 11) & 0xff
   \   000444   7B..         MOV     R3,#((currentDataPoint + 11) >> 8) & 0xff
   \   000446   12....       LCALL   ??Subroutine68_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_130:
   \   000449   12....       LCALL   ?DEALLOC_XSTACK8
   1695                        currentDataPoint.valuepayload[0] = 0x20;
   \   00044C   90....       MOV     DPTR,#currentDataPoint
   \   00044F   7420         MOV     A,#0x20
   \   000451   F0           MOVX    @DPTR,A
   1696                        currentDataPoint.valuepayload[1] = 2;
   \   000452   A3           INC     DPTR
   \   000453   7402         MOV     A,#0x2
   \   000455   F0           MOVX    @DPTR,A
   1697                        HalUARTWrite(0,"\nD:",3);
   \   000456                ; Setup parameters for call to function HalUARTWrite
   \   000456   7C03         MOV     R4,#0x3
   \   000458   7D00         MOV     R5,#0x0
   \   00045A   7A..         MOV     R2,#`?<Constant "\\nD:">` & 0xff
   \   00045C   7B..         MOV     R3,#(`?<Constant "\\nD:">` >> 8) & 0xff
   \   00045E   7900         MOV     R1,#0x0
   \   000460   12....       LCALL   ??HalUARTWrite?relay
   1698                        for(i=0;i<8;i++)
   \   000463   7E00         MOV     R6,#0x0
   \   000465   7F00         MOV     R7,#0x0
   1699                        {
   1700                          HalUARTWrite(0,&asc_16[((Node*)deletnodelist)->extaddr[i]%256/16],1);  
   \                     ??gizwitsHandle_34:
   \   000467                ; Setup parameters for call to function HalUARTWrite
   \   000467   12....       LCALL   ?Subroutine25 & 0xFFFF
   1701                          HalUARTWrite(0,&asc_16[((Node*)deletnodelist)->extaddr[i]%16],1); 
   1702                        }
   \                     ??CrossCallReturnLabel_31:
   \   00046A   12....       LCALL   ?XSTACK_DISP0_8
   \   00046D   12....       LCALL   ?Subroutine29 & 0xFFFF
   \                     ??CrossCallReturnLabel_39:
   \   000470   12....       LCALL   ?XSTACK_DISP0_8
   \   000473   12....       LCALL   ?Subroutine45 & 0xFFFF
   \                     ??CrossCallReturnLabel_72:
   \   000476   40EF         JC      ??gizwitsHandle_34
   1703                        HalUARTWrite(0,"\r\n",2);
   \   000478                ; Setup parameters for call to function HalUARTWrite
   \   000478   12....       LCALL   ?Subroutine27 & 0xFFFF
   1704                        osal_mem_free(((Node*)deletnodelist));
   1705                        deletnodelist = deletnodeptr;
   1706                      }
   \                     ??CrossCallReturnLabel_35:
   \   00047B   8009         SJMP    ??gizwitsHandle_35
   1707                      else{
   1708                        currentDataPoint.valuepayload[0] = 0x20;
   \                     ??gizwitsHandle_33:
   \   00047D   90....       MOV     DPTR,#currentDataPoint
   \   000480   7420         MOV     A,#0x20
   \   000482   F0           MOVX    @DPTR,A
   1709                        currentDataPoint.valuepayload[1] = 1;
   \   000483   A3           INC     DPTR
   \   000484   7401         MOV     A,#0x1
   \                     ??gizwitsHandle_35:
   \   000486   F0           MOVX    @DPTR,A
   1710                      }
   1711                      AutoUpateMac = 0;
   \   000487   90....       MOV     DPTR,#AutoUpateMac
   \   00048A   E4           CLR     A
   \   00048B   8075         SJMP    ??gizwitsHandle_36
   1712                    }
   1713                    else if(NewMacUpate){
   \                     ??gizwitsHandle_30:
   \   00048D   90....       MOV     DPTR,#NewMacUpate
   \   000490   E0           MOVX    A,@DPTR
   \   000491   6070         JZ      ??gizwitsHandle_22
   1714                      updatenodeptr = nodelist;
   \   000493   90....       MOV     DPTR,#nodelist
   \   000496   12....       LCALL   ?Subroutine42 & 0xFFFF
   \                     ??CrossCallReturnLabel_67:
   \   000499   12....       LCALL   ??Subroutine80_0 & 0xFFFF
   1715                      for(i=0;updatenodeptr && i<2;updatenodeptr = updatenodeptr->next){
   \                     ??CrossCallReturnLabel_210:
   \   00049C   7E00         MOV     R6,#0x0
   \   00049E   7F00         MOV     R7,#0x0
   \   0004A0   804B         SJMP    ??CrossCallReturnLabel_211
   \                     ??gizwitsHandle_37:
   \   0004A2   C3           CLR     C
   \   0004A3   EE           MOV     A,R6
   \   0004A4   9402         SUBB    A,#0x2
   \   0004A6   EF           MOV     A,R7
   \   0004A7   9400         SUBB    A,#0x0
   \   0004A9   504F         JNC     ??gizwitsHandle_38
   1716                        if(updatenodeptr->element){
   \   0004AB   E0           MOVX    A,@DPTR
   \   0004AC   F583         MOV     DPH,A
   \   0004AE   8882         MOV     DPL,R0
   \   0004B0   E0           MOVX    A,@DPTR
   \   0004B1   602E         JZ      ??CrossCallReturnLabel_105
   1717                          updatenodeptr->element = 0;
   \   0004B3   90....       MOV     DPTR,#??updatenodeptr + 1
   \   0004B6   E0           MOVX    A,@DPTR
   \   0004B7   F583         MOV     DPH,A
   \   0004B9   8882         MOV     DPL,R0
   \   0004BB   E4           CLR     A
   \   0004BC   F0           MOVX    @DPTR,A
   1718                          osal_memcpy((uint8 *)&currentDataPoint.valuepayload[3+8*i],(uint8 *)&updatenodeptr->extaddr, 8);
   \   0004BD                ; Setup parameters for call to function osal_memcpy
   \   0004BD   90....       MOV     DPTR,#??updatenodeptr
   \   0004C0   12....       LCALL   ?Subroutine24 & 0xFFFF
   \                     ??CrossCallReturnLabel_29:
   \   0004C3   12....       LCALL   ?PUSH_XSTACK_I_THREE
   \   0004C6   7C08         MOV     R4,#0x8
   \   0004C8   7D00         MOV     R5,#0x0
   \   0004CA   8E..         MOV     ?V0 + 0,R6
   \   0004CC   8F..         MOV     ?V0 + 1,R7
   \   0004CE   7403         MOV     A,#0x3
   \   0004D0   78..         MOV     R0,#?V0 + 0
   \   0004D2   12....       LCALL   ?S_SHL
   \   0004D5   12....       LCALL   ?Subroutine49 & 0xFFFF
   \                     ??CrossCallReturnLabel_80:
   \   0004D8   12....       LCALL   ??Subroutine68_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_131:
   \   0004DB   12....       LCALL   ?DEALLOC_XSTACK8
   1719                          i++;
   \   0004DE   12....       LCALL   ?Subroutine65 & 0xFFFF
   1720                        }
   1721          
   1722                      }
   \                     ??CrossCallReturnLabel_105:
   \   0004E1   90....       MOV     DPTR,#??updatenodeptr
   \   0004E4   12....       LCALL   ?Subroutine32 & 0xFFFF
   \                     ??CrossCallReturnLabel_47:
   \   0004E7   12....       LCALL   ?Subroutine42 & 0xFFFF
   \                     ??CrossCallReturnLabel_68:
   \   0004EA   12....       LCALL   ??Subroutine80_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_211:
   \   0004ED   90....       MOV     DPTR,#??updatenodeptr
   \   0004F0   12....       LCALL   ??Subroutine79_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_198:
   \   0004F3   70AD         JNZ     ??gizwitsHandle_37
   1723                      if(updatenodeptr==NULL){
   1724                        NewMacUpate = 0;
   \   0004F5   90....       MOV     DPTR,#NewMacUpate
   \   0004F8   E4           CLR     A
   \   0004F9   F0           MOVX    @DPTR,A
   1725                      }
   1726                      currentDataPoint.valuepayload[0] = 0x10;
   \                     ??gizwitsHandle_38:
   \   0004FA   90....       MOV     DPTR,#currentDataPoint
   \   0004FD   7410         MOV     A,#0x10
   \   0004FF   F0           MOVX    @DPTR,A
   1727                      currentDataPoint.valuepayload[1] = i;
   \   000500   EE           MOV     A,R6
   \   000501   A3           INC     DPTR
   \                     ??gizwitsHandle_36:
   \   000502   F0           MOVX    @DPTR,A
   1728                    }
   1729                      break;
   1730              }
   1731          
   1732              gizDevReportPolicy(currentData);
   \                     ??gizwitsHandle_22:
   \   000503                ; Setup parameters for call to function gizDevReportPolicy
   \   000503   AA..         MOV     R2,?V0 + 2
   \   000505   AB..         MOV     R3,?V0 + 3
   \   000507   12....       LCALL   ??gizDevReportPolicy?relay
   1733          
   1734              return 0;
   \   00050A   7A00         MOV     R2,#0x0
   \   00050C   7B00         MOV     R3,#0x0
   \   00050E   7C00         MOV     R4,#0x0
   \   000510   7D00         MOV     R5,#0x0
   \                     ??gizwitsHandle_2:
   \   000512   7454         MOV     A,#0x54
   \   000514   02....       LJMP    ?Subroutine0 & 0xFFFF
   1735          }

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine55:
   \   000000   7A..         MOV     R2,#(gizwitsProtocol + 114) & 0xff
   \   000002   7B..         MOV     R3,#((gizwitsProtocol + 114) >> 8) & 0xff
   \   000004                REQUIRE ??Subroutine76_0
   \   000004                ; // Fall through to label ??Subroutine76_0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ??Subroutine76_0:
   \   000000   12....       LCALL   ??gizwitsEventProcess?relay
   \   000003   7404         MOV     A,#0x4
   \   000005   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine49:
   \   000000   74..         MOV     A,#(currentDataPoint + 3) & 0xff
   \   000002   25..         ADD     A,?V0 + 0
   \   000004   FA           MOV     R2,A
   \   000005   74..         MOV     A,#((currentDataPoint + 3) >> 8) & 0xff
   \   000007   35..         ADDC    A,?V0 + 1
   \   000009   FB           MOV     R3,A
   \   00000A   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine45:
   \   000000   12....       LCALL   ?Subroutine64 & 0xFFFF
   \                     ??CrossCallReturnLabel_102:
   \   000003   12....       LCALL   ?Subroutine65 & 0xFFFF
   \                     ??CrossCallReturnLabel_106:
   \   000006   C3           CLR     C
   \   000007   EE           MOV     A,R6
   \   000008   9408         SUBB    A,#0x8
   \   00000A   EF           MOV     A,R7
   \   00000B   9400         SUBB    A,#0x0
   \   00000D   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine65:
   \   000000   EE           MOV     A,R6
   \   000001   2401         ADD     A,#0x1
   \   000003   0E           INC     R6
   \   000004   EF           MOV     A,R7
   \   000005   3400         ADDC    A,#0x0
   \   000007   FF           MOV     R7,A
   \   000008   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine42:
   \   000000   12....       LCALL   ??Subroutine77_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_204:
   \   000003   90....       MOV     DPTR,#??updatenodeptr
   \   000006   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine36:
   \   000000   90....       MOV     DPTR,#deletnodelist
   \   000003   E0           MOVX    A,@DPTR
   \   000004   2401         ADD     A,#0x1
   \   000006   F5..         MOV     ?V0 + 4,A
   \   000008   A3           INC     DPTR
   \   000009   E0           MOVX    A,@DPTR
   \   00000A   3400         ADDC    A,#0x0
   \   00000C   F5..         MOV     ?V0 + 5,A
   \   00000E   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine32:
   \   000000   12....       LCALL   ?Subroutine62 & 0xFFFF
   \                     ??CrossCallReturnLabel_99:
   \   000003   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine62:
   \   000000   E0           MOVX    A,@DPTR
   \   000001   240E         ADD     A,#0xe
   \   000003   F8           MOV     R0,A
   \   000004   A3           INC     DPTR
   \   000005   E0           MOVX    A,@DPTR
   \   000006   3400         ADDC    A,#0x0
   \   000008   F9           MOV     R1,A
   \   000009   8882         MOV     DPL,R0
   \   00000B   8983         MOV     DPH,R1
   \   00000D   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine29:
   \   000000   12....       LCALL   ?Subroutine64 & 0xFFFF
   \                     ??CrossCallReturnLabel_103:
   \   000003                ; Setup parameters for call to function HalUARTWrite
   \   000003                ; Setup parameters for call to function HalUARTWrite
   \   000003   12....       LCALL   ?Subroutine63 & 0xFFFF
   \                     ??CrossCallReturnLabel_101:
   \   000006   540F         ANL     A,#0xf
   \   000008   F8           MOV     R0,A
   \   000009   7406         MOV     A,#0x6
   \   00000B   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine64:
   \   000000   E582         MOV     A,DPL
   \   000002   28           ADD     A,R0
   \   000003   FA           MOV     R2,A
   \   000004   E583         MOV     A,DPH
   \   000006   3400         ADDC    A,#0x0
   \   000008   FB           MOV     R3,A
   \   000009   7900         MOV     R1,#0x0
   \   00000B   12....       LCALL   ??HalUARTWrite?relay
   \   00000E   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine27:
   \   000000   7C02         MOV     R4,#0x2
   \   000002   7D00         MOV     R5,#0x0
   \   000004   7A..         MOV     R2,#`?<Constant "\\r\\n">` & 0xff
   \   000006   7B..         MOV     R3,#(`?<Constant "\\r\\n">` >> 8) & 0xff
   \   000008   7900         MOV     R1,#0x0
   \   00000A   12....       LCALL   ??HalUARTWrite?relay
   \   00000D                ; Setup parameters for call to function osal_mem_free
   \   00000D                ; Setup parameters for call to function osal_mem_free
   \   00000D   90....       MOV     DPTR,#deletnodelist
   \   000010   12....       LCALL   ??Subroutine78_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_188:
   \   000013   12....       LCALL   ??osal_mem_free?relay
   \   000016   90....       MOV     DPTR,#deletnodelist
   \   000019   E5..         MOV     A,?V0 + 0
   \   00001B   F0           MOVX    @DPTR,A
   \   00001C   A3           INC     DPTR
   \   00001D   E5..         MOV     A,?V0 + 1
   \   00001F   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine26:
   \   000000   E0           MOVX    A,@DPTR
   \   000001   F5..         MOV     ?V0 + 0,A
   \   000003   A3           INC     DPTR
   \   000004   E0           MOVX    A,@DPTR
   \   000005   85....       MOV     ?V0 + 4,?V0 + 0
   \   000008   F5..         MOV     ?V0 + 5,A
   \   00000A   E4           CLR     A
   \   00000B   F5..         MOV     ?V0 + 6,A
   \   00000D   F5..         MOV     ?V0 + 7,A
   \   00000F   78..         MOV     R0,#?V0 + 4
   \   000011   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine25:
   \   000000   12....       LCALL   ?Subroutine63 & 0xFFFF
   \                     ??CrossCallReturnLabel_100:
   \   000003   C4           SWAP    A
   \   000004   540F         ANL     A,#0xf
   \   000006   F8           MOV     R0,A
   \   000007   7406         MOV     A,#0x6
   \   000009   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine63:
   \   000000   7C01         MOV     R4,#0x1
   \   000002   7D00         MOV     R5,#0x0
   \   000004   90....       MOV     DPTR,#deletnodelist
   \   000007   E0           MOVX    A,@DPTR
   \   000008   2E           ADD     A,R6
   \   000009   F8           MOV     R0,A
   \   00000A   A3           INC     DPTR
   \   00000B   E0           MOVX    A,@DPTR
   \   00000C   3F           ADDC    A,R7
   \   00000D   8882         MOV     DPL,R0
   \   00000F   F583         MOV     DPH,A
   \   000011   A3           INC     DPTR
   \   000012   E0           MOVX    A,@DPTR
   \   000013   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine24:
   \   000000   E0           MOVX    A,@DPTR
   \   000001   2401         ADD     A,#0x1
   \   000003   F5..         MOV     ?V0 + 0,A
   \   000005   A3           INC     DPTR
   \   000006   E0           MOVX    A,@DPTR
   \   000007   3400         ADDC    A,#0x0
   \   000009   85....       MOV     ?V0 + 4,?V0 + 0
   \   00000C   F5..         MOV     ?V0 + 5,A
   \   00000E   75..00       MOV     ?V0 + 6,#0x0
   \   000011   78..         MOV     R0,#?V0 + 4
   \   000013   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine23:
   \   000000   90....       MOV     DPTR,#deletnodelist
   \   000003   12....       LCALL   ?Subroutine62 & 0xFFFF
   \                     ??CrossCallReturnLabel_98:
   \   000006   12....       LCALL   ?Subroutine58 & 0xFFFF
   \                     ??CrossCallReturnLabel_95:
   \   000009   22           RET

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine22:
   \   000000   90....       MOV     DPTR,#??nodeptr
   \   000003                REQUIRE ??Subroutine79_0
   \   000003                ; // Fall through to label ??Subroutine79_0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine20:
   \   000000   12....       LCALL   ??Subroutine77_0 & 0xFFFF
   \                     ??CrossCallReturnLabel_202:
   \   000003   90....       MOV     DPTR,#??nodeptr
   \   000006                REQUIRE ??Subroutine80_0
   \   000006                ; // Fall through to label ??Subroutine80_0

   \                                 In  segment XDATA_Z, align 1, keep-with-next
   \                     ??nodeptr:
   \   000000                DS 2
   \   000002                REQUIRE __INIT_XDATA_Z

   \                                 In  segment XDATA_Z, align 1, keep-with-next
   \                     ??updatenodeptr:
   \   000000                DS 2
   \   000002                REQUIRE __INIT_XDATA_Z
   1736          
   1737          /**
   1738          * @brief gizwits‰∏äÊä•ÈÄè‰º†Êï∞ÊçÆÊé•Âè£
   1739          
   1740          * Áî®Êà∑Ë∞ÉÁî®ËØ•Êé•Âè£ÂèØ‰ª•ÂÆåÊàêÁßÅÊúâÂçèËÆÆÊï∞ÊçÆÁöÑ‰∏äÊä•
   1741          
   1742          * @param [in] data ËæìÂÖ•ÁöÑÁßÅÊúâÂçèËÆÆÊï∞Êç?* @param [in] len ËæìÂÖ•ÁöÑÁßÅÊúâÂçèËÆÆÊï∞ÊçÆÈïøÂ∫?* @return -1 , ÈîôËØØËøîÂõû;0,Ê≠£Á°ÆËøîÂõû
   1743          */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   1744          int32 gizwitsPassthroughData(uint8 * data, uint32 len)
   \                     gizwitsPassthroughData:
   1745          {
   \   000000   74F0         MOV     A,#-0x10
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 16
   \   000005                ; Auto size: 31
   \   000005   74E1         MOV     A,#-0x1f
   \   000007   12....       LCALL   ?ALLOC_XSTACK8
   \   00000A   742F         MOV     A,#0x2f
   \   00000C   12....       LCALL   ?XSTACK_DISP0_8
   \   00000F   78..         MOV     R0,#?V0 + 4
   \   000011   12....       LCALL   ?L_MOV_X
   1746          	int32 ret = 0;
   1747          	uint8 tx_buf[MAX_PACKAGE_LEN];
   1748              if(NULL == data)
   \   000014   EA           MOV     A,R2
   \   000015   4B           ORL     A,R3
   \   000016   700B         JNZ     ??gizwitsPassthroughData_0
   1749              {
   1750                  GIZWITS_LOG("[Error] gizwitsPassthroughData Error \n");
   1751                  return (-1);
   \   000018   7AFF         MOV     R2,#-0x1
   \   00001A   7BFF         MOV     R3,#-0x1
   \   00001C   7CFF         MOV     R4,#-0x1
   \   00001E   7DFF         MOV     R5,#-0x1
   \   000020   02....       LJMP    ??gizwitsPassthroughData_1 & 0xFFFF
   1752              }
   1753          	uint8 *pTxBuf = tx_buf;
   1754          	uint16 data_len = 6+len;
   \                     ??gizwitsPassthroughData_0:
   \   000023   85....       MOV     ?V0 + 0,?V0 + 4
   \   000026   85....       MOV     ?V0 + 1,?V0 + 5
   \   000029   E5..         MOV     A,?V0 + 0
   \   00002B   2406         ADD     A,#0x6
   \   00002D   FE           MOV     R6,A
   \   00002E   E5..         MOV     A,?V0 + 1
   \   000030   12....       LCALL   ?Subroutine46 & 0xFFFF
   1755          	*pTxBuf ++= 0xFF;
   1756          	*pTxBuf ++= 0xFF;
   \                     ??CrossCallReturnLabel_74:
   \   000033   12....       LCALL   ?XSTACK_DISP0_8
   \   000036   74FF         MOV     A,#-0x1
   \   000038   F0           MOVX    @DPTR,A
   1757          	*pTxBuf ++= (uint8)(data_len>>8);//len
   \   000039   7402         MOV     A,#0x2
   \   00003B   12....       LCALL   ?XSTACK_DISP0_8
   \   00003E   EF           MOV     A,R7
   \   00003F   F0           MOVX    @DPTR,A
   1758          	*pTxBuf ++= (uint8)(data_len);
   \   000040   7403         MOV     A,#0x3
   \   000042   12....       LCALL   ?XSTACK_DISP0_8
   \   000045   EE           MOV     A,R6
   \   000046   F0           MOVX    @DPTR,A
   1759          	*pTxBuf ++= CMD_REPORT_P0;//0x1b cmd
   \   000047   7404         MOV     A,#0x4
   \   000049   12....       LCALL   ?XSTACK_DISP0_8
   \   00004C   7405         MOV     A,#0x5
   \   00004E   12....       LCALL   ?Subroutine18 & 0xFFFF
   1760          	*pTxBuf ++= gizwitsProtocol.sn++;//sn
   \                     ??CrossCallReturnLabel_22:
   \   000051   12....       LCALL   ?L_MOV_X
   \   000054   7405         MOV     A,#0x5
   \   000056   12....       LCALL   ?XSTACK_DISP0_8
   \   000059   12....       LCALL   ?Subroutine19 & 0xFFFF
   \                     ??CrossCallReturnLabel_25:
   \   00005C   12....       LCALL   ?L_MOV_X
   \   00005F   90....       MOV     DPTR,#gizwitsProtocol + 67
   \   000062   78..         MOV     R0,#?V0 + 0
   \   000064   12....       LCALL   ?L_ADD_TO_X
   1761          	*pTxBuf ++= 0x00;//flag
   \   000067   7406         MOV     A,#0x6
   \   000069   12....       LCALL   ?XSTACK_DISP0_8
   \   00006C   E4           CLR     A
   \   00006D   F0           MOVX    @DPTR,A
   1762          	*pTxBuf ++= 0x00;//flag
   \   00006E   7407         MOV     A,#0x7
   \   000070   12....       LCALL   ?XSTACK_DISP0_8
   \   000073   E4           CLR     A
   \   000074   F0           MOVX    @DPTR,A
   1763          	*pTxBuf ++= ACTION_D2W_TRANSPARENT_DATA;//P0_Cmd
   \   000075   7408         MOV     A,#0x8
   \   000077   12....       LCALL   ?XSTACK_DISP0_8
   \   00007A   7406         MOV     A,#0x6
   \   00007C   F0           MOVX    @DPTR,A
   1764          
   1765              osal_memcpy(&tx_buf[9],data,len);
   \   00007D                ; Setup parameters for call to function osal_memcpy
   \   00007D   8A..         MOV     ?V0 + 0,R2
   \   00007F   8B..         MOV     ?V0 + 1,R3
   \   000081   75..00       MOV     ?V0 + 2,#0x0
   \   000084   78..         MOV     R0,#?V0 + 0
   \   000086   12....       LCALL   ?PUSH_XSTACK_I_THREE
   \   000089   AC..         MOV     R4,?V0 + 4
   \   00008B   AD..         MOV     R5,?V0 + 5
   \   00008D   740C         MOV     A,#0xc
   \   00008F   12....       LCALL   ?XSTACK_DISP0_8
   \   000092   12....       LCALL   ?Subroutine44 & 0xFFFF
   \                     ??CrossCallReturnLabel_118:
   \   000095   12....       LCALL   ?DEALLOC_XSTACK8
   \   000098   12....       LCALL   ?Subroutine52 & 0xFFFF
   \                     ??CrossCallReturnLabel_82:
   \   00009B   F5..         MOV     ?V0 + 3,A
   \   00009D                ; Setup parameters for call to function gizProtocolSum
   \   00009D   78..         MOV     R0,#?V0 + 0
   \   00009F   12....       LCALL   ?PUSH_XSTACK_I_FOUR
   \   0000A2   7404         MOV     A,#0x4
   \   0000A4   12....       LCALL   ?XSTACK_DISP0_8
   \   0000A7   12....       LCALL   ?Subroutine50 & 0xFFFF
   \                     ??CrossCallReturnLabel_161:
   \   0000AA   12....       LCALL   ?DEALLOC_XSTACK8
   \   0000AD   12....       LCALL   ?Subroutine47 & 0xFFFF
   1766              tx_buf[data_len + 4 - 1 ] = gizProtocolSum( tx_buf , (data_len+4));
   1767              
   1768          	ret = uartWrite(tx_buf, data_len+4);
   \                     ??CrossCallReturnLabel_76:
   \   0000B0   12....       LCALL   ?PUSH_XSTACK_I_FOUR
   \   0000B3   7404         MOV     A,#0x4
   \   0000B5   12....       LCALL   ?XSTACK_DISP0_8
   \   0000B8   12....       LCALL   ?Subroutine51 & 0xFFFF
   \                     ??CrossCallReturnLabel_153:
   \   0000BB   12....       LCALL   ?DEALLOC_XSTACK8
   1769              if(ret < 0)
   1770              {
   1771                  //ÊâìÂç∞Êó•Âøó
   1772                  GIZWITS_LOG("ERROR: uart write error %d \n", ret);
   1773              }
   1774          
   1775              gizProtocolWaitAck(tx_buf, data_len+4);
   \   0000BE                ; Setup parameters for call to function gizProtocolWaitAck
   \   0000BE   78..         MOV     R0,#?V0 + 0
   \   0000C0   12....       LCALL   ?PUSH_XSTACK_I_FOUR
   \   0000C3   7404         MOV     A,#0x4
   \   0000C5   12....       LCALL   ?XSTACK_DISP0_8
   \   0000C8   AA82         MOV     R2,DPL
   \   0000CA   AB83         MOV     R3,DPH
   \   0000CC   12....       LCALL   ??gizProtocolWaitAck?relay
   \   0000CF   7404         MOV     A,#0x4
   \   0000D1   12....       LCALL   ?DEALLOC_XSTACK8
   1776          
   1777              return 0;
   \   0000D4   7A00         MOV     R2,#0x0
   \   0000D6   7B00         MOV     R3,#0x0
   \   0000D8   7C00         MOV     R4,#0x0
   \   0000DA   7D00         MOV     R5,#0x0
   \                     ??gizwitsPassthroughData_1:
   \   0000DC   741F         MOV     A,#0x1f
   \   0000DE   02....       LJMP    ?Subroutine1 & 0xFFFF
   1778          }

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine48:
   \   000000   12....       LCALL   ??gizGetTimerCount?relay
   \   000003   8A..         MOV     ?V0 + 4,R2
   \   000005   8B..         MOV     ?V0 + 5,R3
   \   000007   8C..         MOV     ?V0 + 6,R4
   \   000009   8D..         MOV     ?V0 + 7,R5
   \   00000B   22           RET

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??rbCapacity?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    rbCapacity

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??rbCanRead?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    rbCanRead

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??rbCanWrite?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    rbCanWrite

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??rbRead?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    rbRead

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??rbWrite?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    rbWrite

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??gizPutData?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    gizPutData

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??gizProtocolSum?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    gizProtocolSum

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??gizProtocolExchangeBytes?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    gizProtocolExchangeBytes

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??gizProtocolHeadInit?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    gizProtocolHeadInit

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??gizProtocolWaitAck?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    gizProtocolWaitAck

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??calculateDynamicBitPartLen?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    calculateDynamicBitPartLen

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??gizDataPoint2Event?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    gizDataPoint2Event

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??gizCheckReport?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    gizCheckReport

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??gizDataPoints2ReportData?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    gizDataPoints2ReportData

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??gizProtocolIssuedProcess?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    gizProtocolIssuedProcess

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??gizProtocolIssuedDataAck?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    gizProtocolIssuedDataAck

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??gizReportData?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    gizReportData

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??gizDevReportPolicy?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    gizDevReportPolicy

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??gizProtocolGetOnePacket?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    gizProtocolGetOnePacket

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??gizProtocolWaitAckCheck?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    gizProtocolWaitAckCheck

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??gizProtocolCommonAck?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    gizProtocolCommonAck

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??gizProtocolGetDeviceInfo?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    gizProtocolGetDeviceInfo

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??gizProtocolErrorCmd?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    gizProtocolErrorCmd

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??gizProtocolModuleStatus?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    gizProtocolModuleStatus

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??gizwitsInit?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    gizwitsInit

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??gizwitsSetMode?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    gizwitsSetMode

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??gizwitsGetNTP?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    gizwitsGetNTP

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??gizwitsHandle?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    gizwitsHandle

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??gizwitsPassthroughData?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    gizwitsPassthroughData

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "00000004">`:
   \   000000   30303030     DB "00000004"
   \            30303034
   \            00      

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "00000002">`:
   \   000000   30303030     DB "00000002"
   \            30303032
   \            00      

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "03010101">`:
   \   000000   30333031     DB "03010101"
   \            30313031
   \            00      

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "03010100">`:
   \   000000   30333031     DB "03010100"
   \            30313030
   \            00      

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "9a2f863df7f54635b4840...">`:
   \   000000   39613266     DB "9a2f863df7f54635b48401d832acd05a"
   \            38363364
   \            66376635
   \            34363335
   \            62343834
   \            30316438
   \            33326163
   \            64303561
   \            00      

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "f06b9b5a07b74a12b2f42...">`:
   \   000000   66303662     DB "f06b9b5a07b74a12b2f424e60bca73e8"
   \            39623561
   \            30376237
   \            34613132
   \            62326634
   \            32346536
   \            30626361
   \            37336538
   \            00      

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant {48, 49, 50, 51, 52, 53, 54, 55, 56`:
   \   000000   30           DB 48
   \   000001   31           DB 49
   \   000002   32           DB 50
   \   000003   33           DB 51
   \   000004   34           DB 52
   \   000005   35           DB 53
   \   000006   36           DB 54
   \   000007   37           DB 55
   \   000008   38           DB 56
   \   000009   39           DB 57
   \   00000A   41           DB 65
   \   00000B   42           DB 66
   \   00000C   43           DB 67
   \   00000D   44           DB 68
   \   00000E   45           DB 69
   \   00000F   46           DB 70

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "\\nD:">`:
   \   000000   0A443A00     DB "\012D:"

   \                                 In  segment XDATA_ROM_C, align 1
   \                     `?<Constant "\\r\\n">`:
   \   000000   0D0A00       DB "\015\012"

   \                                 In  segment XDATA_ROM_C, align 1
   \                     __Constant_2:
   \   000000   02000000     DD 2

   \                                 In  segment XDATA_ROM_C, align 1
   \                     __Constant_1:
   \   000000   01000000     DD 1

   \                                 In  segment XDATA_ROM_C, align 1
   \                     __Constant_ffffffff:
   \   000000   FFFFFFFF     DD 4294967295

   \                                 In  segment XDATA_ROM_C, align 1
   \                     __Constant_15:
   \   000000   15000000     DD 21

   \                                 In  segment XDATA_ROM_C, align 1
   \                     __Constant_0:
   \   000000   00000000     DD 0

   \                                 In  segment XDATA_ROM_C, align 1
   \                     __Constant_fffffff6:
   \   000000   F6FFFFFF     DD 4294967286

   \                                 In  segment XDATA_ROM_C, align 1
   \                     __Constant_927c0:
   \   000000   C0270900     DD 600000

   \                                 In  segment XDATA_ROM_C, align 1
   \                     __Constant_9:
   \   000000   09000000     DD 9

   \                                 In  segment XDATA_ROM_C, align 1
   \                     __Constant_73:
   \   000000   73000000     DD 115

   \                                 In  segment XDATA_ROM_C, align 1
   \                     __Constant_a:
   \   000000   0A000000     DD 10

   \                                 In  segment XDATA_ROM_C, align 1
   \                     __Constant_7d1:
   \   000000   D1070000     DD 2001

   \                                 In  segment XDATA_ROM_C, align 1
   \                     __Constant_14:
   \   000000   14000000     DD 20

   \                                 In  segment XDATA_ROM_C, align 1
   \                     __Constant_259:
   \   000000   59020000     DD 601

   \                                 In  segment XDATA_ROM_C, align 1
   \                     __Constant_ff00:
   \   000000   00FF0000     DD 65280

   \                                 In  segment XDATA_ROM_C, align 1
   \                     __Constant_b:
   \   000000   0B000000     DD 11
   1779          /**@} */

   Maximum stack usage in bytes:

     Function                      ISTACK PSTACK XSTACK
     --------                      ------ ------ ------
     calculateDynamicBitPartLen        0      0      0
     gizCheckReport                    0      0     34
       -> osal_memcmp                  0      0     36
     gizDataPoint2Event                0      0     58
       -> osal_memset                  0      0     72
       -> osal_memcpy                  0      0     78
       -> osal_memcpy                  0      0     78
     gizDataPoints2ReportData          0      0     59
       -> osal_memset                  0      0     74
       -> osal_memcpy                  0      0     80
       -> osal_memcpy                  0      0     80
       -> osal_memset                  0      0     74
       -> osal_memcpy                  0      0     80
     gizDevReportPolicy                0      0    128
       -> gizCheckReport               0      0     32
       -> gizDataPoints2ReportData     0      0     36
       -> gizReportData                0      0     40
       -> osal_memcpy                  0      0     38
       -> gizGetTimerCount             0      0     32
       -> osal_memset                  0      0     32
       -> gizDataPoints2ReportData     0      0     36
       -> gizReportData                0      0     40
       -> osal_memcpy                  0      0     38
     gizProtocolCommonAck              1      0    132
       -> osal_memcpy                  0      0     46
       -> gizProtocolExchangeBytes     0      0     40
       -> gizProtocolSum               0      0     48
       -> uartWrite                    0      0     48
     gizProtocolErrorCmd               1      0    131
       -> gizProtocolHeadInit          0      0     38
       -> gizProtocolExchangeBytes     0      0     38
       -> gizProtocolSum               0      0     46
       -> uartWrite                    0      0     46
     gizProtocolExchangeBytes          3      0    130
     gizProtocolGetDeviceInfo          1      0    238
       -> gizProtocolHeadInit          0      0    252
       -> osal_memcpy                  0      0    258
       -> osal_memcpy                  0      0    258
       -> osal_memcpy                  0      0    258
       -> osal_memcpy                  0      0    258
       -> osal_memcpy                  0      0    258
       -> osal_memcpy                  0      0    258
       -> osal_memset                  0      0    252
       -> gizProtocolExchangeBytes     0      0    252
       -> gizProtocolExchangeBytes     0      0    252
       -> gizProtocolSum               0      0    260
       -> uartWrite                    0      0    260
     gizProtocolGetOnePacket           1      0    135
       -> rbCanRead                    0      0     42
       -> rbRead                       0      0     46
       -> gizProtocolExchangeBytes     0      0     42
       -> gizProtocolSum               0      0     50
       -> osal_memcpy                  0      0     48
     gizProtocolHeadInit               0      0    135
       -> osal_memset                  0      0     18
     gizProtocolIssuedDataAck          1      0    162
       -> osal_memcpy                  0      0     98
       -> gizProtocolSum               0      0    100
       -> uartWrite                    0      0    100
     gizProtocolIssuedProcess          0      0    134
       -> osal_memset                  0      0     34
       -> gizDataPoint2Event           0      0     38
       -> osal_memcpy                  0      0     40
       -> gizDataPoints2ReportData     0      0     38
       -> osal_memcpy                  0      0     40
       -> osal_memcpy                  0      0     40
     gizProtocolModuleStatus           0      0    120
       -> gizProtocolExchangeBytes     0      0     24
       -> HalLedBlink                  0      0     24
       -> HalLedBlink                  0      0     24
       -> HalLedBlink                  0      0     24
       -> HalLedBlink                  0      0     24
     gizProtocolSum                    0      0    150
     gizProtocolWaitAck                0      0     79
       -> osal_memset                  0      0     32
       -> osal_memcpy                  0      0     38
       -> gizGetTimerCount             0      0     32
     gizProtocolWaitAckCheck           2      0    108
       -> osal_memset                  4      0      0
     gizPutData                        0      0     22
       -> rbWrite                      0      0     36
     gizReportData                     1      0     80
       -> osal_memcpy                  0      0    118
       -> gizProtocolSum               0      0    120
       -> uartWrite                    0      0    120
       -> gizProtocolWaitAck           0      0    120
     gizwitsGetNTP                     1      0     25
       -> gizProtocolHeadInit          0      0     42
       -> gizProtocolExchangeBytes     0      0     42
       -> gizProtocolSum               0      0     50
       -> uartWrite                    0      0     50
       -> gizProtocolWaitAck           0      0     50
     gizwitsHandle                     2      0    114
       -> gizGetTimerCount             0      0    216
       -> uartWrite                    0      0    224
       -> gizGetTimerCount             0      0    216
       -> osal_memset                  0      0    216
       -> gizProtocolGetOnePacket      0      0    220
       -> gizProtocolGetDeviceInfo     0      0    216
       -> gizwitsEventProcess          0      0    224
       -> osal_memset                  0      0    216
       -> gizProtocolIssuedProcess     0      0    228
       -> gizProtocolIssuedDataAck     0      0    224
       -> gizProtocolCommonAck         0      0    216
       -> gizProtocolCommonAck         0      0    216
       -> gizProtocolModuleStatus      0      0    216
       -> gizProtocolWaitAckCheck      0      0    216
       -> gizProtocolCommonAck         0      0    216
       -> gizGetTimerCount             0      0    216
       -> gizGetTimerCount             0      0    216
       -> mcuRestart                   0      0    216
       -> gizProtocolWaitAckCheck      0      0    216
       -> osal_memcpy                  0      0    222
       -> gizProtocolExchangeBytes     0      0    216
       -> gizwitsEventProcess          0      0    224
       -> osal_memset                  0      0    216
       -> gizProtocolErrorCmd          0      0    216
       -> gizProtocolErrorCmd          0      0    216
       -> gizwitsEventProcess          0      0    224
       -> osal_memset                  0      0    216
       -> gizwitsEventProcess          0      0    224
       -> osal_memcpy                  0      0    222
       -> osal_memcpy                  0      0    222
       -> HalUARTWrite                 0      0    216
       -> HalUARTWrite                 0      0    216
       -> HalUARTWrite                 0      0    216
       -> HalUARTWrite                 0      0    216
       -> osal_mem_free                0      0    216
       -> osal_memcpy                  0      0    222
       -> HalUARTWrite                 0      0    216
       -> HalUARTWrite                 0      0    216
       -> HalUARTWrite                 0      0    216
       -> HalUARTWrite                 0      0    216
       -> osal_mem_free                0      0    216
       -> osal_memcpy                  0      0    222
       -> gizDevReportPolicy           0      0    216
     gizwitsInit                       2      0      0
       -> osal_memset                  4      0      0
     gizwitsPassthroughData            1      0     55
       -> osal_memcpy                  0      0    100
       -> gizProtocolSum               0      0    102
       -> uartWrite                    0      0    102
       -> gizProtocolWaitAck           0      0    102
     gizwitsSetMode                    1      0     26
       -> gizProtocolHeadInit          0      0     44
       -> gizProtocolExchangeBytes     0      0     44
       -> gizProtocolSum               0      0     52
       -> uartWrite                    0      0     52
       -> gizProtocolWaitAck           0      0     52
     rbCanRead                         2      0     44
       -> rbCapacity                   0      0     32
     rbCanWrite                        0      0     38
       -> rbCapacity                   0      0     32
       -> rbCanRead                    0      0     32
     rbCapacity                        0      0     38
     rbRead                            2      0     61
       -> rbCanRead                    0      0     56
       -> rbCanRead                    0      0     56
       -> osal_memcpy                  0      0     62
       -> rbCapacity                   0      0     56
       -> osal_memcpy                  0      0     62
       -> rbCapacity                   0      0     56
       -> osal_memcpy                  0      0     62
       -> rbRead                       0      0     60
     rbWrite                           2      0     49
       -> rbCanWrite                   0      0     44
       -> rbCapacity                   0      0     44
       -> osal_memcpy                  0      0     50
       -> rbCapacity                   4      0     44
       -> osal_memcpy                  0      0     50
       -> rbWrite                      0      0     48
       -> osal_memcpy                  0      0     50


   Segment part sizes:

     Function/Label                                 Bytes
     --------------                                 -----
     gizwitsProtocol                                 246
     pRb                                               8
     rbBuf                                            62
     rbCapacity                                       44
     rbCanRead                                       222
     rbCanWrite                                       73
     rbRead                                          435
     ?Subroutine0                                      8
     ?Subroutine40                                     7
     ?Subroutine39                                     7
     ?Subroutine38                                     9
     ?Subroutine37                                    17
     ?Subroutine28                                    24
     ?Subroutine11                                     1
     ??Subroutine70_0                                  5
     ?Subroutine60                                     4
     ??Subroutine77_0                                  6
     ?Subroutine59                                     6
     ??Subroutine78_0                                  6
     ?Subroutine58                                     8
     ??Subroutine79_0                                  6
     ??Subroutine80_0                                  6
     rbWrite                                         621
     gizPutData                                       75
     ??Subroutine67_0                                  5
     gizProtocolSum                                  103
     ?Subroutine2                                      5
     gizProtocolExchangeBytes                         48
     ?Subroutine3                                      7
     gizProtocolHeadInit                              37
     ?Subroutine4                                      5
     gizProtocolWaitAck                              102
     ??Subroutine68_0                                  6
     calculateDynamicBitPartLen                       11
     gizDataPoint2Event                              173
     ?Subroutine5                                      8
     ?Subroutine44                                     4
     gizCheckReport                                   88
     ?Subroutine1                                      3
     gizDataPoints2ReportData                        217
     gizProtocolIssuedProcess                        358
     gizProtocolIssuedDataAck                        275
     ?Subroutine16                                     6
     ?Subroutine15                                     7
     ?Subroutine57                                    10
     ?Subroutine51                                     4
     ??Subroutine71_0                                  6
     ?Subroutine50                                     4
     ??Subroutine72_0                                  6
     ?Subroutine52                                    12
     ?Subroutine47                                    24
     ?Subroutine46                                    15
     gizReportData                                   552
     gizDevReportPolicy                              225
     gizProtocolGetOnePacket                         448
     ?Subroutine41                                    10
     ?Subroutine35                                    12
     ?Subroutine13                                    20
     ?Subroutine31                                     7
     protocolFlag                                      1
     protocolCount                                     2
     lastData                                          1
     debugCount                                        1
     gizProtocolWaitAckCheck                          56
     gizProtocolCommonAck                            111
     ?Subroutine6                                      8
     ?Subroutine66                                     2
     ??Subroutine69_0                                  8
     gizProtocolGetDeviceInfo                        308
     ?Subroutine14                                    12
     ?Subroutine53                                    16
     gizProtocolErrorCmd                             116
     ?Subroutine17                                     7
     gizProtocolModuleStatus                         680
     ?Subroutine54                                    11
     ?Subroutine43                                     9
     ?Subroutine34                                     8
     ?Subroutine33                                     8
     ?Subroutine30                                    12
     ?Subroutine21                                     3
     ??Subroutine73_0                                  4
     ?Subroutine61                                    14
     ?Subroutine12                                    11
     ?Subroutine10                                     7
     ??Subroutine74_0                                  9
     ?Subroutine9                                      8
     ?Subroutine8                                     10
     ?Subroutine56                                    16
     ??Subroutine75_0                                  5
     lastStatus                                        2
     gizwitsInit                                      57
     gizwitsSetMode                                  156
     ?Subroutine7                                      3
     ?Subroutine19                                     9
     ?Subroutine18                                     7
     gizwitsGetNTP                                   121
     gizwitsHandle                                  1303
     ?Subroutine55                                     4
     ??Subroutine76_0                                  6
     ?Subroutine49                                    11
     ?Subroutine45                                    14
     ?Subroutine65                                     9
     ?Subroutine42                                     7
     ?Subroutine36                                    15
     ?Subroutine32                                     4
     ?Subroutine62                                    14
     ?Subroutine29                                    12
     ?Subroutine64                                    15
     ?Subroutine27                                    32
     ?Subroutine26                                    18
     ?Subroutine25                                    10
     ?Subroutine63                                    20
     ?Subroutine24                                    20
     ?Subroutine23                                    10
     ?Subroutine22                                     3
     ?Subroutine20                                     6
     nodeptr                                           2
     updatenodeptr                                     2
     gizwitsPassthroughData                          225
     ?Subroutine48                                    12
     ??rbCapacity?relay                                6
     ??rbCanRead?relay                                 6
     ??rbCanWrite?relay                                6
     ??rbRead?relay                                    6
     ??rbWrite?relay                                   6
     ??gizPutData?relay                                6
     ??gizProtocolSum?relay                            6
     ??gizProtocolExchangeBytes?relay                  6
     ??gizProtocolHeadInit?relay                       6
     ??gizProtocolWaitAck?relay                        6
     ??calculateDynamicBitPartLen?relay                6
     ??gizDataPoint2Event?relay                        6
     ??gizCheckReport?relay                            6
     ??gizDataPoints2ReportData?relay                  6
     ??gizProtocolIssuedProcess?relay                  6
     ??gizProtocolIssuedDataAck?relay                  6
     ??gizReportData?relay                             6
     ??gizDevReportPolicy?relay                        6
     ??gizProtocolGetOnePacket?relay                   6
     ??gizProtocolWaitAckCheck?relay                   6
     ??gizProtocolCommonAck?relay                      6
     ??gizProtocolGetDeviceInfo?relay                  6
     ??gizProtocolErrorCmd?relay                       6
     ??gizProtocolModuleStatus?relay                   6
     ??gizwitsInit?relay                               6
     ??gizwitsSetMode?relay                            6
     ??gizwitsGetNTP?relay                             6
     ??gizwitsHandle?relay                             6
     ??gizwitsPassthroughData?relay                    6
     ?<Constant "00000004">                            9
     ?<Constant "00000002">                            9
     ?<Constant "03010101">                            9
     ?<Constant "03010100">                            9
     ?<Constant "9a2f863df7f54635b4840...">           33
     ?<Constant "f06b9b5a07b74a12b2f42...">           33
     ?<Constant {48, 49, 50, 51, 52, 53, 54, 55, 56   16
     ?<Constant "\nD:">                                4
     ?<Constant "\r\n">                                3
     __Constant_2                                      4
     __Constant_1                                      4
     __Constant_ffffffff                               4
     __Constant_15                                     4
     __Constant_0                                      4
     __Constant_fffffff6                               4
     __Constant_927c0                                  4
     __Constant_9                                      4
     __Constant_73                                     4
     __Constant_a                                      4
     __Constant_7d1                                    4
     __Constant_14                                     4
     __Constant_259                                    4
     __Constant_ff00                                   4
     __Constant_b                                      4

 
 7 995 bytes in segment BANKED_CODE
   174 bytes in segment BANK_RELAYS
   185 bytes in segment XDATA_ROM_C
   327 bytes in segment XDATA_Z
 
 8 169 bytes of CODE  memory
   125 bytes of CONST memory (+ 60 bytes shared)
   327 bytes of XDATA memory

Errors: none
Warnings: 13
